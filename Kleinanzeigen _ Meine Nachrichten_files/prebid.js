/*! For license information please see prebid.js.LICENSE.txt */
(function(){var __webpack_modules__={13:function(e,t,n){"use strict";n.d(t,{AU:function(){return b},Ic:function(){return v},kQ:function(){return y},on:function(){return g}});var r=n(89),i=n(743),o=n(280),s=n(718);const a="eventHistoryTTL";let d=null;const c=(0,o.H)({monotonic:!0,ttl:()=>d});s.$W.getConfig(a,e=>{const t=d;e=e?.[a],d="number"==typeof e?1e3*e:null,t!==d&&c.refresh()});let u=Array.prototype.slice,p=Array.prototype.push,l=Object.values(i.qY);const f=i.cA,m=function(){let e={},t={};function n(e){return l.includes(e)}return t.has=n,t.on=function(t,i,o){if(n(t)){let n=e[t]||{que:[]};o?(n[o]=n[o]||{que:[]},n[o].que.push(i)):n.que.push(i),e[t]=n}else r.vV("Wrong event name : "+t+" Valid event names :"+l)},t.emit=function(t){!function(t,n){r.OG("Emitting event for: "+t);let i=n[0]||{},o=i[f[t]],s=e[t]||{que:[]};var a=Object.keys(s);let d=[];c.add({eventType:t,args:i,id:o,elapsedTime:r.V()}),o&&a.includes(o)&&p.apply(d,s[o].que),p.apply(d,s.que),(d||[]).forEach(function(e){if(e)try{e.apply(null,n)}catch(e){r.vV("Error executing handler:","events.js",e,t)}})}(t,u.call(arguments,1))},t.off=function(t,n,i){let o=e[t];r.Im(o)||r.Im(o.que)&&r.Im(o[i])||i&&(r.Im(o[i])||r.Im(o[i].que))||(i?(o[i].que||[]).forEach(function(e){let t=o[i].que;e===n&&t.splice(t.indexOf(e),1)}):(o.que||[]).forEach(function(e){let t=o.que;e===n&&t.splice(t.indexOf(e),1)}),e[t]=o)},t.get=function(){return e},t.addEvents=function(e){l=l.concat(e)},t.getEvents=function(){return c.toArray().map(e=>Object.assign({},e))},t}();r.cD(m.emit.bind(m));const{on:g,off:b,get:h,getEvents:y,emit:v,addEvents:_,has:I}=m},89:function(e,t,n){"use strict";n.d(t,{bu:function(){return ae},cD:function(){return w},El:function(){return nt},c$:function(){return Ke},Wz:function(){return le},GE:function(){return je},sC:function(){return Me},gR:function(){return de},hw:function(){return K},CA:function(){return Q},Tz:function(){return ge},PB:function(){return Ye},Go:function(){return Ee},U6:function(){return Pe},Bk:function(){return be},Bq:function(){return ye},eP:function(){return He},lk:function(){return k},u5:function(){return D},D4:function(){return ve},ZA:function(){return Ie},l9:function(){return Ne},SH:function(){return Ue},Ez:function(){return X},V:function(){return De},YI:function(){return x},s0:function(){return S},SB:function(){return qe},_W:function(){return _e},l4:function(){return M},mb:function(){return N},$z:function(){return Be},N9:function(){return Re},al:function(){return xe},_s:function(){return ce},ro:function(){return fe},SG:function(){return me},iC:function(){return ze},t1:function(){return Ae},cy:function(){return te},Uu:function(){return Ge},Lm:function(){return ie},Im:function(){return oe},xQ:function(){return se},fp:function(){return Z},II:function(){return we},Fq:function(){return Le},Et:function(){return ne},Qd:function(){return re},Vt:function(){return Te},O8:function(){return ee},wD:function(){return $e},vV:function(){return G},fH:function(){return L},OG:function(){return W},JE:function(){return V},Bj:function(){return et},D9:function(){return Xe},bL:function(){return R},kK:function(){return B},Dl:function(){return Je},Up:function(){return Ve},h0:function(){return F},ZU:function(){return Se},gM:function(){return Ce},$l:function(){return Ze},Bg:function(){return tt},k4:function(){return Oe},cf:function(){return $},y$:function(){return P},vE:function(){return ke},$D:function(){return j},z$:function(){return pe},hj:function(){return he},bz:function(){return We}});var r=n(718);function i(e){var t,n,r;if(Array.isArray(e)){for(n=Array(t=e.length);t--;)n[t]=(r=e[t])&&"object"==typeof r?i(r):r;return n}if("[object Object]"===Object.prototype.toString.call(e)){for(t in n={},e)"__proto__"===t?Object.defineProperty(n,t,{value:i(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=(r=e[t])&&"object"==typeof r?i(r):r;return n}return e}var o=n(455),s=n(743),a=n(469),d=n(831),c="String",u="Function",p="Number",l="Object",f="Boolean",m=Object.prototype.toString;let g,b=Boolean(window.console),h=Boolean(b&&window.console.log),y=Boolean(b&&window.console.info),v=Boolean(b&&window.console.warn),_=Boolean(b&&window.console.error);const I=(0,d.m)();function w(e){g=e}function A(...e){null!=g&&g(...e)}const O={checkCookieSupport:je,createTrackPixelIframeHtml:function(e,t=!0,n=""){return e?(t&&(e=encodeURI(e)),n&&(n=`sandbox="${n}"`),`<iframe ${n} id="${S()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`):""},getWindowSelf:M,getWindowTop:N,canAccessWindowTop:function(){try{if(O.getWindowTop().location.href)return!0}catch(e){return!1}},getWindowLocation:z,insertUserSyncIframe:me,insertElement:ce,isFn:Z,triggerPixel:pe,logError:G,logWarn:V,logMessage:W,logInfo:L,parseQS:Fe,formatQS:He,deepEqual:Qe};let E={};function x(){return E}var T,C=(T=0,function(){return++T});function S(){return C()+Math.random().toString(16).substr(2)}function k(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,k)}function D(e,t){return t?.[e]||""}function R(e){let t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t=t.replace(/&$/,""),t}function j(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map(t=>`${t}=${encodeURIComponent(e[t])}`).join("&"):""}function P(e){return"string"==typeof e?e.split(/\s*,\s*/).map(e=>e.match(/^(\d+)x(\d+)$/i)).filter(e=>e).map(([e,t,n])=>[parseInt(t,10),parseInt(n,10)]):Array.isArray(e)?q(e)?[e]:e.filter(q):[]}function B(e){return P(e).map(U)}function U(e){return e[0]+"x"+e[1]}function $(e){return{w:e[0],h:e[1]}}function q(e){return te(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function N(){return window.top}function M(){return window.self}function z(){return window.location}function W(){J()&&h&&console.log.apply(console,H(arguments,"MESSAGE:"))}function L(){J()&&y&&console.info.apply(console,H(arguments,"INFO:"))}function V(){J()&&v&&console.warn.apply(console,H(arguments,"WARNING:")),A(s.qY.AUCTION_DEBUG,{type:"WARNING",arguments})}function G(){J()&&_&&console.error.apply(console,H(arguments,"ERROR:")),A(s.qY.AUCTION_DEBUG,{type:"ERROR",arguments})}function F(e){function t(t){return function(...n){t(e,...n)}}return{logError:t(G),logWarn:t(V),logMessage:t(W),logInfo:t(L)}}function H(e,t){e=[].slice.call(e);let n=r.$W.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(n?`%c${n}`:"")),e;function i(e){return`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`}}function J(){return!!r.$W.getConfig("debug")}const K=(()=>{const e={border:"0px",hspace:"0",vspace:"0",marginWidth:"0",marginHeight:"0",scrolling:"no",frameBorder:"0",allowtransparency:"true"};return(t,n,r={})=>{const i=t.createElement("iframe");return Object.assign(i,Object.assign({},e,n)),Object.assign(i.style,r),i}})();function Q(){return K(document,{id:S(),width:0,height:0,src:"about:blank"},{display:"none",height:"0px",width:"0px",border:"0px"})}function X(e){return Fe(z().search)[e]||""}function Y(e,t){return m.call(e)==="[object "+t+"]"}function Z(e){return Y(e,u)}function ee(e){return Y(e,c)}const te=Array.isArray.bind(Array);function ne(e){return Y(e,p)}function re(e){return Y(e,l)}function ie(e){return Y(e,f)}function oe(e){return!e||(te(e)||ee(e)?!(e.length>0):Object.keys(e).length<=0)}function se(e){return ee(e)&&(!e||0===e.length)}function ae(e,t){if(Z(e?.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach(([e,n])=>t.call(this,n,e))}function de(e,t){return Z(e?.includes)&&e.includes(t)}function ce(e,t,n,r){let i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if(i=i.length?i:t.getElementsByTagName("body"),i.length){i=i[0];let t=r?null:i.firstChild;return i.insertBefore(e,t)}}catch(e){}}function ue(e,t){let n=null;return new a.k(r=>{const i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))})}function pe(e,t,n){const r=new Image;t&&O.isFn(t)&&ue(r,n).then(t),r.src=e}function le({source:e,burl:t}){e===s.RW.SRC&&t&&O.triggerPixel(t)}function fe(e){if(!e)return;const t=Q();var n;O.insertElement(t,document,"body"),(n=t.contentWindow.document).open(),n.write(e),n.close()}function me(e,t,n){let r=O.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;let o=i.firstChild;t&&O.isFn(t)&&ue(o,n).then(t),O.insertElement(o,document,"html",!0)}function ge(e,t=encodeURI){if(!e)return"";let n='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return n+='<img src="'+t(e)+'"></div>',n}function be(e){return Array.from(e.matchAll(/\$({[^}]+})/g)).map(e=>e[1]).reduce((e,t)=>e.replace("$"+encodeURIComponent(t),"$"+t),encodeURI(e))}function he(e,t,n){return n.indexOf(e)===t}function ye(e,t){return e.concat(t)}function ve(e,t){if(e)return t.flatMap(e=>e.bids).find(t=>["bidId","adId","bid_id"].some(n=>t[n]===e))}function _e(e,t){return e[t]}function Ie(e=I.adUnits){return e.map(e=>e.bids.map(e=>e.bidder).reduce(ye,[])).reduce(ye,[]).filter(e=>void 0!==e).filter(he)}function we(){if(window.googletag&&Z(window.googletag.pubads)&&Z(window.googletag.pubads().getSlots))return!0}function Ae(){if(window.apntag&&Z(window.apntag.getTag))return!0}function Oe(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--;let r=e[t];e[t]=e[n],e[n]=r}return e}function Ee(e){return i(e)||{}}function xe(){try{return O.getWindowSelf()!==O.getWindowTop()}catch(e){return!0}}function Te(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Ce(e,t){if(e)return Object.entries(t).reduce((e,[t,n])=>e.replace(new RegExp("\\$\\{"+t+"\\}","g"),n||""),e)}function Se(e,t){return Ce(e,{AUCTION_PRICE:t})}function ke(){return(new Date).getTime()}function De(){return window.performance&&window.performance.now&&window.performance.now()||0}function Re(){return!1!==r.$W.getConfig("deviceAccess")}function je(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Pe(e,t){if(t<1)throw new Error(`numRequiredCalls must be a positive number. Got ${t}`);let n=0;return function(){n++,n===t&&e.apply(this,arguments)}}function Be(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}function Ue(e,t){return t.filter(t=>e[t]).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{})}function $e(e){const t=["banner","native","video"];return!!Object.keys(e).every(e=>(0,o.mK)(t,e))&&(!e.video||!e.video.context||(0,o.mK)(["instream","outstream","adpod"],e.video.context))}function qe(e,t,n){return e.filter(e=>e.code===t).flatMap(e=>e.bids).filter(e=>e.bidder===n).map(e=>e.params||{})}function Ne(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}const Me=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function ze(e){return t=>Me(e,t)}function We(e,t){const n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return`\n    ${e.code} is a ${n} ad unit\n    containing bidders that don't support ${n}: ${t}.\n    This bidder won't fetch demand.\n  `}const Le=Number.isInteger.bind(Number);function Ve(e,t){return"object"!=typeof e?{}:t.reduce((n,r,i)=>{if("function"==typeof r)return n;let o=r,s=r.match(/^(.+?)\sas\s(.+?)$/i);s&&(r=s[1],o=s[2]);let a=e[r];return"function"==typeof t[i+1]&&(a=t[i+1](a,n)),void 0!==a&&(n[o]=a),n},{})}function Ge(e,t){return te(e)&&(!t||e.length===t)&&e.every(e=>Le(e))}function Fe(e){return e?e.replace(/^\?/,"").split("&").reduce((e,t)=>{let[n,r]=t.split("=");return/\[\]$/.test(n)?(n=n.replace("[]",""),e[n]=e[n]||[],e[n].push(r)):e[n]=r||"",e},{}):{}}function He(e){return Object.keys(e).map(t=>Array.isArray(e[t])?e[t].map(e=>`${t}[]=${e}`).join("&"):`${t}=${e[t]}`).join("&")}function Je(e,t){let n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);let r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:O.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function Ke(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?`:${e.port}`:""))+(e.pathname||"")+(e.search?`?${O.formatQS(e.search||"")}`:"")+(e.hash?`#${e.hash}`:"")}function Qe(e,t,{checkTypes:n=!1}={}){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||n&&e.constructor!==t.constructor)return!1;{const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let i of r){if(!t.hasOwnProperty(i))return!1;if(!Qe(e[i],t[i],{checkTypes:n}))return!1}return!0}}function Xe(e,...t){if(!t.length)return e;const n=t.shift();if(re(e)&&re(n))for(const t in n)re(n[t])?(e[t]||Object.assign(e,{[t]:{}}),Xe(e[t],n[t])):te(n[t])?e[t]?te(e[t])&&n[t].forEach(n=>{let r=1;for(let i=0;i<e[t].length;i++)if(Qe(e[t][i],n)){r=0;break}r&&e[t].push(n)}):Object.assign(e,{[t]:[...n[t]]}):Object.assign(e,{[t]:n[t]});return Xe(e,...t)}function Ye(e,t=0){let n=function(e,t){if(Z(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},r=3735928559^t,i=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),r=n(r^t,2654435761),i=n(i^t,1597334677);return r=n(r^r>>>16,2246822507)^n(i^i>>>13,3266489909),i=n(i^i>>>16,2246822507)^n(r^r>>>13,3266489909),(4294967296*(2097151&i)+(r>>>0)).toString()}function Ze(e){try{return JSON.parse(e)}catch(e){}}function et(e,t=function(e){return e}){const n=new Map,r=function(){const r=t.apply(this,arguments);return n.has(r)||n.set(r,e.apply(this,arguments)),n.get(r)};return r.clear=n.clear.bind(n),r}function tt(e,t){Object.entries(t).forEach(([t,n])=>e.setAttribute(t,n))}function nt(e,t,n=e=>e){let r=0,i=e.length&&e.length-1;const o=n(t);for(;i-r>1;){const t=r+Math.round((i-r)/2);o>n(e[t])?r=t:i=t}for(;e.length>r&&o>n(e[r]);)r++;return r}},127:function(e,t,n){"use strict";n.d(t,{j:function(){return l},q:function(){return m}});var r=n(455),i=n(89),o=n(718);const s=2,a={buckets:[{max:5,increment:.5}]},d={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},u={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},p={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t,n=1){let r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":f(e,a,n),med:""===r?"":f(e,d,n),high:""===r?"":f(e,c,n),auto:""===r?"":f(e,p,n),dense:""===r?"":f(e,u,n),custom:""===r?"":f(e,t,n)}}function f(e,t,n){let a="";if(!m(t))return a;const d=t.buckets.reduce((e,t)=>e.max>t.max?e:t,{max:0});let c=0,u=(0,r.I6)(t.buckets,t=>{if(e>d.max*n){let e=t.precision;void 0===e&&(e=s),a=(t.max*n).toFixed(e)}else{if(e<=t.max*n&&e>=c*n)return t.min=c,t;c=t.max}});return u&&(a=function(e,t,n){const r=void 0!==t.precision?t.precision:s,a=t.increment*n,d=t.min*n;let c=Math.floor,u=o.$W.getConfig("cpmRoundingFunction");"function"==typeof u&&(c=u);let p,l,f=Math.pow(10,r+2),m=(e*f-d*f)/(a*f);try{p=c(m)*a+d}catch(e){l=!0}return(l||"number"!=typeof p)&&((0,i.JE)("Invalid rounding function passed in config"),p=Math.floor(m)*a+d),p=Number(p.toFixed(10)),p.toFixed(r)}(e,u,n)),a}function m(e){if((0,i.Im)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach(e=>{e.max&&e.increment||(t=!1)}),t}},128:function(e,t,n){"use strict";n.d(t,{CK:function(){return h},X0:function(){return f},qk:function(){return l},s0:function(){return m},vM:function(){return b}});var r=n(89),i=n(447),o=n(883),s=n(253),a=n(642),d=n(973),c=n(718),u=n(807),p=n(575);const l="html5",f="cookie";let m=[];function g({moduleName:e,moduleType:t}={},{isAllowed:n=s.io}={}){function i(r,i){let s=e;const l=c.$W.getCurrentBidder();return l&&t===o.tW&&u.Ay.aliasRegistry[l]===e&&(s=l),r({valid:n(d.Ue,(0,p.s)(t,s,{[a.Zw]:i}))})}function g(e,t,n){if(!n||"function"!=typeof n)return i(e,t);m.push(function(){let r=i(e,t);n(r)})}const b=function(e){return g(function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,r.vV)("Local storage api disabled")}return!1},l,e)};return{setCookie:function(e,t,n,r,i,o){return g(function(o){if(o&&o.valid){const o=i&&""!==i?` ;domain=${encodeURIComponent(i)}`:"",s=n&&""!==n?` ;expires=${n}`:"",a=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${s}; path=/${o}${r?`; SameSite=${r}`:""}${a}`}},f,o)},getCookie:function(e,t){return g(function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null},f,t)},localStorageIsEnabled:function(e){return g(function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1},l,e)},cookiesAreEnabled:function(e){return g(function(e){return!(!e||!e.valid)&&(0,r.GE)()},f,e)},setDataInLocalStorage:function(e,t,n){return g(function(n){n&&n.valid&&b()&&window.localStorage.setItem(e,t)},l,n)},getDataFromLocalStorage:function(e,t){return g(function(t){return t&&t.valid&&b()?window.localStorage.getItem(e):null},l,t)},removeDataFromLocalStorage:function(e,t){return g(function(t){t&&t.valid&&b()&&window.localStorage.removeItem(e)},l,t)},hasLocalStorage:b,findSimilarCookies:function(e,t){return g(function(t){if(t&&t.valid){const t=[];if((0,r.N9)()){const n=document.cookie.split(";");for(;n.length;){const r=n.pop();let i=r.indexOf("=");i=i<0?r.length:i,decodeURIComponent(r.slice(0,i).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(r.slice(i+1)))}}return t}},f,t)}}}function b({moduleType:e,moduleName:t,bidderCode:n}={}){function r(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return n?((e&&e!==o.tW||t)&&r(),e=o.tW,t=n):t&&e||r(),g({moduleType:e,moduleName:t})}function h(e){return g({moduleName:e,moduleType:o.tp})}(0,s.qB)(d.Ue,"deviceAccess config",function(){if(!(0,r.N9)())return{allow:!1}}),(0,s.qB)(d.Ue,"bidderSettings.*.storageAllowed",function(e,t=i.u){if(e[a.Dk]!==o.tW)return;let n=t.get(e[a.q7],"storageAllowed");if(n&&!0!==n){const t=e[a.Zw];n=Array.isArray(n)?n.some(e=>e===t):n===t}else n=!!n;return n?void 0:{allow:n}})},149:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(i/16),s=new Array(o),a=0;a<o;a++){s[a]=new Array(16);for(var d=0;d<16;d++)s[a][d]=t.charCodeAt(64*a+4*d)<<24|t.charCodeAt(64*a+4*d+1)<<16|t.charCodeAt(64*a+4*d+2)<<8|t.charCodeAt(64*a+4*d+3)}var c=8*(t.length-1)/Math.pow(2,32),u=8*(t.length-1)>>>0;for(s[o-1][14]=Math.floor(c),s[o-1][15]=u,a=0;a<o;a++){for(var p=new Array(64),l=0;l<16;l++)p[l]=s[a][l];for(l=16;l<64;l++)p[l]=e.q1(p[l-2])+p[l-7]+e.q0(p[l-15])+p[l-16]>>>0;var f=r[0],m=r[1],g=r[2],b=r[3],h=r[4],y=r[5],v=r[6],_=r[7];for(l=0;l<64;l++){var I=_+e.z1(h)+e.Ch(h,y,v)+n[l]+p[l],w=e.z0(f)+e.Maj(f,m,g);_=v,v=y,y=h,h=b+I>>>0,b=g,g=m,m=f,f=I+w>>>0}r[0]=r[0]+f>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+h>>>0,r[5]=r[5]+y>>>0,r[6]=r[6]+v>>>0,r[7]=r[7]+_>>>0}var A=new Array(r.length);for(_=0;_<r.length;_++)A[_]=("00000000"+r[_].toString(16)).slice(-8);return A.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce(function(e,t){return e+String.fromCharCode(t)},"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,n){return e&t^~e&n},e.Maj=function(e,t,n){return e&t^e&n^t&n},e}();t.Sha256=n},233:function(e,t,n){"use strict";n.d(t,{D4:function(){return o},G_:function(){return i},LM:function(){return s},s6:function(){return r}});const r="native",i="video",o="banner",s="adpod"},253:function(e,t,n){"use strict";n.d(t,{io:function(){return s},qB:function(){return o}});var r=n(89),i=n(642);const[o,s]=function(e=(0,r.h0)("Activity control:")){const t={};function n(e){return t[e]=t[e]||[]}function o(t,n,r,o){let s;try{s=r(o)}catch(r){e.logError(`Exception in rule ${n} for '${t}'`,r),s={allow:!1,reason:r}}return s&&Object.assign({activity:t,name:n,component:o[i.Ii]},s)}const s={};function a({activity:t,name:n,allow:r,reason:i,component:o}){const a=`${n} ${r?"allowed":"denied"} '${t}' for '${o}'${i?":":""}`,d=s.hasOwnProperty(a);if(d&&clearTimeout(s[a]),s[a]=setTimeout(()=>delete s[a],1e3),!d){const t=[a];i&&t.push(i),(r?e.logInfo:e.logWarn).apply(e,t)}}return[function(e,t,r,i=10){const o=n(e),s=o.findIndex(([e])=>i<e),a=[i,t,r];return o.splice(s<0?o.length:s,0,a),function(){const e=o.indexOf(a);e>=0&&o.splice(e,1)}},function(e,t){let r,i;for(const[s,d,c]of n(e)){if(r!==s&&i)break;r=s;const n=o(e,d,c,t);if(n){if(!n.allow)return a(n),!1;i=n}}return i&&a(i),!0}]}()},280:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(469),i=n(89);function o({startTime:e=i.vE,ttl:t=()=>null,monotonic:n=!1,slack:o=5e3}={}){const s=new Map,a=[],d=[],c=n?e=>d.push(e):e=>d.splice((0,i.El)(d,e,e=>e.expiry),0,e);let u,p;function l(){if(p&&clearTimeout(p),d.length>0){const e=(0,i.vE)();u=Math.max(e,d[0].expiry+o),p=setTimeout(()=>{const e=(0,i.vE)();let t=0;for(const n of d){if(n.expiry>e)break;a.forEach(e=>{try{e(n.item)}catch(e){(0,i.vV)(e)}}),s.delete(n.item),t++}d.splice(0,t),p=null,l()},u-e)}else p=null}let f={};return{[Symbol.iterator]:()=>s.keys(),add(n){!s.has(n)&&s.set(n,function(n){const i={},s=f;let a;const[d,m]=Object.entries({start:e,delta:t}).map(([e,t])=>{let d;return function(){const m=d={};r.k.resolve(t(n)).then(t=>{m===d&&(i[e]=t,s===f&&null!=i.start&&null!=i.delta&&(a=i.start+i.delta,c(g),(null==p||u>a+o)&&l()))})}}),g={item:n,refresh:m,get expiry(){return a}};return d(),m(),g}(n))},clear(){d.length=0,l(),s.clear(),f={}},toArray:()=>Array.from(s.keys()),refresh(){d.length=0,l();for(const e of s.values())e.refresh()},onExpiry:e=>(a.push(e),()=>{const t=a.indexOf(e);t>=0&&a.splice(t,1)})}}},286:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(455),i=n(89);const o=new WeakMap,s=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","azerionedge","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","mediafilter","qortex","dynamicAdBoost","contxtful","id5","51Degrees"];function a(e,t,n,a,d){if(!t||!e)return void(0,i.vV)("cannot load external script without url and moduleCode");if(!(0,r.mK)(s,t))return void(0,i.vV)(`${t} not whitelisted for loading external JavaScript`);a||(a=document);const c=l(a,e);if(c)return n&&"function"==typeof n&&(c.loaded?n():c.callbacks.push(n)),c.tag;const u=o.get(a)||{},p={loaded:!1,tag:null,callbacks:[]};return u[e]=p,o.set(a,u),n&&"function"==typeof n&&p.callbacks.push(n),(0,i.JE)(`module ${t} is loading external JavaScript`),function(t,n,r,o){r||(r=document);var s=r.createElement("script");s.type="text/javascript",s.async=!0;const a=l(r,e);return a&&(a.tag=s),s.readyState?s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||(s.onreadystatechange=null,n())}:s.onload=function(){n()},s.src=t,o&&(0,i.Bg)(s,o),(0,i._s)(s,r),s}(e,function(){p.loaded=!0;try{for(let e=0;e<p.callbacks.length;e++)p.callbacks[e]()}catch(e){(0,i.vV)("Error executing callback","adloader.js:loadExternalScript",e)}},a,d);function l(e,t){const n=o.get(e);return n&&n[t]?n[t]:null}}},330:function(e,t,n){"use strict";n.d(t,{RD:function(){return l},g4:function(){return p},hd:function(){return f}});var r=n(718),i=n(89);const o={fetch:window.fetch.bind(window),makeRequest:(e,t)=>new Request(e,t),timeout(e,t){const n=new AbortController;let r=setTimeout(()=>{n.abort(),(0,i.vV)(`Request timeout after ${e}ms`,t),r=null},e);return{signal:n.signal,done(){r&&clearTimeout(r)}}}},s="GET",a="POST",d="Content-Type";function c(e=3e3,{request:t,done:n}={}){let i=(t,n)=>{let i;null==e||null!=n?.signal||r.$W.getConfig("disableAjaxTimeout")||(i=o.timeout(e,t),n=Object.assign({signal:i.signal},n));let s=o.fetch(t,n);return null!=i?.done&&(s=s.finally(i.done)),s};return null==t&&null==n||(i=(e=>function(r,i){const o=new URL(null==r?.url?r:r.url,document.location).origin;let s=e(r,i);return t&&t(o),n&&(s=s.finally(()=>n(o))),s})(i)),i}function u({status:e,statusText:t="",headers:n,url:r},o){let s=0;function a(e){if(0===s)try{s=(new DOMParser).parseFromString(o,n?.get(d)?.split(";")?.[0])}catch(t){s=null,e&&e(t)}return s}return{readyState:XMLHttpRequest.DONE,status:e,statusText:t,responseText:o,response:o,responseType:"",responseURL:r,get responseXML(){return a(i.vV)},getResponseHeader:e=>n?.has(e)?n.get(e):null,toJSON(){return Object.assign({responseXML:a()},this)},timedOut:!1}}function p(e=3e3,{request:t,done:n}={}){const r=c(e,{request:t,done:n});return function(e,t,n,c={}){!function(e,t){const{success:n,error:r}="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:()=>null,error:(e,t)=>(0,i.vV)("Network error",e,t)};e.then(e=>e.text().then(t=>[e,t])).then(([e,t])=>{const i=u(e,t);e.ok||304===e.status?n(t,i):r(e.statusText,i)},e=>r("",Object.assign(u({status:0},""),{reason:e,timedOut:"AbortError"===e?.name})))}(r(function(e,t,n={}){const r=n.method||(t?a:s);if(r===s&&t){const r=(0,i.Dl)(e,n);Object.assign(r.search,t),e=(0,i.c$)(r)}const c=new Headers(n.customHeaders);c.set(d,n.contentType||"text/plain");const u={method:r,headers:c};return r!==s&&t&&(u.body=t),n.withCredentials&&(u.credentials="include"),n.browsingTopics&&isSecureContext&&(u.browsingTopics=!0),n.keepalive&&(u.keepalive=!0),o.makeRequest(e,u)}(e,n,c)),t)}}const l=p(),f=c()},389:function(e,t,n){"use strict";n.d(t,{L:function(){return a},u:function(){return d}});var r=n(718),i=n(89);let o=1;const s=[];function a(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:o)}function d(e){s.push(e)}r.$W.getConfig("ttlBuffer",e=>{if("number"==typeof e.ttlBuffer){const t=o;o=e.ttlBuffer,t!==o&&s.forEach(e=>e(o))}else(0,i.vV)("Invalid value for ttlBuffer",e.ttlBuffer)})},428:function(e,t,n){"use strict";n.d(t,{n:function(){return ee}});var r=n(89),i=n(433),o=n(127),s=n(787),a=n(330),d=n(718);function c(e,{index:t=ee.index}={}){const n=e.vastXml?e.vastXml:`<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${e.vastUrl}]]></VASTAdTagURI>\n        ${(r=(r=e.vastImpUrl)&&(Array.isArray(r)?r:[r]))?r.map(e=>`<Impression><![CDATA[${e}]]></Impression>`).join(""):""}\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>`;var r;const i=t.getAuction(e);let o={type:"xml",value:n,ttlseconds:Number(e.ttl)+15};return d.$W.getConfig("cache.vasttrack")&&(o.bidder=e.bidder,o.bidid=e.requestId,o.aid=e.auctionId),null!=i&&(o.timestamp=i.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}var u=n(487),p=n(588),l=n(439),f=n(455),m=n(781),g=n(233),b=n(447),h=n(13),y=n(807),v=n(743),_=n(469),I=n(992),w=n(831);const{syncUsers:A}=p.zt,O="completed";h.on(v.qY.BID_ADJUSTMENT,function(e){!function(e){let t=function(e,t,n,{index:i=ee.index,bs:o=b.u}={}){n=n||i.getBidRequest(t);const s=t?.adapterCode,a=t?.bidderCode||n?.bidder,d=o.get(t?.adapterCode,"adjustAlternateBids"),c=o.getOwn(a,"bidCpmAdjustment")||o.get(d?s:a,"bidCpmAdjustment");if(c&&"function"==typeof c)try{return c(e,Object.assign({},t),n)}catch(e){(0,r.vV)("Error during bid adjustment",e)}return e}(e.cpm,e);t>=0&&(e.cpm=t)}(e)});const E={},x={},T=[],C=(0,w.m)();function S({adUnits:e,adUnitCodes:t,callback:n,cbTimeout:a,labels:c,auctionId:p,ortb2Fragments:l,metrics:b}){b=(0,I.BO)(b);const w=e,S=c,B=t,U=p||(0,r.lk)(),$=a,q=new Set,z=(0,_.v)();let W,L,V,G,F=[],H=n,J=[],Q=[],X=[],Y=[],Z=[];function te(){return{auctionId:U,timestamp:W,auctionEnd:L,auctionStatus:G,adUnits:w,adUnitCodes:B,labels:S,bidderRequests:J,noBids:X,bidsReceived:Q,bidsRejected:F,winningBids:Y,timeout:$,metrics:b,seatNonBids:Z}}function ne(t){if(t?h.Ic(v.qY.AUCTION_TIMEOUT,te()):clearTimeout(V),void 0===L){let n=[];t&&((0,r.OG)(`Auction ${U} timedOut`),n=J.filter(e=>!q.has(e.bidderRequestId)).flatMap(e=>e.bids),n.length&&h.Ic(v.qY.BID_TIMEOUT,n)),G=O,L=Date.now(),b.checkpoint("auctionEnd"),b.timeBetween("requestBids","auctionEnd","requestBids.total"),b.timeBetween("callBids","auctionEnd","requestBids.callBids"),z.resolve(),h.Ic(v.qY.AUCTION_END,te()),j(w,function(){try{if(null!=H){const e=Q.filter(e=>B.includes(e.adUnitCode)).reduce(K,{});H.apply(C,[e,t,U]),H=null}}catch(e){(0,r.vV)("Error executing bidsBackHandler",null,e)}finally{n.length&&y.Ay.callTimedOutBidders(e,n,$);let t=d.$W.getConfig("userSync")||{};t.enableOverride||A(t.syncDelay)}})}}function re(){d.$W.resetBidder(),(0,r.fH)(`Bids Received for Auction with id: ${U}`,Q),G=O,ne(!1)}function ie(e){q.add(e)}function oe(e){e.forEach(e=>{var t;t=e,J=J.concat(t)});let t={},n={bidRequests:e,run:()=>{V=setTimeout(()=>ne(!0),$),G="inProgress",h.Ic(v.qY.AUCTION_INIT,te());let n=function(e,t,{index:n=ee.index}={}){let a=0,c=!1,p=new Set,l={};function b(){a--,c&&0===a&&e()}function y(e,t,n){return l[t.requestId]=!0,function(e,t,{index:n=ee.index}={}){const i=n.getBidderRequest(e),o=n.getAdUnit(e),s=i&&i.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,r.vE)(),requestTimestamp:e.requestTimestamp||s,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=o?.ttlBuffer&&(e.ttlBuffer=o.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),a++,n(b)}function I(e,a){y(e,a,e=>{let c=function(e,{index:t=ee.index}={}){h.Ic(v.qY.BID_ADJUSTMENT,e);const n=t.getBidRequest(e)?.renderer||t.getAdUnit(e).renderer,r=e.mediaType,i=t.getMediaTypes(e),s=i&&i[r];var a=s&&s.renderer,c=null;a&&a.url&&a.render&&(!0!==a.backupOnly||!e.renderer)?c=a:n&&n.url&&n.render&&(!0!==n.backupOnly||!e.renderer)&&(c=n),c&&(e.renderer=u.A4.install({url:c.url,config:c.options}),e.renderer.setRender(c.render));const p=M(e.mediaType,i,d.$W.getConfig("mediaTypePriceGranularity")),l=(0,o.j)(e.cpm,"object"==typeof p?p:d.$W.getConfig("customPriceBucket"),d.$W.getConfig("currency.granularityMultiplier"));return e.pbLg=l.low,e.pbMg=l.med,e.pbHg=l.high,e.pbAg=l.auto,e.pbDg=l.dense,e.pbCg=l.custom,e}(a);h.Ic(v.qY.BID_ACCEPTED,c),c.mediaType===g.G_?function(e,t,n,{index:o=ee.index}={}){let s=!0;const a=(0,i.A)(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,adUnitId:t.adUnitId}),"video"),c=a&&(0,i.A)(a,"context"),u=a&&(0,i.A)(a,"useCacheKey");d.$W.getConfig("cache.url")&&(u||c!==m.H6)&&(!t.videoCacheKey||d.$W.getConfig("cache.ignoreBidderCacheKey")?(s=!1,N(e,t,n,a)):t.vastUrl||((0,r.vV)("videoCacheKey specified but not required vastUrl for video bid"),s=!1)),s&&(P(e,t),n())}(t,c,e):((0,s.l6)(c)&&(0,s.gs)(c,n.getAdUnit(c)),P(t,c),e())})}function w(e,n,i){return y(e,n,e=>{n.rejectionReason=i,(0,r.JE)(`Bid from ${n.bidder||"unknown bidder"} was rejected: ${i}`,n),h.Ic(v.qY.BID_REJECTED,n),t.addBidRejected(n),e()})}function A(){let n=t.getBidRequests();const i=d.$W.getConfig("auctionOptions");if(p.add(this),i&&!(0,r.Im)(i)){const e=i.secondaryBidders;e&&!n.every(t=>(0,f.mK)(e,t.bidderCode))&&(n=n.filter(t=>!(0,f.mK)(e,t.bidderCode)))}c=n.every(e=>p.has(e)),this.bids.forEach(e=>{l[e.bidId]||(t.addNoBid(e),h.Ic(v.qY.NO_BID,e))}),c&&0===a&&e()}return{addBidResponse:function(){function e(e,t){k.call({dispatch:I},e,t,(()=>{let n=!1;return r=>{n||(w(e,t,r),n=!0)}})())}return e.reject=w,e}(),adapterDone:function(){D(_.k.resolve()).finally(()=>A.call(this))}}}(re,this);y.Ay.callBids(w,e,n.addBidResponse,n.adapterDone,{request(e,n){c(E,n),c(t,e),x[e]||(x[e]={SRA:!0,origin:n}),t[e]>1&&(x[e].SRA=!1)},done(e){E[e]--,T[0]&&a(T[0])&&T.shift()}},$,ie,l)}};function a(e){let t=!0,n=d.$W.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(e=>{let r=1,i=void 0!==e.src&&e.src===v.RW.SRC?"s2s":e.bidderCode;return x[i]&&(!1===x[i].SRA&&(r=Math.min(e.bids.length,n)),E[x[i].origin]+r>n&&(t=!1)),!t}),t&&e.run(),t}function c(e,t){void 0===e[t]?e[t]=1:e[t]++}a(n)||((0,r.JE)("queueing auction due to limited endpoint capacity"),T.push(n))}return h.on(v.qY.SEAT_NON_BID,e=>{var t;e.auctionId===U&&(t=e.seatnonbid,Z=Z.concat(t))}),{addBidReceived:function(e){Q=Q.concat(e)},addBidRejected:function(e){F=F.concat(e)},addNoBid:function(e){X=X.concat(e)},callBids:function(){G="started",W=Date.now();let e=b.measureTime("requestBids.makeRequests",()=>y.Ay.makeBidRequests(w,W,U,$,S,l,b));(0,r.fH)(`Bids Requested for Auction with id: ${U}`,e),b.checkpoint("callBids"),e.length<1?((0,r.JE)("No valid bid requests returned for auction"),re()):R.call({dispatch:oe,context:this},e)},addWinningBid:function(t){const n=e.find(e=>e.adUnitId===t.adUnitId);Y=Y.concat(t),(0,r.Wz)(t),y.Ay.callBidWonBidder(t.adapterCode||t.bidder,t,e),n&&!n.deferBilling&&y.Ay.callBidBillableBidder(t)},setBidTargeting:function(e){y.Ay.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>Y,getAuctionStart:()=>W,getAuctionEnd:()=>L,getTimeout:()=>$,getAuctionId:()=>U,getAuctionStatus:()=>G,getAdUnits:()=>w,getAdUnitCodes:()=>B,getBidRequests:()=>J,getBidsReceived:()=>Q,getNoBids:()=>X,getNonBids:()=>Z,getFPD:()=>l,getMetrics:()=>b,end:z.promise}}const k=(0,l.A_)("sync",function(e,t,n){!function(e){const t=d.$W.getConfig("maxBid");return!t||!e.cpm||t>=Number(e.cpm)}(t)?n(v.Tf.PRICE_TOO_HIGH):this.dispatch.call(null,e,t)},"addBidResponse"),D=(0,l.A_)("sync",e=>e,"responsesReady"),R=(0,l.A_)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests"),j=(0,l.A_)("async",function(e,t){t&&t()},"bidsBackCallback");function P(e,t){!function(e){let t;const n=!0===b.u.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t,{index:n=ee.index}={}){if(!t)return{};const r=n.getBidRequest(t);var i={};return J(i,H(t.mediaType,e),t,r),e&&b.u.getOwn(e,v.iD.ADSERVER_TARGETING)&&(J(i,b.u.ownSettingsFor(e),t,r),t.sendStandardTargeting=b.u.get(e,"sendStandardTargeting")),t.native&&(i=Object.assign({},i,(0,s.Zj)(t))),i}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,I.BO)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),h.Ic(v.qY.BID_RESPONSE,t)}const B=e=>{!function(e,t,n=a.g4){const r={puts:e.map(c)};n(d.$W.getConfig("cache.timeout"))(d.$W.getConfig("cache.url"),function(e){return{success:function(t){let n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(n)}`),[])}}}(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}(e.map(e=>e.bidResponse),function(t,n){n.forEach((n,i)=>{const{auctionInstance:o,bidResponse:s,afterBidAdded:a}=e[i];var c;t?(0,r.JE)(`Failed to save to the video cache: ${t}. Video bid must be discarded.`):""===n.uuid?(0,r.JE)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(s.videoCacheKey=n.uuid,s.vastUrl||(s.vastUrl=(c=s.videoCacheKey,`${d.$W.getConfig("cache.url")}?uuid=${c}`)),P(o,s),a())})})};let U,$;d.$W.getConfig("cache",e=>{U="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,$="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0});const q=((e=setTimeout,t=B)=>{let n=[[]],r=!1;const i=e=>e();return function(o,s,a){const d=$>0?e:i;n[n.length-1].length>=U&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:s,afterBidAdded:a}),r||(r=!0,d(()=>{n.forEach(t),n=[[]],r=!1},$))}})(),N=(0,l.A_)("async",function(e,t,n,r){q(e,t,n)},"callPrebidCache");function M(e,t,n){if(e&&n){if(e===g.G_){const e=(0,i.A)(t,`${g.G_}.context`,"instream");if(n[`${g.G_}-${e}`])return n[`${g.G_}-${e}`]}return n[e]}}const z=e=>t=>{const n=e||((e,{index:t=ee.index}={})=>{const n=M(e.mediaType,t.getMediaTypes(e),d.$W.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&n?"string"==typeof n?n:"custom":d.$W.getConfig("priceGranularity")})(t);return n===v.UE.AUTO?t.pbAg:n===v.UE.DENSE?t.pbDg:n===v.UE.LOW?t.pbLg:n===v.UE.MEDIUM?t.pbMg:n===v.UE.HIGH?t.pbHg:n===v.UE.CUSTOM?t.pbCg:void 0},W=()=>e=>e.creativeId?e.creativeId:"",L=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"",V=()=>e=>e.meta&&(e.meta.networkId||e.meta.networkName)?(0,i.A)(e,"meta.networkName")||(0,i.A)(e,"meta.networkId"):"",G=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function F(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return(0,r._W)(e,t)}}}function H(e,t){const n=Object.assign({},b.u.settingsFor(null));if(n[v.iD.ADSERVER_TARGETING]||(n[v.iD.ADSERVER_TARGETING]=[F(v.xS.BIDDER,"bidderCode"),F(v.xS.AD_ID,"adId"),F(v.xS.PRICE_BUCKET,z()),F(v.xS.SIZE,"size"),F(v.xS.DEAL,"dealId"),F(v.xS.SOURCE,"source"),F(v.xS.FORMAT,"mediaType"),F(v.xS.ADOMAIN,L()),F(v.xS.ACAT,G()),F(v.xS.DSP,V()),F(v.xS.CRID,W())]),"video"===e){const e=n[v.iD.ADSERVER_TARGETING].slice();if(n[v.iD.ADSERVER_TARGETING]=e,[v.xS.UUID,v.xS.CACHE_ID].forEach(t=>{void 0===(0,f.I6)(e,e=>e.key===t)&&e.push(F(t,"videoCacheKey"))}),d.$W.getConfig("cache.url")&&(!t||!1!==b.u.get(t,"sendStandardTargeting"))){const t=(0,r.Dl)(d.$W.getConfig("cache.url"));void 0===(0,f.I6)(e,e=>e.key===v.xS.CACHE_HOST)&&e.push(F(v.xS.CACHE_HOST,function(e){return(0,i.A)(e,`adserverTargeting.${v.xS.CACHE_HOST}`)?e.adserverTargeting[v.xS.CACHE_HOST]:t.hostname}))}}return n}function J(e,t,n,i){var o=t[v.iD.ADSERVER_TARGETING];return n.size=n.getSize(),(o||[]).forEach(function(o){var s=o.key,a=o.val;if(e[s]&&(0,r.JE)("The key: "+s+" is being overwritten"),(0,r.fp)(a))try{a=a(n,i)}catch(e){(0,r.vV)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&s!==v.xS.DEAL&&s!==v.xS.ACAT&&s!==v.xS.DSP&&s!==v.xS.CRID||!(0,r.xQ)(a)&&null!=a?e[s]=a:(0,r.fH)("suppressing empty key '"+s+"' from adserver targeting")}),e}function K(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function Q(e){Object.assign(this,{getAuction({auctionId:t}){if(null!=t)return e().find(e=>e.getAuctionId()===t)},getAdUnit({adUnitId:t}){if(null!=t)return e().flatMap(e=>e.getAdUnits()).find(e=>e.adUnitId===t)},getMediaTypes({adUnitId:e,requestId:t}){if(null!=t){const n=this.getBidRequest({requestId:t});if(null!=n&&(null==e||n.adUnitId===e))return n.mediaTypes}else if(null!=e){const t=this.getAdUnit({adUnitId:e});if(null!=t)return t.mediaTypes}},getBidderRequest({requestId:t,bidderRequestId:n}){if(null!=t||null!=n){let r=e().flatMap(e=>e.getBidRequests());return null!=n&&(r=r.filter(e=>e.bidderRequestId===n)),null==t?r[0]:r.find(e=>e.bids&&null!=e.bids.find(e=>e.bidId===t))}},getBidRequest({requestId:t}){if(null!=t)return e().flatMap(e=>e.getBidRequests()).flatMap(e=>e.bids).find(e=>e&&e.bidId===t)}})}var X=n(280),Y=n(389);const Z="minBidCacheTTL",ee=function(){let e=null;const t=(0,X.H)({startTime:e=>e.end.then(()=>e.getAuctionEnd()),ttl:t=>null==e?null:t.end.then(()=>1e3*Math.max(e,...t.getBidsReceived().map(Y.L)))});(0,Y.u)(()=>{null!=e&&t.refresh()}),d.$W.getConfig(Z,n=>{const r=e;e=n?.[Z],e="number"==typeof e?e:null,r!==e&&t.refresh()});const n={onExpiry:t.onExpiry};function i(e){for(const n of t)if(n.getAuctionId()===e)return n}function o(){return t.toArray().flatMap(e=>e.getBidsReceived())}return n.addWinningBid=function(e){const t=(0,I.BO)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");const n=i(e.auctionId);n?(e.status=v.tl.RENDERED,n.addWinningBid(e)):(0,r.JE)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:e=>e.getAuctionStatus()===O},getAdUnitCodes:{post:r.hj}}).forEach(([e,{name:r=e,pre:i,post:o}])=>{const s=null==i?e=>e[r]():e=>i(e)?e[r]():[],a=null==o?e=>e:e=>e.filter(o);n[e]=()=>a(t.toArray().flatMap(s))}),n.getAllBidsForAdUnitCode=function(e){return o().filter(t=>t&&t.adUnitCode===e)},n.createAuction=function(e){const n=S(e);return function(e){t.add(e)}(n),n},n.findBidByAdId=function(e){return o().find(t=>t.adId===e)},n.getStandardBidderAdServerTargeting=function(){return H()[v.iD.ADSERVER_TARGETING]},n.setStatusForBids=function(e,t){let r=n.findBidByAdId(e);if(r&&(r.status=t),r&&t===v.tl.BID_TARGETING_SET){const e=i(r.auctionId);e&&e.setBidTargeting(r)}},n.getLastAuctionId=function(){const e=t.toArray();return e.length&&e[e.length-1].getAuctionId()},n.clearAllAuctions=function(){t.clear()},n.index=new Q(()=>t.toArray()),n}()},433:function(e,t,n){"use strict";function r(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}n.d(t,{A:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{A_:function(){return s},Gc:function(){return d},Y6:function(){return f},Yn:function(){return c},bz:function(){return l},xG:function(){return p}});var r=n(747),i=n.n(r),o=n(469);let s=i()({ready:i().SYNC|i().ASYNC|i().QUEUE});const a=(0,o.v)();s.ready=(()=>{const e=s.ready;return function(){try{return e.apply(s,arguments)}finally{a.resolve()}}})();const d=a.promise,c=s.get,u={};function p(e,t,{postInstallAllowed:n=!1}={}){s("async",function(r){r.forEach(e=>t(...e)),n&&(u[e]=t)},e)([])}function l(e,...t){const n=u[e];if(n)return n(...t);c(e).before((e,n)=>{n.push(t),e(n)})}function f(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map(t=>[t,{get:()=>e[t]}]))),t}},447:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(433),i=n(89),o=n(831),s=n(743);function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var d=new WeakSet;function c(e){return null==e?this.defaultScope:e}const u=new class{constructor(e,t){var n;(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(this,n=d),n.add(this),this.getSettings=e,this.defaultScope=t}get(e,t){let n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}getOwn(e,t){return e=a(d,this,c).call(this,e),(0,r.A)(this.getSettings(),`${e}.${t}`)}getScopes(){return Object.keys(this.getSettings()).filter(e=>e!==this.defaultScope)}settingsFor(e){return(0,i.D9)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=a(d,this,c).call(this,e),this.getSettings()[e]||{}}}(()=>(0,o.m)().bidderSettings||{},s.iD.BD_SETTING_STANDARD)},455:function(e,t,n){"use strict";function r(e,t,n){return e&&e.includes(t,n)||!1}function i(){return Array.from.apply(Array,arguments)}function o(e,t,n){return e&&e.find(t,n)}n.d(t,{A6:function(){return i},I6:function(){return o},mK:function(){return r}})},469:function(e,t,n){"use strict";function r(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function i(e,t){return e.get(s(e,t))}function o(e,t,n){return e.set(s(e,t),n),n}function s(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}n.d(t,{k:function(){return p},v:function(){return f}});const a=0,d=1;var c=new WeakMap,u=new WeakMap;class p{static timeout(e=0){return new p(t=>{0===e?t():setTimeout(t,e)})}constructor(e){if(r(this,c,void 0),r(this,u,void 0),"function"!=typeof e)throw new Error("resolver not a function");const t=[],n=[];let[i,s]=[a,d].map(e=>function(r){if(e===a&&"function"==typeof r?.then)r.then(i,s);else if(!t.length)for(t.push(e,r);n.length;)n.shift()()});try{e(i,s)}catch(e){s(e)}o(c,this,t),o(u,this,n)}then(e,t){const n=i(c,this);return new this.constructor((r,o)=>{const s=()=>{let i=n[1],[s,d]=n[0]===a?[e,r]:[t,o];if("function"==typeof s){try{i=s(i)}catch(e){return void o(e)}d=r}d(i)};n.length?s():i(u,this).push(s)})}catch(e){return this.then(null,e)}finally(e){let t;return this.then(n=>(t=n,e()),n=>(t=this.constructor.reject(n),e())).then(()=>t)}static race(e){return new this((t,n)=>{s(p,this,l).call(this,e,(e,r)=>e?t(r):n(r))})}static all(e){return new this((t,n)=>{let r=[];s(p,this,l).call(this,e,(e,t,i)=>e?r[i]=t:n(t),()=>t(r))})}static allSettled(e){return new this(t=>{let n=[];s(p,this,l).call(this,e,(e,t,r)=>n[r]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t},()=>t(n))})}static resolve(e){return new this(t=>t(e))}static reject(e){return new this((t,n)=>n(e))}}function l(e,t,n){let r=e.length;function i(){t.apply(this,arguments),--r<=0&&n&&n()}0===e.length&&n?n():e.forEach((e,t)=>this.resolve(e).then(e=>i(!0,e,t),e=>i(!1,e,t)))}function f({promiseFactory:e=e=>new p(e)}={}){function t(e){return t=>e(t)}let n,r;return{promise:e((e,t)=>{n=e,r=t}),resolve:t(n),reject:t(r)}}},487:function(e,t,n){"use strict";n.d(t,{A4:function(){return c},J7:function(){return u},Pg:function(){return p}});var r=n(286),i=n(89),o=n(433),s=n(455);const a=(0,n(831).m)(),d="outstream";function c(e){const{url:t,config:n,id:c,callback:u,loaded:p,adUnitCode:l,renderNow:f}=e;this.url=t,this.config=n,this.handlers={},this.id=c,this.renderNow=f,this.loaded=p,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,i.vV)("Commands given to Renderer.push must be wrapped in a function")},this.callback=u||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,n=()=>{this._render?this._render.apply(this,e):(0,i.JE)("No render function was provided, please use .setRender on the renderer")};!function(e){const t=a.adUnits,n=(0,s.I6)(t,t=>t.code===e);if(!n)return!1;const r=(0,o.A)(n,"renderer"),i=!!(r&&r.url&&r.render),d=(0,o.A)(n,"mediaTypes.video.renderer"),c=!!(d&&d.url&&d.render);return!!(i&&!0!==r.backupOnly||c&&!0!==d.backupOnly)}(l)?f?n():(this.cmd.unshift(n),(0,r.R)(t,d,this.callback,this.documentContext)):((0,i.JE)(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${l}`),n())}.bind(this)}function u(e){return!(!e||!e.url&&!e.renderNow)}function p(e,t,n){let r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}c.install=function({url:e,config:t,id:n,callback:r,loaded:i,adUnitCode:o,renderNow:s}){return new c({url:e,config:t,id:n,callback:r,loaded:i,adUnitCode:o,renderNow:s})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function({id:e,eventName:t}){"function"==typeof this.handlers[t]&&this.handlers[t](),(0,i.OG)(`Prebid Renderer event for id ${e} type ${t}`)},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.vV)("Error processing Renderer command: ",e)}}},507:function(e,t,n){"use strict";var r=n(817),i=n(149);t.M=function(e,t,n,o){var s=new r.BigInteger(r.b64toHex(t)),a=new r.BigInteger(r.b64toHex(n)),d=s.modPowInt(o,a);return r.removeExtraSymbols(d.toHexString())===i.Sha256.hash(e)}},511:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(705),_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(831),_src_utils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89),_src_utils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(433),_src_adloader_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(286),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(678),_src_config_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(718),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(233),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(507),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(128),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(556),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(607),_src_Renderer_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(487),_src_video_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(781),_src_ajax_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(330);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const GVLID=91,ADAPTER_VERSION=36,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_9__.vM)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=144,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",PUBLISHER_TAG_OUTSTREAM_SRC="https://static.criteo.net/js/ld/publishertag.renderer.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.D4,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.G_,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.s6],getUserSyncs:function(e,t,n,r,i={}){let{gppString:o="",applicableSections:s=[]}=i;if(e.iframeEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_11__.C)(n)){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_6__.$W.getConfig("criteo.fastBidVersion")))return[];const e=(0,_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_10__.EN)(),t="criteoPrebidAdapter",i=[];if(i.push(`origin=${t}`),i.push(`topUrl=${e.domain}`),n&&(n.gdprApplies&&i.push("gdpr="+(1==n.gdprApplies?1:0)),n.consentString&&i.push(`gdpr_consent=${n.consentString}`)),r&&i.push(`us_privacy=${r}`),i.push(`gpp=${o}`),Array.isArray(s))for(const e of s)i.push(`gpp_sid=${e}`);const a=Math.random().toString(),d={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:t,requestId:a,tld:e.domain,topUrl:e.domain,version:"8.52.2".replace(/\./g,"_")};window.addEventListener("message",function e(t){if(!t.data||"https://gum.criteo.com"!=t.origin)return;if(t.data.requestId!==a)return;this.removeEventListener("message",e),t.stopImmediatePropagation();const n=t.data;n.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):n.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,n.bundle,GUID_RETENTION_TIME_HOUR)},!0);const c=JSON.stringify(d).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${i.join("&")}#${c}`}]}if(e.pixelEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_11__.C)(n)){const e=[];if(e.push("profile=207"),n&&(!0===n.gdprApplies&&e.push("gdprapplies=true"),n.consentString&&e.push(`gdpr=${n.consentString}`)),r&&e.push(`ccpa=${r}`),e.push(`gpp=${o}`),Array.isArray(s))for(const t of s)e.push(`gpp_sid=${t}`);return[{type:"image",url:`https://ssp-sync.criteo.com/user-sync/redirect?${e.join("&")}`}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e)),buildRequests:(e,t)=>{let n,r,i=t.ortb2||{};Object.assign(t,{publisherExt:i.site?.ext,userExt:i.user?.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_6__.$W.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_6__.$W.getConfig("coppa")});const o=_src_config_js__WEBPACK_IMPORTED_MODULE_6__.$W.getConfig("criteo.fastBidVersion"),s=canFastBid(o);if(!publisherTagAvailable()&&s){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();const e=getFastBidUrl(o);setTimeout(()=>{(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_4__.R)(e,BIDDER_CODE)},t.timeout)}if(publisherTagAvailable()){const i=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"8.52.2",{createOutstreamVideoRenderer});n=i.buildCdbUrl(),r=i.buildCdbRequest()}else{const i=buildContext(e,t);n=buildCdbUrl(i),r=buildCdbRequest(i,e,t)}if(r)return{method:"POST",url:n,data:r,bidRequests:e}},interpretResponse:(e,t)=>{const n=e.body||e;if(publisherTagAvailable()){const e=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(e)return e.interpretResponse(n,t)}const r=[],i=[];return n&&n.slots&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.cy)(n.slots)&&n.slots.forEach(i=>{const o=getAssociatedBidRequest(t.bidRequests,i);if(o){const t=o.bidId,s={requestId:t,cpm:i.cpm,currency:i.currency,netRevenue:!0,ttl:i.ttl||60,creativeId:i.creativecode,width:i.width,height:i.height,dealId:i.deal};if(n.ext?.paf?.transmission&&i.ext?.paf?.content_id){const t={content_id:i.ext.paf.content_id,transmission:e.ext.paf.transmission};s.meta=Object.assign({},s.meta,{paf:t})}i.adomain&&(s.meta=Object.assign({},s.meta,{advertiserDomains:[i.adomain].flat()})),i.ext?.meta?.networkName&&(s.meta=Object.assign({},s.meta,{networkName:i.ext.meta.networkName})),i.ext?.dsa&&(s.meta=Object.assign({},s.meta,{dsa:i.ext.dsa})),i.native?o.params.nativeCallback?s.ad=createNativeAd(t,i.native,o.params.nativeCallback):(s.native=createPrebidNativeAd(i.native),s.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.s6):i.video?(s.vastUrl=i.displayurl,s.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.G_,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(o,"mediaTypes.video.context")===_src_video_js__WEBPACK_IMPORTED_MODULE_13__.H6&&(s.renderer=createOutstreamVideoRenderer(i))):s.ad=i.creative,r.push(s)}}),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.cy)(n.ext?.igi)&&n.ext.igi.forEach(e=>{(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.cy)(e?.igs)&&e.igs.forEach(e=>{i.push(e)})}),i.length?{bids:r,fledgeAuctionConfigs:i}:r},onTimeout:e=>{if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach(e=>{-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())})}},onBidWon:e=>{publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:e=>{publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)},onDataDeletionRequest:e=>{const t=readFromAllStorages(BUNDLE_COOKIE_NAME);t&&(deleteFromAllStorages(BUNDLE_COOKIE_NAME),(0,_src_ajax_js__WEBPACK_IMPORTED_MODULE_14__.RD)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:t}),{contentType:"application/json",method:"POST"}))}};function readFromAllStorages(e){const t=storage.getCookie(e),n=storage.getDataFromLocalStorage(e);return t||n||void 0}function saveOnAllStorages(e,t,n){const r=new Date;r.setTime(r.getTime()+60*n*60*1e3);const i=`expires=${r.toUTCString()}`;storage.setCookie(e,t,i),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){let n="";t&&t.refererInfo&&(n=t.refererInfo.page);const r=(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.Dl)(t?.refererInfo?.topmostLocation).search,i={url:n,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,amp:!1};return e.forEach(e=>{"amp"===e.params.integrationMode&&(i.amp=!0)}),i}function buildCdbUrl(e){let t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("8.52.2"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const n=readFromAllStorages(BUNDLE_COOKIE_NAME);return n&&(t+=`&bundle=${n}`),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,n){let r,i,o,s,a=Object.assign({},{coppa:!0===n.coppa?1:!1===n.coppa?0:void 0},n.ortb2?.regs);const d={id:(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.lk)(),publisher:{url:e.url,ext:n.publisherExt},regs:a,slots:t.map(e=>{s||(s=e.userIdAsEids),r=e.params.networkId||r,i=e.params.pubid||i,o=e.schain||o;const t={slotid:e.bidId,impid:e.adUnitCode,transactionid:e.ortb2Imp?.ext?.tid};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"ortb2Imp.rwdd")&&(t.rwdd=e.ortb2Imp.rwdd),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.nativeOrtbRequest?.assets&&(t.ext=Object.assign({},t.ext,{assets:e.nativeOrtbRequest.assets})),e.params.uid&&(t.ext=Object.assign({},t.ext,{bidder:{uid:e.params.uid}})),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.JE)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){const n={context:e.mediaTypes.video.context,playersizes:parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay,plcmt:e.mediaTypes.video.plcmt,w:e.mediaTypes.video.w,h:e.mediaTypes.video.h,linearity:e.mediaTypes.video.linearity,skipmin:e.mediaTypes.video.skipmin,skipafter:e.mediaTypes.video.skipafter,minbitrate:e.mediaTypes.video.minbitrate,maxbitrate:e.mediaTypes.video.maxbitrate,delivery:e.mediaTypes.video.delivery,pos:e.mediaTypes.video.pos,playbackend:e.mediaTypes.video.playbackend,adPodDurationSec:e.mediaTypes.video.adPodDurationSec,durationRangeSec:e.mediaTypes.video.durationRangeSec},r=e.params.video;void 0!==r&&(n.skip=n.skip||r.skip||0,n.placement=n.placement||r.placement,n.minduration=n.minduration||r.minduration,n.playbackmethod=n.playbackmethod||r.playbackmethod,n.startdelay=n.startdelay||r.startdelay||0),t.video=n}return enrichSlotWithFloors(t,e),!n.fledgeEnabled&&t.ext?.ae&&delete t.ext.ae,t})};return r&&(d.publisher.networkid=r),d.source={tid:n.ortb2?.source?.tid},o&&(d.source.ext={schain:o}),d.user=n.ortb2?.user||{},d.site=n.ortb2?.site||{},d.app=n.ortb2?.app||{},i&&(d.site.publisher=_objectSpread(_objectSpread({},d.site.publisher),{id:i}),d.app.publisher=_objectSpread(_objectSpread({},d.app.publisher),{id:i})),d.device=n.ortb2?.device||{},n&&n.ceh&&(d.user.ceh=n.ceh),n&&n.gdprConsent&&(d.gdprConsent={},void 0!==n.gdprConsent.gdprApplies&&(d.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),d.gdprConsent.version=n.gdprConsent.apiVersion,void 0!==n.gdprConsent.consentString&&(d.gdprConsent.consentData=n.gdprConsent.consentString)),n&&n.uspConsent&&(d.user.uspIab=n.uspConsent),n&&n.ortb2?.device?.sua&&(d.user.ext=d.user.ext||{},d.user.ext.sua=n.ortb2?.device?.sua||{}),s&&(d.user.ext=d.user.ext||{},d.user.ext.eids=[...s]),n&&n.ortb2?.bcat&&(d.bcat=n.ortb2.bcat),n&&n.ortb2?.badv&&(d.badv=n.ortb2.badv),n&&n.ortb2?.bapp&&(d.bapp=n.ortb2.bapp),d.tmax=n.timeout,d}function parseSizes(e,t=e=>e){return null==e?[]:Array.isArray(e[0])?e.map(e=>t(e)):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){let t=!0;return["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach(function(n){void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"mediaTypes.video."+n)&&void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(e,"params.video."+n)&&(t=!1,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.vV)("Criteo Bid Adapter: mediaTypes.video."+n+" is required"))}),t}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(e=>e.url)}}function createNativeAd(e,t,n){var r="criteo_prebid_native_slots";return window[r]=window[r]||{},window[r][e]={callback:n,payload:t},`\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.${r};\n  if(!slots){continue;}\n  var responseSlot = slots["${e}"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>`}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{const t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch{}}function enrichSlotWithFloors(e,t){try{const n={},r=pickAvailableGetFloorFunc(t);r&&(t.mediaTypes?.banner&&(n.banner={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(t,"mediaTypes.banner.sizes")).forEach(e=>n.banner[parseSize(e).toString()]=r.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.D4}))),t.mediaTypes?.video&&(n.video={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.A)(t,"mediaTypes.video.playerSize")).forEach(e=>n.video[parseSize(e).toString()]=r.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.G_}))),t.mediaTypes?.native&&(n.native={},n.native["*"]=r.call(t,{size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.s6})),Object.keys(n).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:n})))}catch(e){(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.vV)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){let t;return e===FAST_BID_VERSION_LATEST?t="":e?(String(e).split(".")[0]<102&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.JE)("Specifying a Fastbid version which is not supporting version selection."),t="."+e):t="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function createOutstreamVideoRenderer(e){if(void 0===e.ext.videoPlayerConfig||void 0===e.ext.videoPlayerType)return;const t=_src_Renderer_js__WEBPACK_IMPORTED_MODULE_12__.A4.install({url:PUBLISHER_TAG_OUTSTREAM_SRC,config:{documentResolver:(e,t,n)=>n??t}});return t.setRender((t,n)=>{let r={slotid:e.impid,vastUrl:e.displayurl,vastXml:e.creative,documentContext:n},i=e.ext.videoPlayerConfig;window.CriteoOutStream[e.ext.videoPlayerType].play(r,i)}),t}function getAssociatedBidRequest(e,t){for(const n of e)if(n.adUnitCode===t.impid){if(n.params.zoneId&&parseInt(n.params.zoneId)===t.zoneid)return n;if(t.native){if(n.mediaTypes?.native||n.nativeParams)return n}else if(t.video){if(n.mediaTypes?.video)return n}else if(n.mediaTypes?.banner||n.sizes)return n}}function tryGetCriteoFastBid(){try{const fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){const firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.JE)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{const publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_8__.M)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.fH)("Using Criteo FastBid"),eval(publisherTag)):((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.JE)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_5__.a$)(spec),(0,_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_1__.E)("criteoBidAdapter")},556:function(e,t,n){"use strict";n.d(t,{EN:function(){return d},gR:function(){return s}});var r=n(718),i=n(89);function o(e,t=window){if(!e)return e;if(/\w+:\/\//.exec(e))return e;let n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:`${n}//${e}`}function s(e,{noLeadingWww:t=!1,noPort:n=!1}={}){try{e=new URL(o(e))}catch(e){return}return e=n?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function a(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}const d=function(e,t=window){if(t.top!==t)return e;let n,r,i;return function(){const o=a(t.document),s=t.location.href;return n===o&&s===r||(n=o,r=s,i=e()),i}}((c=window,function(){const e=[],t=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(c),n=r.$W.getConfig("maxNestedIframes");let d,u,p,l,f=!1,m=0,g=!1,b=!1,h=!1;do{const n=d,r=b;let o,s=!1,l=null;b=!1,d=d?d.parent:c;try{o=d.location.href||null}catch(e){s=!0}if(s)if(r){const t=n.context;try{l=t.sourceUrl,u=l,h=!0,g=!0,d===c.top&&(f=!0),t.canonicalUrl&&(p=t.canonicalUrl)}catch(e){}}else{(0,i.JE)("Trying to access cross domain iframe. Continuing without referrer and location");try{const e=n.document.referrer;e&&(l=e,d===c.top&&(f=!0))}catch(e){}!l&&t&&t[m-1]&&(l=t[m-1],d===c.top&&(h=!0)),l&&!g&&(u=l)}else{if(o&&(l=o,u=l,g=!1,d===c.top)){f=!0;const e=a(d.document);e&&(p=e)}d.context&&d.context.sourceUrl&&(b=!0)}e.push(l),m++}while(d!==c.top&&m<n);e.reverse();try{l=c.top.document.referrer}catch(e){}const y=f||h?u:null,v=r.$W.getConfig("pageUrl")||p||null;let _=r.$W.getConfig("pageUrl")||y||o(v,c);return y&&y.indexOf("?")>-1&&-1===_.indexOf("?")&&(_=`${_}${y.substring(y.indexOf("?"))}`),{reachedTop:f,isAmp:g,numIframes:m-1,stack:e,topmostLocation:u||null,location:y,canonicalUrl:v,page:_,domain:s(_)||null,ref:l||null,legacy:{reachedTop:f,isAmp:g,numIframes:m-1,stack:e,referer:u||null,canonicalUrl:v}}}));var c},575:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(807);const i=(0,n(642).ZI)(e=>r.Ay.resolveAlias(e))},586:function(e,t,n){"use strict";n.d(t,{B1:function(){return l},SL:function(){return S},ZH:function(){return f},ad:function(){return E},et:function(){return x},mW:function(){return A},o2:function(){return T},t6:function(){return O}});var r=n(705),i=n(89),o=n(469),s=n(718);function a(e,t,n){d(e,t),t.set(e,n)}function d(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t){return e.get(p(e,t))}function u(e,t,n){return e.set(p(e,t),n),n}function p(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const l=Object.freeze({}),f=Object.freeze({});var m=new WeakMap,g=new WeakMap,b=new WeakMap,h=new WeakMap,y=new WeakMap,v=new WeakMap,_=new WeakSet;class I{constructor(){var e;d(this,e=_),e.add(this),a(this,m,void 0),a(this,g,void 0),a(this,b,void 0),a(this,h,void 0),a(this,y,!0),a(this,v,void 0),(0,r.A)(this,"generatedTime",void 0),(0,r.A)(this,"hashFields",void 0),this.reset()}reset(){u(b,this,(0,o.v)()),u(m,this,!1),u(g,this,null),u(h,this,!1),this.generatedTime=null}enable(){u(m,this,!0)}get enabled(){return c(m,this)}get ready(){return c(h,this)}get promise(){return c(h,this)?o.k.resolve(c(g,this)):(c(m,this)||p(_,this,w).call(this,null),c(b,this).promise)}setConsentData(e,t=(0,i.vE)()){this.generatedTime=t,u(y,this,!0),p(_,this,w).call(this,e)}getConsentData(){return c(g,this)}get hash(){return c(y,this)&&(u(v,this,(0,i.PB)(JSON.stringify(c(g,this)&&this.hashFields?this.hashFields.map(e=>c(g,this)[e]):c(g,this)))),u(y,this,!1)),c(v,this)}}function w(e){u(h,this,!0),u(g,this,e),c(b,this).resolve(e)}const A=new class extends I{constructor(...e){super(...e),(0,r.A)(this,"hashFields",["gdprApplies","consentString"])}getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,i.O8)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},O=new class extends I{getConsentMeta(){const e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}},E=new class extends I{constructor(...e){super(...e),(0,r.A)(this,"hashFields",["applicableSections","gppString"])}getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},x=(()=>{function e(){return!!s.$W.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset(){},get promise(){return o.k.resolve(e())},get hash(){return e()?"1":"0"}}})(),T=function(){const e={},t={},n={};return{register(r,i,o){o&&((e[i]=e[i]||{})[r]=o,t.hasOwnProperty(i)?t[i]!==o&&(t[i]=n):t[i]=o)},get(r){const i={modules:e[r]||{}};return t.hasOwnProperty(r)&&t[r]!==n&&(i.gvlid=t[r]),i}}}(),C={gdpr:A,usp:O,gpp:E,coppa:x},S=function(e=C){return e=Object.entries(e),Object.assign({get promise(){return o.k.all(e.map(([e,t])=>t.promise.then(t=>[e,t]))).then(e=>Object.fromEntries(e))},get hash(){return(0,i.PB)(e.map(([e,t])=>t.hash).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map(t=>{return[t,(n=t,function(){return Object.fromEntries(e.map(([e,t])=>[e,t[n]()]))})];var n})))}()},588:function(e,t,n){"use strict";n.d(t,{zt:function(){return f}});var r=n(89),i=n(718),o=n(455),s=n(128),a=n(253),d=n(973),c=n(642),u=n(883),p=n(575);i.$W.setDefaults({userSync:(0,r.Go)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});const l=(0,s.CK)("usersync"),f=function(e){let t={},n={image:[],iframe:[]},s=new Set,a={},l={image:!0,iframe:!1},f=e.config;function m(){if(f.syncEnabled&&e.browserSupportsCookies){try{l.iframe&&g(n.iframe,e=>{let[t,i]=e;(0,r.OG)(`Invoking iframe user sync for bidder: ${t}`),(0,r.SG)(i),function(e,t){e.image=e.image.filter(e=>e[0]!==t)}(n,t)}),l.image&&g(n.image,e=>{let[t,n]=e;(0,r.OG)(`Invoking image pixel user sync for bidder: ${t}`),(0,r.z$)(n)})}catch(e){return(0,r.vV)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function g(e,t){(0,r.k4)(e).forEach(t)}return i.$W.getConfig("userSync",e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,r.Qd)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}f=Object.assign(f,e.userSync)}),e.regRule(d.Ml,"userSync config",e=>{if(!f.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[c.Dk]===u.tW){const n=e[c.bt],r=e[c.iK];if(!t.canBidderRegisterSync(n,r))return{allow:!1,reason:`${n} syncs are not enabled for ${r}`}}}),t.registerSync=(t,i,o)=>s.has(i)?(0,r.OG)(`already fired syncs for "${i}", ignoring registerSync call`):f.syncEnabled&&(0,r.cy)(n[t])?i?0!==f.syncsPerBidder&&Number(a[i])>=f.syncsPerBidder?(0,r.JE)(`Number of user syncs exceeded for "${i}"`):void(e.isAllowed(d.Ml,(0,p.s)(u.tW,i,{[c.bt]:t,[c.e3]:o}))&&(n[t].push([i,o]),a=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(a,i))):(0,r.JE)("Bidder is required for registering sync"):(0,r.JE)(`User sync type "${t}" not supported`),t.bidderDone=s.add.bind(s),t.syncUsers=(e=0)=>{if(e)return setTimeout(m,Number(e));m()},t.triggerUserSyncs=()=>{f.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!f.filterSettings||!function(e,t){let n=f.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,r.JE)(`Detected presence of the "filterSettings.all" and "filterSettings.${t}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;let o=n.filter,s=n.bidders;return o&&"include"!==o&&"exclude"!==o?((0,r.JE)(`UserSync "filterSettings.${i}.filter" setting '${o}' is not a valid option; use either 'include' or 'exclude'.`),!1):!!("*"===s||Array.isArray(s)&&s.length>0&&s.every(e=>(0,r.O8)(e)&&"*"!==e))||((0,r.JE)(`Detected an invalid setup in userSync "filterSettings.${i}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1)}(n,e)){l[e]=!0;let r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders;const s={include:(e,t)=>!(0,o.mK)(e,t),exclude:(e,t)=>(0,o.mK)(e,t)};return s[r.filter||"include"](i,t)}return!l[e]}(e,t),t}(Object.defineProperties({config:i.$W.getConfig("userSync"),isAllowed:a.io,regRule:a.qB},{browserSupportsCookies:{get:function(){return!(0,r.Vt)()&&l.cookiesAreEnabled()}}}))},607:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(433);function i(e){return!e?.gdprApplies||!0===(0,r.A)(e,"vendorData.purpose.consents.1")}},642:function(e,t,n){"use strict";n.d(t,{Dk:function(){return s},Ii:function(){return o},TQ:function(){return f},XG:function(){return u},ZI:function(){return m},Zw:function(){return c},bt:function(){return p},e3:function(){return l},iK:function(){return a},q7:function(){return d}});var r=n(883),i=n(439);const o="component",s=o+"Type",a=o+"Name",d="adapterCode",c="storageType",u="configName",p="syncType",l="syncUrl",f="_config";function m(e){return function(t,n,i){const c={[s]:t,[a]:n,[o]:`${t}.${n}`};return t===r.tW&&(c[d]=e(n)),g(Object.assign(c,i))}}const g=(0,i.A_)("sync",e=>e)},651:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(89);function i(e,{src:t="client",bidder:n="",bidId:i,transactionId:o,adUnitId:s,auctionId:a}={}){var d=t,c=e||0;Object.assign(this,{bidderCode:n,width:0,height:0,statusMessage:function(){switch(c){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),adId:(0,r.s0)(),requestId:i,transactionId:o,adUnitId:s,auctionId:a,mediaType:"banner",source:d}),this.getStatusCode=function(){return c},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}function o(e,t){return new i(e,t)}},678:function(e,t,n){"use strict";function r(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}n.d(t,{xb:function(){return E},a$:function(){return O}});var i=n(807),o=n(718),s=n(651),a=n(588),d=n(787),c=n(781),u=n(743),p=n(13),l=n(455),f=n(89),m=n(439),g=n(428),b=n(447),h=n(992),y=n(253),v=n(575),_=n(883),I=n(973);const w=["cpm","ttl","creativeId","netRevenue","currency"],A=["auctionId","transactionId"];function O(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){const n=E(e);i.Ay.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach(t=>{let r,o,s=t;(0,f.Qd)(t)&&(s=t.code,r=t.gvlid,o=t.skipPbsAliasing),i.Ay.aliasRegistry[s]=e.code,n(Object.assign({},e,{code:s,gvlid:r,skipPbsAliasing:o}))})}function E(e){return Object.assign(new r(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(n,r,a,m,O,E){if(!Array.isArray(n.bids))return;const x=function(e){if((0,y.io)(I.VJ,(0,v.s)(_.tW,e)))return{bidRequest:e=>e,bidderRequest:e=>e};function t(e,t,n){return A.includes(t)?null:Reflect.get(e,t,n)}function n(e,t){const n=new Proxy(e,t);return Object.entries(e).filter(([e,t])=>"function"==typeof t).forEach(([t,r])=>n[t]=r.bind(e)),n}const r=(0,f.Bj)(e=>n(e,{get:t}),e=>e.bidId);return{bidRequest:r,bidderRequest:e=>n(e,{get:(n,i,o)=>"bids"===i?e.bids.map(r):t(n,i,o)})}}(n.bidderCode),T={},S=[];function R(){a(),o.$W.runWithBidder(e.code,()=>{p.Ic(u.qY.BIDDER_DONE,n),t(S,n.gdprConsent,n.uspConsent,n.gppConsent)})}const j=D(n).measureTime("validate",()=>n.bids.filter(t=>{return n=x.bidRequest(t),!!e.isBidRequestValid(n)||((0,f.JE)(`Invalid bid sent to bidder ${e.code}: ${JSON.stringify(n)}`),!1);var n}));if(0===j.length)return void R();const P={};j.forEach(e=>{P[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}),C(e,j.map(x.bidRequest),x.bidderRequest(n),m,E,{onRequest:e=>p.Ic(u.qY.BEFORE_BIDDER_HTTP,n,e),onResponse:t=>{O(e.code),S.push(t)},onPaapi:e=>{const t=P[e.bidId];t?k(t,e):(0,f.JE)("Received fledge auction configuration for an unknown bidId",e)},onError:(t,r)=>{r.timedOut||O(e.code),i.Ay.callBidderError(e.code,r,n),p.Ic(u.qY.BIDDER_ERROR,{error:r,bidderRequest:n}),(0,f.vV)(`Server call for ${e.code} failed: ${t} ${r.status}. Continuing without bids.`)},onBid:t=>{const n=P[t.requestId];if(n){if(t.adapterCode=n.bidder,function(e,t){let n=b.u.get(t,"allowAlternateBidderCodes")||!1,r=b.u.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(r=(0,f.cy)(r)?r.map(e=>e.trim().toLowerCase()).filter(e=>!!e).filter(f.hj):r,!n||(0,f.cy)(r)&&"*"!==r[0]&&!r.includes(e)))}(t.bidderCode,n.bidder))return(0,f.JE)(`${t.bidderCode} is not a registered partner or known bidder of ${n.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void r.reject(n.adUnitCode,t,u.Tf.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[n.bidder]);const e=Object.assign((0,s.O)(u.XQ.GOOD,n),t,(0,f.Up)(n,A));!function(e,t){const n=(0,h.BO)(t.metrics);n.checkpoint("addBidResponse"),T[e]=!0,n.measureTime("addBidResponse.validate",()=>function(e,t,{index:n=g.n.index}={}){function r(e){return`Invalid bid from ${t.bidderCode}. Ignoring bid: ${e}`}return e?t?function(){let e=Object.keys(t);return w.every(n=>(0,l.mK)(e,n)&&!(0,l.mK)([void 0,null],t[n]))}()?"native"!==t.mediaType||(0,d.Bm)(t,{index:n})?"video"!==t.mediaType||(0,c.vk)(t,{index:n})?!("banner"===t.mediaType&&!function(e,t,{index:n=g.n.index}={}){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const r=n.getBidRequest(t),i=n.getMediaTypes(t),o=r&&r.sizes||i&&i.banner&&i.banner.sizes,s=(0,f.kK)(o);if(1===s.length){const[e,n]=s[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(n,10),!0}return!1}(0,t,{index:n})&&((0,f.vV)(r("Banner bids require a width and height")),1)):((0,f.vV)(r("Video bid does not have required vastUrl or renderer property")),!1):((0,f.vV)(r("Native bid missing some required properties.")),!1):((0,f.vV)(r(`Bidder ${t.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1):((0,f.JE)(`Some adapter tried to add an undefined bid for ${e}.`),!1):((0,f.JE)("No adUnitCode was supplied to addBidResponse."),!1)}(e,t))?r(e,t):r.reject(e,t,u.Tf.INVALID)}(n.adUnitCode,e)}else(0,f.JE)(`Bidder ${e.code} made bid for unknown request ID: ${t.requestId}. Ignoring.`),r.reject(null,t,u.Tf.INVALID_REQUEST_ID)},onCompletion:R})}});function t(t,n,r,i){S(e,t,n,r,i)}}const x=["paapi","fledgeAuctionConfigs"],T=["bids"].concat(x),C=(0,m.A_)("sync",function(e,t,n,r,i,{onRequest:o,onResponse:s,onPaapi:a,onError:d,onBid:c,onCompletion:u}){const p=D(n);u=p.startTiming("total").stopBefore(u);let l=p.measureTime("buildRequests",()=>e.buildRequests(t,n));if(!l||0===l.length)return void u();Array.isArray(l)||(l=[l]);const m=(0,f.U6)(u,l.length);l.forEach(t=>{const n=p.fork();function u(e){null!=e&&(e.metrics=n.fork().renameWith()),c(e)}const l=i(function(r,i){h();try{r=JSON.parse(r)}catch(e){}r={body:r,headers:{get:i.getResponseHeader.bind(i)}},s(r);try{r=n.measureTime("interpretResponse",()=>e.interpretResponse(r,t))}catch(t){return(0,f.vV)(`Bidder ${e.code} failed to interpret the server's response. Continuing without bids`,null,t),void m()}let o,d;r&&!Object.keys(r).some(e=>!T.includes(e))?(o=r.bids,d=function(e){const[t,n]=x.map(t=>e[t]);if(null!=t&&null!=n)throw new Error(`Adapter response should use ${x[0]} over ${x[1]}, not both`);return t??n}(r)):o=r,(0,f.cy)(d)&&d.forEach(a),o&&((0,f.cy)(o)?o.forEach(u):u(o)),m()}),g=i(function(e,t){h(),d(e,t),m()});o(t);const h=n.startTiming("net");function w(n){const r=t.options;return Object.assign(n,r,{browsingTopics:!(r?.hasOwnProperty("browsingTopics")&&!r.browsingTopics)&&(b.u.get(e.code,"topicsHeader")??!0)&&(0,y.io)(I.DL,(0,v.s)(_.tW,e.code))})}switch(t.method){case"GET":r(`${t.url}${A=t.data,A?`?${"object"==typeof A?(0,f.bL)(A):A}`:""}`,{success:l,error:g},void 0,w({method:"GET",withCredentials:!0}));break;case"POST":r(t.url,{success:l,error:g},"string"==typeof t.data?t.data:JSON.stringify(t.data),w({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,f.JE)(`Skipping invalid request from ${e.code}. Request type ${t.type} must be GET or POST`),m()}var A})},"processBidderRequests"),S=(0,m.A_)("async",function(e,t,n,r,s){const d=o.$W.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!i.Ay.aliasRegistry[e.code])){let i=o.$W.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!i||!i.iframe&&!i.all),pixelEnabled:!(!i||!i.image&&!i.all)},t,n,r,s);d&&(Array.isArray(d)||(d=[d]),d.forEach(t=>{a.zt.registerSync(t.type,e.code,t.url)}),a.zt.bidderDone(e.code))}},"registerSyncs"),k=(0,m.A_)("sync",(e,t)=>{},"addPaapiConfig");function D(e){return(0,h.BO)(e.metrics).renameWith(t=>[`adapter.client.${t}`,`adapters.client.${e.bidderCode}.${t}`])}},705:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:function(){return i}})},718:function(e,t,n){"use strict";n.d(t,{$W:function(){return g},Ov:function(){return p}});var r=n(705),i=n(127),o=n(455),s=n(89),a=n(433),d=n(743);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}const u="TRUE"===(0,s.Ez)(d.M).toUpperCase(),p="random",l={};l[p]=!0,l.fixed=!0;const f=p,m={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},g=function(){let e,t,n,d=[],p=null;function g(){function r(e){return d[e].val}function a(e,t){d[e].val=t}e={};const d={publisherDomain:{set(e){null!=e&&(0,s.JE)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),a("publisherDomain",e)}},priceGranularity:{val:m.MEDIUM,set(e){g(e)&&("string"==typeof e?a("priceGranularity",p(e)?e:m.MEDIUM):(0,s.Qd)(e)&&(a("customPriceBucket",e),a("priceGranularity",m.CUSTOM),(0,s.OG)("Using custom price granularity")))}},customPriceBucket:{val:{},set(){}},mediaTypePriceGranularity:{val:{},set(e){null!=e&&a("mediaTypePriceGranularity",Object.keys(e).reduce((t,n)=>(g(e[n])?"string"==typeof e?t[n]=p(e[n])?e[n]:r("priceGranularity"):(0,s.Qd)(e)&&(t[n]=e[n],(0,s.OG)(`Using custom price granularity for ${n}`)):(0,s.JE)(`Invalid price granularity for media type: ${n}`),t),{}))}},bidderSequence:{val:f,set(e){l[e]?a("bidderSequence",e):(0,s.JE)(`Invalid order: ${e}. Bidder Sequence was not set.`)}},auctionOptions:{val:{},set(e){(function(e){if(!(0,s.Qd)(e))return(0,s.JE)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,s.JE)(`Auction Options given an incorrect param: ${t}`),!1;if("secondaryBidders"===t){if(!(0,s.cy)(e[t]))return(0,s.JE)(`Auction Options ${t} must be of type Array`),!1;if(!e[t].every(s.O8))return(0,s.JE)(`Auction Options ${t} must be only string`),!1}else if("suppressStaleRender"===t&&!(0,s.Lm)(e[t]))return(0,s.JE)(`Auction Options ${t} must be of type boolean`),!1}return!0})(e)&&a("auctionOptions",e)}}};let c={debug:u,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10,maxBid:5e3};function p(e){return(0,o.I6)(Object.keys(m),t=>e===m[t])}function g(e){if(!e)return(0,s.vV)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)p(e)||(0,s.JE)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,s.Qd)(e)&&!(0,i.q)(e))return(0,s.vV)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(c,Object.fromEntries(Object.entries(d).map(([e,t])=>[e,Object.assign({get:r.bind(null,e),set:a.bind(null,e),enumerable:!0},t)]))),t&&w(Object.keys(t).reduce((e,n)=>(t[n]!==c[n]&&(e[n]=c[n]||{}),e),{})),t=c,n={}}function b(){if(p&&n&&(0,s.Qd)(n[p])){let e=n[p];const r=new Set(Object.keys(t).concat(Object.keys(e)));return(0,o.A6)(r).reduce((n,r)=>(void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:(0,s.Qd)(e[r])?n[r]=(0,s.D9)({},t[r],e[r]):n[r]=e[r],n),{})}return Object.assign({},t)}const[h,y]=[b,function(){const e=b();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map(e=>function(...t){if(t.length<=1&&"function"!=typeof t[0]){const n=t[0];return n?(0,a.A)(e(),n):b()}return function(e,t,n={}){let r=t;if("string"!=typeof e&&(r=e,e="*",n=t||{}),"function"!=typeof r)return void(0,s.vV)("listener must be a function");const i={topic:e,callback:r};return d.push(i),n.init&&r("*"===e?y():{[e]:y(e)}),function(){d.splice(d.indexOf(i),1)}}(...t)}),[v,_]=[y,h].map(e=>function(...t){let n=e(...t);return n&&"object"==typeof n&&(n=(0,s.Go)(n)),n});function I(n){if(!(0,s.Qd)(n))return void(0,s.vV)("setConfig options must be an object");let r=Object.keys(n),i={};r.forEach(r=>{let o=n[r];(0,s.Qd)(e[r])&&(0,s.Qd)(o)&&(o=Object.assign({},e[r],o));try{i[r]=t[r]=o}catch(e){(0,s.JE)(`Cannot set config for property ${r} : `,e)}}),w(i)}function w(e){const t=Object.keys(e);d.filter(e=>(0,o.mK)(t,e.topic)).forEach(t=>{t.callback({[t.topic]:e[t.topic]})}),d.filter(e=>"*"===e.topic).forEach(t=>t.callback(e))}function A(e,t=!1){try{!function(e){if(!(0,s.Qd)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,s.Qd)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach(r=>{n[r]||(n[r]={}),Object.keys(e.config).forEach(i=>{let o=e.config[i];if((0,s.Qd)(o)){const e=t?s.D9:Object.assign;n[r][i]=e({},n[r][i]||{},o)}else n[r][i]=o})})}catch(e){(0,s.vV)(e)}}function O(e,t){p=e;try{return t()}finally{E()}}function E(){p=null}return g(),{getCurrentBidder:function(){return p},resetBidder:E,getConfig:y,getAnyConfig:h,readConfig:v,readAnyConfig:_,setConfig:I,mergeConfig:function(e){if(!(0,s.Qd)(e))return void(0,s.vV)("mergeConfig input must be an object");const t=(0,s.D9)(b(),e);return I(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)),t},setDefaults:function(n){(0,s.Qd)(e)?(Object.assign(e,n),Object.assign(t,n)):(0,s.vV)("defaults must be an object")},resetConfig:g,runWithBidder:O,callbackWithBidder:function(e){return function(t){return function(...n){if("function"==typeof t)return O(e,t.bind(this,...n));(0,s.JE)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:A,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return A(e,!0)}}}()},743:function(e,t,n){"use strict";n.d(t,{M:function(){return i},RW:function(){return f},Tf:function(){return g},UE:function(){return c},XQ:function(){return o},Zh:function(){return p},_B:function(){return v},as:function(){return a},cA:function(){return d},h0:function(){return b},iD:function(){return r},jO:function(){return h},nl:function(){return _},oA:function(){return y},qY:function(){return s},tl:function(){return m},x5:function(){return l},xS:function(){return u}});const r={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},i="pbjs_debug",o={GOOD:1},s={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError"},a={PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},d={bidWon:"adUnitCode"},c={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},u={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},p={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},l={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},f={SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},m={BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"},g={INVALID:"Bid has missing or invalid properties",INVALID_REQUEST_ID:"Invalid request ID",BIDDER_DISALLOWED:"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",FLOOR_NOT_MET:"Bid does not meet price floor",CANNOT_CONVERT_CURRENCY:"Unable to convert currency",DSA_REQUIRED:"Bid does not provide required DSA transparency info",DSA_MISMATCH:"Bid indicates inappropriate DSA rendering method",PRICE_TOO_HIGH:"Bid price exceeds maximum value"},b={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},h={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},y={ICON:1,MAIN:3},v=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],_={REQUEST:"Prebid Request",RESPONSE:"Prebid Response",NATIVE:"Prebid Native",EVENT:"Prebid Event"}},747:function(e){a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t="fun-hooks",n=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n]},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return i.call(o(arguments,1),function(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e)};function a(e){var d,c={},u=[];function p(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter(function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))})).forEach(function(t){var r=t.split(":"),o=r[0],s=r[1]||"sync";if(!i[o]){var a=e[o];i[o]=e[o]=g(s,a,n?[n,o]:void 0)}}),e=Object.getPrototypeOf(e)}while(r&&e);return i}function f(e){var n=Array.isArray(e)?e:e.split(".");return i.call(n,function(r,i,o){var s=r[i],a=!1;return s||(o===n.length-1?(d||u.push(function(){a||console.warn(t+": referenced '"+e+"' but it was never created")}),r[i]=m(function(e){r[i]=e,a=!0})):r[i]={})},c)}function m(e){var t=[],n=[],i=function(){},o={before:function(e,n){return d.call(this,t,"before",e,n)},after:function(e,t){return d.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==typeof e&&(r=r.filter(function(t){return Object.keys(e).every(function(n){return t[n]===e[n]})}));try{s(r,{remove:function(){return r.forEach(function(e){e.remove()}),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},a={install:function(r,o,s){this.type=r,i=s,s(t,n),e&&e(o)}};return r.set(o.after,a),o;function d(e,r,o,s){var a={hook:o,type:r,priority:s||10,remove:function(){var r=e.indexOf(a);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(a),e.sort(function(e,t){return t.priority-e.priority}),i(t,n),this}}function g(n,i,c){var p=i.after&&r.get(i.after);if(p){if(p.type!==n)throw t+": recreated hookable with different type";return i}var l,g,b=c?f(c):m(),h={get:function(e,t){return b[t]||Reflect.get.apply(Reflect,arguments)}};return d||u.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(i,h):(g=function(){return h.apply?h.apply(i,this,o(arguments)):i.apply(this,arguments)},s(g,b)),r.get(g.after).install(n,g,function(e,t){var r,i=[];function s(e){i.push(e.hook)}e.length||t.length?(e.forEach(s),r=i.push(void 0)-1,t.forEach(s),l=function(e,t,s){var a,d=0,c="async"===n&&"function"==typeof s[s.length-1]&&s.pop();function u(e){"sync"===n?a=e:c&&c.apply(null,arguments)}function p(e){if(i[d]){var r=o(arguments);return p.bail=u,r.unshift(p),i[d++].apply(t,r)}"sync"===n?a=e:c&&c.apply(null,arguments)}return i[r]=function(){var r=o(arguments,1);"async"===n&&c&&(delete p.bail,r.push(p));var i=e.apply(t,r);"sync"===n&&p(i)},p.apply(null,s),a}):l=void 0,y()}),g;function y(){!d&&("sync"!==n||e.ready&a.SYNC)&&("async"!==n||e.ready&a.ASYNC)?"sync"!==n&&e.ready&a.QUEUE?h.apply=function(){var e=arguments;u.push(function(){g.apply(e[1],e[2])})}:h.apply=function(){throw t+": hooked function not ready"}:h.apply=l}}return(e=s({},n,e)).ready?p.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(u)}:d=!0,p.get=f,p}e.exports=a},781:function(e,t,n){"use strict";n.d(t,{H6:function(){return d},V0:function(){return u},mn:function(){return c},vk:function(){return p}});var r=n(433),i=n(89),o=n(718),s=n(439),a=n(428);const d="outstream",c="instream";function u(e){const t=e?.mediaTypes?.video;null!=t&&null==t.plcmt&&(t.context===d||[2,3,4].includes(t.placement)?t.plcmt=4:t.context!==d&&[2,6].includes(t.playbackmethod)&&(t.plcmt=2))}function p(e,{index:t=a.n.index}={}){const n=(0,r.A)(t.getMediaTypes(e),"video"),i=n&&(0,r.A)(n,"context"),o=n&&(0,r.A)(n,"useCacheKey"),s=t.getAdUnit(e);return l(e,s,n,i,o)}const l=(0,s.A_)("sync",function(e,t,n,r,s){return n&&(s||r!==d)?o.$W.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.vV)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===d&&!s&&!(e.renderer||t&&t.renderer||n.renderer))},"checkVideoBidSetup")},787:function(e,t,n){"use strict";n.d(t,{Bm:function(){return E},IX:function(){return R},Nh:function(){return g},Xj:function(){return $},Zj:function(){return C},gs:function(){return T},l6:function(){return I},mT:function(){return m},nk:function(){return A},vO:function(){return x},yl:function(){return j}});var r=n(705),i=n(433),o=n(89),s=n(455),a=n(428),d=n(743),c=n(233),u=n(885),p=n(922);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const m=[],g=Object.keys(d.x5).map(e=>d.x5[e]),b={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},h=M(d.h0),y=M(d.jO),v={img:1,js:2,1:"img",2:"js"},_={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function I(e){return e.native&&"object"==typeof e.native}function w(e){if(e&&e.type&&(!(!(t=e.type)||!(0,s.mK)(Object.keys(b),t))||((0,o.vV)(`${t} nativeParam is not supported`),!1))&&(e=b[e.type]),!e||!e.ortb||O(e.ortb))return e;var t}function A(e){e.forEach(e=>{const t=e.nativeParams||(0,i.A)(e,"mediaTypes.native");t&&(e.nativeParams=w(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!(0,o.Qd)(e))return void(0,o.vV)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let n in e){if(d._B.includes(n))continue;if(!d.x5.hasOwnProperty(n)){(0,o.vV)(`Unrecognized native asset code: ${n}. Asset will be ignored.`);continue}if("privacyLink"===n){t.privacy=1;continue}const r=e[n];let i=0;r.required&&(0,o.Lm)(r.required)&&(i=Number(r.required));const s={id:t.assets.length,required:i};if(n in d.h0)s.data={type:d.jO[d.h0[n]]},r.len&&(s.data.len=r.len);else if("icon"===n||"image"===n){if(s.img={type:"icon"===n?d.oA.ICON:d.oA.MAIN},r.aspect_ratios)if((0,o.cy)(r.aspect_ratios))if(r.aspect_ratios.length){const{min_width:e,min_height:t}=r.aspect_ratios[0];(0,o.Fq)(e)&&(0,o.Fq)(t)?(s.img.wmin=e,s.img.hmin=t):(0,o.vV)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const n=r.aspect_ratios.filter(e=>e.ratio_width&&e.ratio_height).map(e=>`${e.ratio_width}:${e.ratio_height}`);n.length>0&&(s.img.ext={aspectratios:n})}else(0,o.vV)("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else(0,o.vV)("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&(0,o.Fq)(r.sizes[0])&&(0,o.Fq)(r.sizes[1])?(s.img.w=r.sizes[0],s.img.h=r.sizes[1],delete s.img.hmin,delete s.img.wmin):(0,o.vV)("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?s.title={len:r.len||140}:"ext"===n&&(s.ext=r,delete s.required);t.assets.push(s)}return t}(e.nativeParams))})}function O(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,o.vV)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const n=t.map(e=>e.id);return t.length!==new Set(n).size||n.some(e=>e!==parseInt(e,10))?((0,o.vV)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,o.vV)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every(e=>function(e){if(!(0,o.Qd)(e))return(0,o.vV)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,o.Et)(e.img.w)&&!(0,o.Et)(e.img.wmin))return(0,o.vV)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,o.Et)(e.img.h)&&!(0,o.Et)(e.img.hmin))return(0,o.vV)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,o.Et)(e.title.len))return(0,o.vV)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,o.Et)(e.data.type))return(0,o.vV)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,o.Et)(e.video.minduration)&&(0,o.Et)(e.video.maxduration)))return(0,o.vV)("video asset is not properly configured"),!1;return!0}(e))}function E(e,{index:t=a.n.index}={}){const n=t.getAdUnit(e);if(!n)return!1;let r=n.nativeOrtbRequest;return function(e,t){if(!(0,i.A)(e,"link.url"))return(0,o.vV)("native response doesn't have 'link' property. Ortb response: ",e),!1;let n=t.assets.filter(e=>1===e.required).map(e=>e.id),r=e.assets.map(e=>e.id);const a=n.every(e=>(0,s.mK)(r,e));return a||(0,o.vV)(`didn't receive a bid with all required assets. Required ids: ${n}, but received ids in response: ${r}`),a}(e.native?.ortb||N(e.native,r),r)}function x(e,t){const n=t.native.ortb||q(t.native);return"click"===e.action?function(e,t=null,{fetchURL:n=o.z$}={}){if(t){const r=(e.assets||[]).filter(e=>e.link).reduce((e,t)=>(e[t.id]=t.link,e),{}),i=e.link?.clicktrackers||[];let o=r[t],s=i;o&&(s=o.clicktrackers||[]),s.forEach(e=>n(e))}else(e.link?.clicktrackers||[]).forEach(e=>n(e))}(n,e?.assetId):function(e,{runMarkup:t=e=>(0,o.ro)(e),fetchURL:n=o.z$}={}){const r=(e.eventtrackers||[]).filter(e=>e.event===_.impression);let{img:i,js:s}=r.reduce((e,t)=>(v.hasOwnProperty(t.method)&&e[v[t.method]].push(t.url),e),{img:[],js:[]});e.imptrackers&&(i=i.concat(e.imptrackers)),i.forEach(e=>n(e)),s=s.map(e=>`<script async src="${e}"><\/script>`),e.jstracker&&(s=s.concat([e.jstracker])),s.length&&t(s.join("\n"))}(n),e.action}function T(e,t){const n=t?.nativeOrtbRequest,r=e.native?.ortb;if(n&&r){const t=function(e,t){const n={},r=t?.assets||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;for(const t of e?.assets||[]){const e=r.find(e=>t.id===e.id);t.title?n.title=t.title.text:t.img?n[e.img.type===d.oA.MAIN?"image":"icon"]={url:t.img.url,width:t.img.w,height:t.img.h}:t.data&&(n[h[y[e.data.type]]]=t.data.value)}n.impressionTrackers=[];let i=[];e.imptrackers&&n.impressionTrackers.push(...e.imptrackers);for(const t of e?.eventtrackers||[])t.event===_.impression&&t.method===v.img&&n.impressionTrackers.push(t.url),t.event===_.impression&&t.method===v.js&&i.push(t.url);return i=i.map(e=>`<script async src="${e}"><\/script>`),e?.jstracker&&i.push(e.jstracker),i.length&&(n.javascriptTrackers=i.join("\n")),n}(r,n);Object.assign(e.native,t)}["rendererUrl","adTemplate"].forEach(n=>{const r=t?.nativeParams?.[n];r&&(e.native[n]=P(r))})}function C(e,{index:t=a.n.index}={}){let n={};const r=t.getAdUnit(e),o=!1!==(0,i.A)(r,"nativeParams.sendTargetingKeys"),s=function(e){const t={};return(0,i.A)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach(e=>{t[e]=`hb_native_${e}`}),f(f({},d.x5),t)}(r),c=f(f({},e.native),e.native.ext);return delete c.ext,Object.keys(c).forEach(t=>{const a=s[t];let d=P(e.native[t])||P((0,i.A)(e,`native.ext.${t}`));if("adTemplate"===t||!a||!d)return;let c=(0,i.A)(r,`nativeParams.${t}.sendId`);"boolean"!=typeof c&&(c=(0,i.A)(r,`nativeParams.ext.${t}.sendId`)),c&&(d=`${a}:${e.adId}`);let u=(0,i.A)(r,`nativeParams.${t}.sendTargetingKeys`);"boolean"!=typeof u&&(u=(0,i.A)(r,`nativeParams.ext.${t}.sendTargetingKeys`)),("boolean"==typeof u?u:o)&&(n[a]=d)}),n}function S(e,t,n=!1){let r=[];return Object.entries(e).filter(([e,r])=>r&&(!1===n&&"ext"===e||null==t||t.includes(e))).forEach(([e,i])=>{!1===n&&"ext"===e?r.push(...S(i,t,!0)):(n||d.x5.hasOwnProperty(e))&&r.push({key:e,value:P(i)})}),r}function k(e,t,n,{index:r=a.n.index}={}){const i={message:"assetResponse",adId:e.adId};let s=(0,u.vd)(t).native;return s?(i.native=Object.assign({},s),i.renderer=(0,p.k)(t),null!=n&&(s.assets=s.assets.filter(({key:e})=>n.includes(e)))):s=function(e,t,n){const r=f(f({},(0,o.SH)(e.native,["rendererUrl","adTemplate"])),{},{assets:S(e.native,n),nativeKeys:d.x5});return e.native.ortb?r.ortb=e.native.ortb:t.mediaTypes?.native?.ortb&&(r.ortb=N(e.native,t.nativeOrtbRequest)),r}(t,r.getAdUnit(t),n),Object.assign(i,s)}const D=Object.fromEntries(Object.entries(d.x5).map(([e,t])=>[t,e]));function R(e,t){const n=e.assets.map(e=>D[e]);return k(e,t,n)}function j(e,t){return k(e,t,null)}function P(e){return e?.url||e}function B(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}function U(e){if(!O(e))return;const t={};for(const n of e.assets){if(n.title){const e={required:!!n.required&&Boolean(n.required),len:n.title.len};t.title=e}else if(n.img){const e={required:!!n.required&&Boolean(n.required)};if(n.img.w&&n.img.h)e.sizes=[n.img.w,n.img.h];else if(n.img.wmin&&n.img.hmin){const t=B(n.img.wmin,n.img.hmin);e.aspect_ratios=[{min_width:n.img.wmin,min_height:n.img.hmin,ratio_width:n.img.wmin/t,ratio_height:n.img.hmin/t}]}n.img.type===d.oA.MAIN?t.image=e:t.icon=e}else if(n.data){let e=Object.keys(d.jO).find(e=>d.jO[e]===n.data.type),r=Object.keys(d.h0).find(t=>d.h0[t]===e);t[r]={required:!!n.required&&Boolean(n.required)},n.data.len&&(t[r].len=n.data.len)}e.privacy&&(t.privacyLink={required:!1})}return t}function $(e){{if(!e||!(0,o.cy)(e))return e;if(!e.some(e=>(e?.mediaTypes||{})[c.s6]?.ortb))return e;let t=(0,o.Go)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[c.s6]&&e.mediaTypes[c.s6].ortb&&(e.mediaTypes[c.s6]=Object.assign((0,o.Up)(e.mediaTypes[c.s6],d._B),U(e.mediaTypes[c.s6].ortb)),e.nativeParams=w(e.mediaTypes[c.s6]));return t}}function q(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach(([e,n])=>{switch(e){case"clickUrl":t.link.url=n;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(n)?n:[n];break;case"impressionTrackers":(Array.isArray(n)?n:[n]).forEach(e=>{t.eventtrackers.push({event:_.impression,method:v.img,url:e})});break;case"javascriptTrackers":t.jstracker=Array.isArray(n)?n.join(""):n;break;case"privacyLink":t.privacy=n}}),t}function N(e,t){const n=f(f({},q(e)),{},{assets:[]});function r(e,r){let i=t.assets.find(e);null!=i&&(i=(0,o.Go)(i),r(i),n.assets.push(i))}return Object.keys(e).filter(t=>!!e[t]).forEach(t=>{const n=P(e[t]);switch(t){case"title":r(e=>null!=e.title,e=>{e.title={text:n}});break;case"image":case"icon":const e="image"===t?d.oA.MAIN:d.oA.ICON;r(t=>null!=t.img&&t.img.type===e,e=>{e.img={url:n}});break;default:t in d.h0&&r(e=>null!=e.data&&e.data.type===d.jO[d.h0[t]],e=>{e.data={value:n}})}}),n}function M(e){var t={};for(var n in e)t[e[n]]=n;return t}},807:function(e,t,n){"use strict";n.d(t,{Ay:function(){return Z},pX:function(){return J}});var r=n(705),i=n(89),o=n(433),s=n(787),a=n(678),d=n(330),c=n(718),u=n(439),p=n(455);let l={};function f(e,t,n){let r=function(e,t){let n=l[e]=l[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}function m(e){return(0,o.A)(l,`${e}.requestsCounter`)||0}function g(e,t){return(0,o.A)(l,`${e}.bidders.${t}.requestsCounter`)||0}function b(e,t){return(0,o.A)(l,`${e}.bidders.${t}.winsCounter`)||0}var h=n(556),y=n(586),v=n(13),_=n(743),I=n(992),w=n(428),A=n(883),O=n(253),E=n(973),x=n(642);const T=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map(e=>`user.${e}`).concat("device.ext.cdep"),C=["user.eids","user.ext.eids"],S=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function k(e){return Object.assign({get(){},run(e,t,n,r,i){const o=n&&n[r];if(function(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}(o)&&i()){const e=this.get(o);void 0===e?delete n[r]:n[r]=e}}},e)}function D(e){return e.forEach(e=>{e.paths=e.paths.map(e=>{const t=e.split("."),n=t.pop();return[t.length>0?t.join("."):null,n]})}),function(t,n,...r){const i=[],s=function(e,...t){return function(n){return e.hasOwnProperty(n.name)||(e[n.name]=!!n.applies(...t)),e[n.name]}}(t,...r);return e.forEach(e=>{if(!1!==t[e.name])for(const[r,a]of e.paths){const d=null==r?n:(0,o.A)(n,r);if(i.push(e.run(n,r,d,a,s.bind(null,e))),!1===t[e.name])return}}),i.filter(e=>null!=e)}}function R(e,t=O.io){return function(n){return!t(e,n)}}const j=function(e=O.io){const t=D(function(e=O.io){return[{name:E.DL,paths:T,applies:R(E.DL,e)},{name:E.hq,paths:C,applies:R(E.hq,e)},{name:E.hE,paths:S,applies:R(E.hE,e),get:e=>Math.round(100*(e+Number.EPSILON))/100},{name:E.VJ,paths:["source.tid"],applies:R(E.VJ,e)}].map(k)}(e)),n=D(function(e=O.io){return[{name:E.hq,paths:["userId","userIdAsEids"],applies:R(E.hq,e)},{name:E.VJ,paths:["ortb2Imp.ext.tid"],applies:R(E.VJ,e)}].map(k)}(e));return function(e){const r={};return{ortb2:n=>(t(r,n,e),n),bidRequest:t=>(n(r,t,e),t)}}}();function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,O.qB)(E.VJ,"enableTIDs config",()=>{if(!c.$W.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}});const U="pbsBidAdapter",$={CLIENT:"client",SERVER:"server"},q={isAllowed:O.io,redact:j};let N={},M=N.bidderRegistry={},z=N.aliasRegistry={},W=[];c.$W.getConfig("s2sConfig",e=>{e&&e.s2sConfig&&(W=(0,i.cy)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])});var L={};const V=(0,x.ZI)(e=>N.resolveAlias(e)),G=(0,u.A_)("sync",function({bidderCode:e,auctionId:t,bidderRequestId:n,adUnits:r,src:s,metrics:a}){return r.reduce((r,d)=>{const c=d.bids.filter(t=>t.bidder===e);return null==e&&0===c.length&&null!=d.s2sBid&&c.push({bidder:null}),r.push(c.reduce((r,c)=>{const u=null==(c=Object.assign({},c,{ortb2Imp:(0,i.D9)({},d.ortb2Imp,c.ortb2Imp)},(0,i.SH)(d,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?d.mediaTypes:c.mediaTypes;return(0,i.wD)(u)?c=Object.assign({},c,{mediaTypes:u}):(0,i.vV)(`mediaTypes is not correctly configured for adunit ${d.code}`),"client"===s&&function(e,t){f(e,"requestsCounter",t)}(d.code,e),r.push(Object.assign({},c,{adUnitCode:d.code,transactionId:d.transactionId,adUnitId:d.adUnitId,sizes:(0,o.A)(u,"banner.sizes")||(0,o.A)(u,"video.playerSize")||[],bidId:c.bid_id||(0,i.s0)(),bidderRequestId:n,auctionId:t,src:s,metrics:a,bidRequestsCount:m(d.code),bidderRequestsCount:g(d.code,c.bidder),bidderWinsCount:b(d.code,c.bidder)})),r},[])),r},[]).reduce(i.Bq,[]).filter(e=>""!==e)},"getBids"),F=(0,u.A_)("sync",function(e,t,{getS2SBidders:n=J}={}){if(null==t)return e;{const r=n(t);return e.filter(e=>r.has(e.bidder))}},"filterBidsForAdUnit"),H=(0,u.A_)("sync",(e,t)=>e,"setupAdUnitMediaTypes");function J(e){(0,i.cy)(e)||(e=[e]);const t=new Set([null]);return e.filter(e=>e&&e.enabled).flatMap(e=>e.bidders).forEach(e=>t.add(e)),t}const K=(0,u.A_)("sync",function(e,t,{getS2SBidders:n=J}={}){const r=n(t);return(0,i.ZA)(e).reduce((e,t)=>(e[r.has(t)?$.SERVER:$.CLIENT].push(t),e),{[$.CLIENT]:[],[$.SERVER]:[]})},"partitionBidders");function Q(e,t){const n=M[e],r=n?.getSpec&&n.getSpec();if(r&&r[t]&&"function"==typeof r[t])return[r,r[t]]}function X(e,t,n,r,...o){try{(0,i.fH)(`Invoking ${e}.${t}`),c.$W.runWithBidder(e,r.bind(n,...o))}catch(n){(0,i.JE)(`Error calling ${t} of ${e}`)}}function Y(e,t,n){if(n?.src!==_.RW.SRC){const r=Q(e,t);null!=r&&X(e,t,...r,n)}}N.makeBidRequests=(0,u.A_)("sync",function(e,t,n,r,o,a={},d){d=(0,I.BO)(d),v.Ic(_.qY.BEFORE_REQUEST_BIDS,e),(0,s.nk)(e),e.forEach(e=>{(0,i.Qd)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter(e=>!e.bidder||q.isAllowed(E.uc,V(A.tW,e.bidder))),f(e.code,"requestsCounter")}),e=H(e,o);let{[$.CLIENT]:u,[$.SERVER]:l}=K(e,W);c.$W.getConfig("bidderSequence")===c.Ov&&(u=(0,i.k4)(u));const m=(0,h.EN)();let g=[];const b=a.global||{},w=a.bidder||{};function O(e,t){const r=q.redact(null!=t?t:V(A.tW,e.bidderCode)),o=Object.freeze(r.ortb2((0,i.D9)({source:{tid:n}},b,w[e.bidderCode])));return e.ortb2=o,e.bids=e.bids.map(e=>(e.ortb2=o,r.bidRequest(e))),e}W.forEach(r=>{const o=function(e){return V(A.tp,U,{[x.XG]:e.configName})}(r);if(r&&r.enabled&&q.isAllowed(E.uc,o)){let{adUnits:s,hasModuleBids:a}=function(e,t){let n=(0,i.Go)(e),r=!1;return n.forEach(e=>{const n=e.bids.filter(e=>e.module===U&&e.params?.configName===t.configName);1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=(0,i.D9)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&(0,i.JE)('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=F(e.bids,t).map(e=>(e.bid_id=(0,i.s0)(),e))}),n=n.filter(e=>0!==e.bids.length||null!=e.s2sBid),{adUnits:n,hasModuleBids:r}}(e,r),c=(0,i.lk)();(0===l.length&&a?[null]:l).forEach(e=>{const a=(0,i.s0)(),u=d.fork(),p=O({bidderCode:e,auctionId:n,bidderRequestId:a,uniquePbsTid:c,bids:G({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:(0,i.Go)(s),src:_.RW.SRC,metrics:u}),auctionStart:t,timeout:r.timeout,src:_.RW.SRC,refererInfo:m,metrics:u},o);0!==p.bids.length&&g.push(p)}),s.forEach(e=>{let t=e.bids.filter(e=>(0,p.I6)(g,t=>(0,p.I6)(t.bids,t=>t.bidId===e.bid_id)));e.bids=t}),g.forEach(e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=s.filter(e=>e.bids.length>0||null!=e.s2sBid))})}});let T=function(e){let t=(0,i.Go)(e);return t.forEach(e=>{e.bids=F(e.bids,null)}),t=t.filter(e=>0!==e.bids.length),t}(e);return u.forEach(e=>{const s=(0,i.s0)(),a=d.fork(),c=O({bidderCode:e,auctionId:n,bidderRequestId:s,bids:G({bidderCode:e,auctionId:n,bidderRequestId:s,adUnits:(0,i.Go)(T),labels:o,src:"client",metrics:a}),auctionStart:t,timeout:r,refererInfo:m,metrics:a}),u=M[e];u||(0,i.vV)(`Trying to make a request for bidder that does not exist: ${e}`),u&&c.bids&&0!==c.bids.length&&g.push(c)}),g.forEach(e=>{y.mW.getConsentData()&&(e.gdprConsent=y.mW.getConsentData()),y.t6.getConsentData()&&(e.uspConsent=y.t6.getConsentData()),y.ad.getConsentData()&&(e.gppConsent=y.ad.getConsentData())}),g},"makeBidRequests"),N.callBids=(e,t,n,r,o,s,a,u={})=>{if(!t.length)return void(0,i.JE)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[p,l]=t.reduce((e,t)=>(e[Number(void 0!==t.src&&t.src===_.RW.SRC)].push(t),e),[[],[]]);var f=[];l.forEach(e=>{for(var t=-1,n=0;n<f.length;++n)if(e.uniquePbsTid===f[n].uniquePbsTid){t=n;break}t<=-1&&f.push(e)});let m=0;W.forEach(e=>{if(e&&f[m]&&J(e).has(f[m].bidderCode)){const t=(0,d.g4)(s,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0);let c=e.bidders;const p=M[e.adapter];let g=f[m].uniquePbsTid,b=f[m].adUnitsS2SCopy,h=l.filter(e=>e.uniquePbsTid===g);if(p){let o={ad_units:b,s2sConfig:e,ortb2Fragments:u,requestBidsTimeout:s};if(o.ad_units.length){let e=h.map(e=>(e.start=(0,i.vE)(),function(t){t||a(e.bidderRequestId),r.apply(e,arguments)}));const s=(0,i.ZA)(o.ad_units).filter(e=>c.includes(e));(0,i.OG)(`CALLING S2S HEADER BIDDERS ==== ${s.length>0?s.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),h.forEach(e=>{v.Ic(_.qY.BID_REQUESTED,B(B({},e),{},{tid:e.auctionId}))}),p.callBids(o,l,n,t=>e.forEach(e=>e(t)),t)}}else(0,i.vV)("missing "+e.adapter);m++}}),p.forEach(e=>{e.start=(0,i.vE)();const t=M[e.bidderCode];c.$W.runWithBidder(e.bidderCode,()=>{(0,i.OG)("CALLING BIDDER"),v.Ic(_.qY.BID_REQUESTED,e)});let u=(0,d.g4)(s,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0);const p=r.bind(e);try{c.$W.runWithBidder(e.bidderCode,t.callBids.bind(t,e,n,p,u,()=>a(e.bidderRequestId),c.$W.callbackWithBidder(e.bidderCode)))}catch(t){(0,i.vV)(`${e.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:t,bidRequest:e}),p()}})},N.videoAdapters=[],N.registerBidAdapter=function(e,t,{supportedMediaTypes:n=[]}={}){e&&t?"function"==typeof e.callBids?(M[t]=e,y.o2.register(A.tW,t,e.getSpec?.().gvlid),(0,p.mK)(n,"video")&&N.videoAdapters.push(t),(0,p.mK)(n,"native")&&s.mT.push(t)):(0,i.vV)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,i.vV)("bidAdapter or bidderCode not specified")},N.aliasBidAdapter=function(e,t,n){if(void 0===M[t]){let r=M[e];if(void 0===r){const n=[];W.forEach(r=>{if(r.bidders&&r.bidders.length){const i=r&&r.bidders;r&&(0,p.mK)(i,t)?z[t]=e:n.push(e)}}),n.forEach(e=>{(0,i.vV)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")})}else try{let o,d=function(e){let t=[];return(0,p.mK)(N.videoAdapters,e)&&t.push("video"),(0,p.mK)(s.mT,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)o=new r.constructor,o.setBidderCode(t);else{let s=r.getSpec(),d=n&&n.gvlid;null!=s.gvlid&&null==d&&(0,i.JE)(`Alias '${t}' will NOT re-use the GVL ID of the original adapter ('${s.code}', gvlid: ${s.gvlid}). Functionality that requires TCF consent may not work as expected.`);let c=n&&n.skipPbsAliasing;o=(0,a.xb)(Object.assign({},s,{code:t,gvlid:d,skipPbsAliasing:c})),z[t]=e}N.registerBidAdapter(o,t,{supportedMediaTypes:d})}catch(t){(0,i.vV)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,i.OG)('alias name "'+t+'" has been already specified.')},N.resolveAlias=function(e){let t,n=e;for(;z[n]&&(!t||!t.has(n));)n=z[n],(t=t||new Set).add(n);return n},N.registerAnalyticsAdapter=function({adapter:e,code:t,gvlid:n}){e&&t?"function"==typeof e.enableAnalytics?(e.code=t,L[t]={adapter:e,gvlid:n},y.o2.register(A.Tn,t,n)):(0,i.vV)(`Prebid Error: Analytics adaptor error for analytics "${t}"\n        analytics adapter must implement an enableAnalytics() function`):(0,i.vV)("Prebid Error: analyticsAdapter or analyticsCode not specified")},N.enableAnalytics=function(e){(0,i.cy)(e)||(e=[e]),e.forEach(e=>{const t=L[e.provider];t&&t.adapter?q.isAllowed(E.mo,V(A.Tn,e.provider,{[x.TQ]:e}))&&t.adapter.enableAnalytics(e):(0,i.vV)(`Prebid Error: no analytics adapter found in registry for '${e.provider}'.`)})},N.getBidAdapter=function(e){return M[e]},N.getAnalyticsAdapter=function(e){return L[e]},N.callTimedOutBidders=function(e,t,n){t=t.map(t=>(t.params=(0,i.SB)(e,t.adUnitCode,t.bidder),t.timeout=n,t)),t=(0,i.$z)(t,"bidder"),Object.keys(t).forEach(e=>{Y(e,"onTimeout",t[e])})},N.callBidWonBidder=function(e,t,n){t.params=(0,i.SB)(n,t.adUnitCode,t.bidder),f(t.adUnitCode,"winsCounter",t.bidder),Y(e,"onBidWon",t)},N.callBidBillableBidder=function(e){Y(e.bidder,"onBidBillable",e)},N.callSetTargetingBidder=function(e,t){Y(e,"onSetTargeting",t)},N.callBidViewableBidder=function(e,t){Y(e,"onBidViewable",t)},N.callBidderError=function(e,t,n){Y(e,"onBidderError",{error:t,bidderRequest:n})},N.callDataDeletionRequest=(0,u.A_)("sync",function(...e){const t="onDataDeletionRequest";Object.keys(M).filter(e=>!z.hasOwnProperty(e)).forEach(n=>{const r=Q(n,t);if(null!=r){const i=w.n.getBidsRequested().filter(e=>function(e){const t=new Set;for(;z.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=z[e];return e}(e.bidderCode)===n);X(n,t,...r,i,...e)}}),Object.entries(L).forEach(([n,r])=>{const o=r?.adapter?.[t];if("function"==typeof o)try{o.apply(r.adapter,e)}catch(e){(0,i.vV)(`error calling ${t} of ${n}`,e)}})});var Z=N},817:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,n="",r=this.t,i=this.DB-r*this.DB%4;if(r-- >0)for(i<this.DB&&(e=this[r]>>i)>0&&(t=!0,n=p(e));r>=0;)i<4?(e=(this[r]&(1<<i)-1)<<4-i,e|=this[--r]>>(i+=this.DB-4)):(e=this[r]>>(i-=4)&15,i<=0&&(i+=this.DB,--r)),e>0&&(t=!0),t&&(n+=p(e));return t?n:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var n=t.length,r=!1,i=0;--n>=0;){var o=c(t,n);o<0?"-"==t.charAt(n)&&(r=!0):(r=!1,0==i?this[this.t++]=o:i+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this[this.t++]=o>>this.DB-i):this[this.t-1]|=o<<i,(i+=4)>=this.DB&&(i-=this.DB))}this.clamp(),r&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=i();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var n=i();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(e/this.DB),s=this.s<<n&this.DM,a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>r|s,s=(this[a]&i)<<n;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,n){var r=this.abs(),i=t.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.divRemTo=function(t,n,r){var s=t.abs();if(!(s.t<=0)){var a=this.abs();if(a.t<s.t)return null!=n&&n.fromHexString("0"),void(null!=r&&this.copyTo(r));null==r&&(r=i());var d=i(),c=this.s,u=t.s,p=this.DB-o(s[s.t-1]);p>0?(s.lShiftTo(p,d),a.lShiftTo(p,r)):(s.copyTo(d),a.copyTo(r));var l=d.t,f=d[l-1];if(0!=f){var m=f*(1<<this.F1)+(l>1?d[l-2]>>this.F2:0),g=this.FV/m,b=(1<<this.F1)/m,h=1<<this.F2,y=r.t,v=y-l,_=null==n?i():n;for(d.dlShiftTo(v,_),r.compareTo(_)>=0&&(r[r.t++]=1,r.subTo(_,r)),e.ONE.dlShiftTo(l,_),_.subTo(d,d);d.t<l;)d[d.t++]=0;for(;--v>=0;){var I=r[--y]==f?this.DM:Math.floor(r[y]*g+(r[y-1]+h)*b);if((r[y]+=d.am(0,I,r,v,0,l))<I)for(d.dlShiftTo(v,_),r.subTo(_,r);r[y]<--I;)r.subTo(_,r)}null!=n&&(r.drShiftTo(l,n),c!=u&&e.ZERO.subTo(n,n)),r.t=l,r.clamp(),p>0&&r.rShiftTo(p,r),c<0&&e.ZERO.subTo(r,r)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new l(t):new f(t),this.exp(e,n)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var r=i(),s=i(),a=n.convert(this),d=o(t)-1;for(a.copyTo(r);--d>=0;)if(n.sqrTo(r,s),(t&1<<d)>0)n.mulTo(s,a,r);else{var c=r;r=s,s=c}return n.revert(r)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.am1=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},e.prototype.am2=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var d=32767&this[e],c=this[e++]>>15,u=a*d+c*s;i=((d=s*d+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+a*c+(i>>>30),n[r++]=1073741823&d}return i},e.prototype.am3=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var d=16383&this[e],c=this[e++]>>14,u=a*d+c*s;i=((d=s*d+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+a*c,n[r++]=268435455&d}return i},e}();function i(){return new r(null)}function o(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}t.BigInteger=r,t.nbi=i,t.nbits=o;var s,a,d=[];for(s="0".charCodeAt(0),a=0;a<=9;++a)d[s++]=a;for(s="a".charCodeAt(0),a=10;a<36;++a)d[s++]=a;for(s="A".charCodeAt(0),a=10;a<36;++a)d[s++]=a;function c(e,t){var n=d[e.charCodeAt(t)];return null==n?-1:n}t.intAt=c;var u="0123456789abcdefghijklmnopqrstuvwxyz";function p(e){return u.charAt(e)}t.int2char=p,t.b64toHex=function(e){var t,n="",r=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));o<0||(0==r?(n+=p(o>>2),i=3&o,r=1):1==r?(n+=p(i<<2|o>>4),i=15&o,r=2):2==r?(n+=p(i),n+=p(o>>2),i=3&o,r=3):(n+=p(i<<2|o>>4),n+=p(15&o),r=0))}return 1==r&&(n+=p(i<<2)),n},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var l=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),f=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function m(e){var t=i();return t.fromHexString(e.toString()),t}t.nbv=m,r.ZERO=m(0),r.ONE=m(1),"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=r.prototype.am2,n=30):"Netscape"!=navigator.appName?(r.prototype.am=r.prototype.am1,n=26):(r.prototype.am=r.prototype.am3,n=28),r.prototype.DB=n,r.prototype.DM=(1<<n)-1,r.prototype.DV=1<<n,r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-n,r.prototype.F2=2*n-52},831:function(e,t,n){"use strict";n.d(t,{E:function(){return s},m:function(){return o}});const r=window,i=r.pbjs=r.pbjs||{};function o(){return i}function s(e){i.installedModules.push(e)}i.cmd=i.cmd||[],i.que=i.que||[],r===window&&(r._pbjsGlobals=r._pbjsGlobals||[],r._pbjsGlobals.push("pbjs"))},883:function(e,t,n){"use strict";n.d(t,{Tn:function(){return a},fW:function(){return o},tW:function(){return i},tp:function(){return r},zu:function(){return s}});const r="prebid",i="bidder",o="userId",s="rtd",a="analytics"},885:function(e,t,n){"use strict";n.d(t,{$A:function(){return _},BS:function(){return k},Uc:function(){return O},bw:function(){return S},n6:function(){return I},vW:function(){return E},vd:function(){return T}});var r=n(89),i=n(433),o=n(13),s=n(743),a=n(718),d=n(487),c=n(233),u=n(428),p=n(922),l=n(439),f=n(787),m=n(469);const{AD_RENDER_FAILED:g,AD_RENDER_SUCCEEDED:b,STALE_RENDER:h,BID_WON:y}=s.qY,{EXCEPTION:v}=s.as,_=(0,l.A_)("sync",function(e,t=!0,n=m.k.resolve()){return n.then(t=>t??u.n.findBidByAdId(e)).catch(()=>{})}),I=(0,l.A_)("sync",function(e){o.Ic(y,e),u.n.addWinningBid(e)});function w({reason:e,message:t,bid:n,id:i}){const s={reason:e,message:t};n&&(s.bid=n,s.adId=n.adId),i&&(s.adId=i),(0,r.vV)(`Error rendering ad (id: ${i}): ${t}`),o.Ic(g,s)}function A({doc:e,bid:t,id:n}){const r={doc:e};t&&(r.bid=t),n&&(r.adId=n),o.Ic(b,r)}function O(e,t){switch(e.event){case s.qY.AD_RENDER_FAILED:w({bid:t,id:t.adId,reason:e.info.reason,message:e.info.message});break;case s.qY.AD_RENDER_SUCCEEDED:A({doc:null,bid:t,id:t.adId});break;default:(0,r.vV)(`Received event request for unsupported event: '${e.event}' (adId: '${t.adId}')`)}}function E(e,t,{resizeFn:n,fireTrackers:r=f.vO}){"resizeNativeHeight"===e.action?n(e.width,e.height):r(e,t)}const x={[s.nl.EVENT]:O};x[s.nl.NATIVE]=E;const T=(0,l.A_)("sync",function(e,t){const{ad:n,adUrl:i,cpm:o,originalCpm:s,width:a,height:d}=e,c={AUCTION_PRICE:s||o,CLICKTHROUGH:t?.clickUrl||""};return{ad:(0,r.gM)(n,c),adUrl:(0,r.gM)(i,c),width:a,height:d}}),C=(0,l.A_)("sync",function({renderFn:e,resizeFn:t,bidResponse:n,options:r}){if(n.mediaType===c.G_)return void w({reason:s.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:n,id:n.adId});const i=T(n,r);e(Object.assign({adId:n.adId},i));const{width:o,height:a}=i;null!=(o??a)&&t(o,a)});function S({renderFn:e,resizeFn:t,adId:n,options:d,bidResponse:c,doc:u}){if(null!=c){if(c.status!==s.tl.RENDERED||((0,r.JE)(`Ad id ${n} has been rendered before`),o.Ic(h,c),!(0,i.A)(a.$W.getConfig("auctionOptions"),"suppressStaleRender"))){try{C({renderFn:e,resizeFn:t,bidResponse:c,options:d,doc:u})}catch(e){w({reason:s.as.EXCEPTION,message:e.message,id:n,bid:c})}I(c)}}else w({reason:s.as.CANNOT_FIND_AD,message:`Cannot find ad '${n}'`,id:n})}function k(e,t,n){let i;function o(e,n){w(Object.assign({id:t,bid:i},{reason:e,message:n}))}function a(t,n){e.defaultView&&e.defaultView.frameElement&&(t&&(e.defaultView.frameElement.width=t),n&&(e.defaultView.frameElement.height=n))}const d=(c={resizeFn:a},function(e,t,n){x.hasOwnProperty(e)&&x[e](t,n,c)});var c;function u(t){t.ad?(e.write(t.ad),e.close(),A({doc:e,bid:i,adId:i.adId})):(0,p.H)(i).then(n=>n(t,{sendMessage:(e,t)=>d(e,t,i),mkFrame:r.hw},e.defaultView)).then(()=>A({doc:e,bid:i,adId:i.adId}),e=>{o(e?.reason||s.as.EXCEPTION,e?.message),e?.stack&&(0,r.vV)(e)});const n=document.createComment(`Creative ${i.creativeId} served by ${i.bidder} Prebid.js Header Bidding`);(0,r._s)(n,e,"html")}try{t&&e?e!==document||(0,r.al)()?_(t).then(r=>{i=r,S({renderFn:u,resizeFn:a,adId:t,options:{clickUrl:n?.clickThrough},bidResponse:r,doc:e})}):o(s.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,"renderAd was prevented from writing to the main document."):o(s.as.MISSING_DOC_OR_ADID,"missing "+(t?"doc":"adId"))}catch(e){o(v,e.message)}}C.before(function(e,t){const{bidResponse:n,doc:r}=t;(0,d.J7)(n.renderer)?((0,d.Pg)(n.renderer,n,r),A({doc:r,bid:n,id:n.adId}),e.bail()):e(t)},100)},922:function(e,t,n){"use strict";n.d(t,{H:function(){return s},k:function(){return o}});var r=n(469),i=n(89);const o=(0,n(439).A_)("sync",function(e){return'!function(){"use strict";window.render=function({ad:d,adUrl:i,width:n,height:e},{mkFrame:o},r){if(!d&&!i)throw{reason:"noAd",message:"Missing ad markup or URL"};{const t=r.document,s={width:n,height:e};i&&!d?s.src=i:s.srcdoc=d,t.body.appendChild(o(t,s))}}}();'}),s=function(){const e={};return function(t){const n=o(t);return e.hasOwnProperty(n)||(e[n]=new r.k(e=>{const t=(0,i.CA)();t.srcdoc=`<script>${n}<\/script>`,t.onload=()=>e(t.contentWindow.render),document.body.appendChild(t)})),e[n]}}()},973:function(e,t,n){"use strict";n.d(t,{DL:function(){return u},Ml:function(){return i},Ue:function(){return r},VJ:function(){return l},hE:function(){return p},hq:function(){return c},mo:function(){return d},qX:function(){return o},uc:function(){return a},yl:function(){return s}});const r="accessDevice",i="syncUser",o="enrichUfpd",s="enrichEids",a="fetchBids",d="reportAnalytics",c="transmitEids",u="transmitUfpd",p="transmitPreciseGeo",l="transmitTid"},992:function(e,t,n){"use strict";n.d(t,{Ak:function(){return b},BO:function(){return f},K7:function(){return m}});var r=n(718);const i="performanceMetrics",o=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),s=new WeakMap;function a({now:e=o,mkNode:t=u,mkTimer:n=c,mkRenamer:r=e=>e,nodes:i=s}={}){return function(){return function o(s,a=e=>({forEach(t){t(e)}})){a=r(a);const d=function(e){return s.dfWalk({visit(t,n){const r=n.timestamps;if(r.hasOwnProperty(e))return r[e]}})};function c(e,t){const n=a(e);s.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,r){n.forEach(n=>{null==e?r.metrics[n]=t:(r.groups.hasOwnProperty(n)||(r.groups[n]=[]),r.groups[n].push(t))})}})}function u(t){return n(e,e=>c(t,e))}function p(){let e={};return s.dfWalk({visit(t,n){e=Object.assign({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}const l={startTiming:u,measureTime:function(e,t){return u(e).stopAfter(t)()},measureHookTime:function(e,t,n){const r=u(e);return n(function(e){const t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))},checkpoint:function(t){s.timestamps[t]=e()},timeSince:function(t,n){const r=d(t),i=null!=r?e()-r:null;return null!=n&&c(n,i),i},timeBetween:function(e,t,n){const r=d(e),i=d(t),o=null!=r&&null!=i?i-r:null;return null!=n&&c(n,o),o},setMetric:c,getMetrics:p,fork:function({propagate:e=!0,stopPropagation:n=!1,includeGroups:r=!1}={}){return o(t([[s,{propagate:e,stopPropagation:n,includeGroups:r}]]),a)},join:function(e,{propagate:t=!0,stopPropagation:n=!1,includeGroups:r=!1}={}){const o=i.get(e);null!=o&&o.addParent(s,{propagate:t,stopPropagation:n,includeGroups:r})},newMetrics:function(){return o(s.newSibling(),a)},renameWith:function(e){return o(s,e)},toJSON:()=>p()};return i.set(l,s),l}(t([]))}}function d(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function c(e,t){const n=e();let r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=e=>d(e,i),i.stopAfter=e=>d(e,null,i),i}function u(e){return{metrics:{},timestamps:{},groups:{},addParent(t,n){e.push([t,n])},newSibling:()=>u(e.slice()),dfWalk({visit:t,follow:n=()=>!0,visited:r=new Set,inEdge:i}={}){let o;if(!r.has(this)){if(r.add(this),o=t(i,this),null!=o)return o;for(const[s,a]of e)if(n(i,a)&&(o=s.dfWalk({visit:t,follow:n,visited:r,inEdge:a}),null!=o))return o}}}}const p=(()=>{const e=function(){},t=()=>({}),n={forEach:e},r=()=>null;r.stopBefore=e=>e,r.stopAfter=e=>e;const i=Object.defineProperties({dfWalk:e,newSibling:()=>i,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map(e=>[e,{get:t}])));return a({now:()=>0,mkNode:()=>i,mkRenamer:()=>()=>n,mkTimer:()=>r,nodes:{get:e,set:e}})()})();let l=!0;function f(e){return l&&e||p}r.$W.getConfig(i,e=>{l=!!e[i]});const m=(()=>{const e=a();return function(){return l?e():p}})();function g(e,t){return function(n,r){return function(i,...o){const s=this;return f(t.apply(s,o)).measureHookTime(e+n,i,function(e){return r.call(s,e,...o)})}}}const b=g("requestBids.",e=>e.metrics);g("addBidResponse.",(e,t)=>t.metrics)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(831),t=__webpack_require__(89),n=__webpack_require__(433);function r(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,s=t.length,a=e;o<s&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)a=a[i]=o===s?n:typeof(r=a[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}var i=__webpack_require__(705),o=__webpack_require__(787),s=__webpack_require__(743),a=__webpack_require__(455),d=__webpack_require__(885),c=__webpack_require__(922);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const{REQUEST:l,RESPONSE:f,NATIVE:m,EVENT:g}=s.nl,b={[l]:function(e,t,n){(0,d.bw)({renderFn(t){e(Object.assign({message:f,renderer:(0,c.k)(n)},t))},resizeFn:h(t.adId,n),options:t.options,adId:t.adId,bidResponse:n})},[g]:function(e,n,r){if(null!=r){if(r.status===s.tl.RENDERED)return(0,d.Uc)(n,r);(0,t.JE)(`Received x-origin event request without corresponding render request for ad '${r.adId}'`)}else(0,t.vV)(`Cannot find ad '${n.adId}' for x-origin event request`)}};function h(e,n){return function(r,i){!function({adId:e,adUnitCode:n,width:r,height:i}){function o(e){return e?e+"px":"100%"}function s(r){let i=function(e,n){return(0,t.II)()?function(e){const t=(0,a.I6)(window.googletag.pubads().getSlots(),t=>(0,a.I6)(t.getTargetingKeys(),n=>(0,a.mK)(t.getTargeting(n),e)));return t?t.getSlotElementId():null}(e):(0,t.t1)()?function(e){let t=window.apntag.getTag(e);return t&&t.targetId}(n):n}(e,n),o=document.getElementById(i);return o&&o.querySelector(r)}["div","iframe"].forEach(e=>{let a=s(e+':not([style*="display: none"])');if(a){let e=a.style;e.width=o(r),e.height=o(i)}else(0,t.JE)(`Unable to locate matching page element for adUnitCode ${n}.  Can't resize it to ad's dimensions.  Please review setup.`)})}(p(p({},n),{},{width:r,height:i,adId:e}))}}Object.assign(b,{[m]:function(e,n,r){if(null!=r)switch(r.status!==s.tl.RENDERED&&(0,d.n6)(r),n.action){case"assetRequest":e((0,o.IX)(n,r));break;case"allAssetRequest":e((0,o.yl)(n,r));break;default:(0,d.vW)(n,r,{resizeFn:h(n.adId,r)})}else(0,t.vV)(`Cannot find ad for x-origin event request: '${n.adId}'`)}});var y=__webpack_require__(588),v=__webpack_require__(718),_=__webpack_require__(428),I=__webpack_require__(233),w=__webpack_require__(439),A=__webpack_require__(447);function O(e,t){return e===t?0:e<t?-1:1}function E(e=e=>e){return(t,n)=>O(e(t),e(n))}function x(e=O){return(t,n)=>-e(t,n)||0}function T(...e){return function(t,n){for(const r of e){const e=r(t,n);if(0!==e)return e}return 0}}function C(e=O){return function(e=O){return(t,n)=>e(n,t)<0?n:t}(x(e))}const S=E(e=>e.cpm),k=E(e=>e.responseTimestamp),D=C(T(S,x(E(e=>e.timeToRespond)))),R=C(T(S,x(k)));C(T(S,k));var j=__webpack_require__(389),P=[];const B="targetingControls.allowTargetingKeys",U="targetingControls.addTargetingKeys",$=`Only one of "${B}" or "${U}" can be set`,q=Object.keys(s.xS).map(e=>s.xS[e]);let N={isActualBid:e=>e.getStatusCode()===s.XQ.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(0,j.L)(e)>(0,t.vE)(),isUnusedBid:e=>e&&(e.status&&!(0,a.mK)([s.tl.RENDERED],e.status)||!e.status)};function M(e){return!Object.values(N).some(t=>!t(e))}const z=(0,w.A_)("sync",function(e,n,r=0,i=!1){if(!i){const i=[],o=v.$W.getConfig("sendBidsControl.dealPrioritization");let s=(0,t.$z)(e,"adUnitCode");return Object.keys(s).forEach(e=>{let a=[],d=(0,t.$z)(s[e],"bidderCode");Object.keys(d).forEach(e=>a.push(d[e].reduce(n))),r>0?(a=o?a.sort(W(!0)):a.sort((e,t)=>t.cpm-e.cpm),i.push(...a.slice(0,r))):i.push(...a)}),i}return e});function W(e=!1){return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}function L(e,n,r=()=>window.googletag.pubads().getSlots()){return r().reduce((e,r)=>{const i=(0,t.fp)(n)&&n(r);return Object.keys(e).filter((0,t.fp)(i)?i:(0,t.iC)(r)).forEach(t=>e[t].push(r)),e},Object.fromEntries(e.map(e=>[e,[]])))}const V=function(e){let r={},i={};function d(e,n){return e.adserverTargeting&&n&&((0,t.cy)(n)&&(0,a.mK)(n,e.adUnitCode)||"string"==typeof n&&e.adUnitCode===n)}function c(n){return"string"==typeof n?[n]:(0,t.cy)(n)?n:e.getAdUnitCodes()||[]}function u(){let t=e.getBidsReceived();if(v.$W.getConfig("useBidCache")){const e=v.$W.getConfig("bidCacheFilterFunction");"function"==typeof e&&(t=t.filter(t=>i[t.adUnitCode]===t.auctionId||!!e(t)))}else t=t.filter(e=>i[e.adUnitCode]===e.auctionId);return t=t.filter(e=>(0,n.A)(e,"video.context")!==I.LM).filter(M),t.forEach(e=>(e.latestTargetedAuctionId=i[e.adUnitCode],e)),z(t,R)}function p(e,t){let n=r.getWinningBids(e,t),i=l();return n=n.map(e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)).reduce((t,n)=>{const r=[e.adserverTargeting[n]],i={[n.substring(0,20)]:r};if(n===s.xS.DEAL){const o=`${n}_${e.bidderCode}`.substring(0,20),s={[o]:r};return[...t,i,s]}return[...t,i]},[])})),n}function l(){return e.getStandardBidderAdServerTargeting().map(e=>e.key).concat(q).filter(t.hj)}function f(e,n,r,i){return Object.keys(n.adserverTargeting).filter(m()).forEach(r=>{e.length&&e.filter(function(e){return function(t){return t.adUnitCode===n.adUnitCode&&t.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){(0,t.cy)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(n.adserverTargeting[e]).filter(t.hj),delete n.adserverTargeting[e]}}(r))}),e.push(n),e}function m(){let e=l();return e=e.concat(o.Nh),function(t){return-1===e.indexOf(t)}}function g(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(m()).map(t=>({[t.substring(0,20)]:[e.adserverTargeting[t]]}))}}function b(e,t){return t.map(t=>({[`${t}_${e.bidderCode}`.substring(0,20)]:[e.adserverTargeting[t]]}))}return r.setLatestAuctionForAdUnit=function(e,t){i[e]=t},r.resetPresetTargeting=function(e,n){if((0,t.II)()){const t=c(e);let r=P.reduce((e,t)=>(e[t]=null,e),{});Object.values(L(t,n)).forEach(e=>{e.forEach(e=>e.updateTargetingFromMap(r))})}},r.resetPresetTargetingAST=function(e){c(e).forEach(function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const n=Object.keys(t.keywords),r={};n.forEach(e=>{(0,a.mK)(P,e.toLowerCase())||(r[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:r})}})},r.getAllTargeting=function(r,i=u()){const l=c(r);var m=p(l,i).concat(function(e,t){return t.filter(t=>(0,a.mK)(e,t.adUnitCode)).map(e=>Object.assign({},e)).reduce(f,[]).map(g).filter(e=>e)}(l,i)).concat(v.$W.getConfig("enableSendAllBids")?function(e,t){const n=q.concat(o.Nh),r=v.$W.getConfig("sendBidsControl.bidLimit"),i=z(t,D,r),a=v.$W.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),c=a?a.map(e=>s.xS[e]):n;return i.map(t=>{if(d(t,e))return{[t.adUnitCode]:b(t,n.filter(e=>void 0!==t.adserverTargeting[e]&&-1!==c.indexOf(e)))}}).filter(e=>e)}(l,i):function(e,t){if(!0===v.$W.getConfig("targetingControls.alwaysIncludeDeals")){const n=q.concat(o.Nh);return z(t,D).map(t=>{if(t.dealId&&d(t,e))return{[t.adUnitCode]:b(t,n.filter(e=>void 0!==t.adserverTargeting[e]))}}).filter(e=>e)}return[]}(l,i)).concat(function(r){function i(e){return(0,n.A)(e,s.iD.ADSERVER_TARGETING)}function o(e){const n=i(e);return Object.keys(n).map(function(e){return(0,t.O8)(n[e])&&(n[e]=n[e].split(",").map(e=>e.trim())),(0,t.cy)(n[e])||(n[e]=[n[e]]),{[e]:n[e]}})}return e.getAdUnits().filter(e=>(0,a.mK)(r,e.code)&&i(e)).map(e=>({[e.code]:o(e)}))}(l));m.map(e=>{Object.keys(e).map(t=>{e[t].map(e=>{-1===P.indexOf(Object.keys(e)[0])&&(P=Object.keys(e).concat(P))})})});const h=Object.keys(Object.assign({},s.Zh,s.x5));let y=v.$W.getConfig(B);const _=v.$W.getConfig(U);if(null!=_&&null!=y)throw new Error($);y=null!=_?h.concat(_):y||h,Array.isArray(y)&&y.length>0&&(m=function(e,n){const r=Object.assign({},s.xS,s.x5),i=Object.keys(r),o={};(0,t.fH)(`allowTargetingKeys - allowed keys [ ${n.map(e=>r[e]).join(", ")} ]`),e.map(e=>{const t=Object.keys(e)[0],s=e[t].filter(e=>{const t=Object.keys(e)[0],s=0===i.filter(e=>0===t.indexOf(r[e])).length||(0,a.I6)(n,e=>{const n=r[e];return 0===t.indexOf(n)});return o[t]=!s,s});e[t]=s});const d=Object.keys(o).filter(e=>o[e]);return(0,t.fH)(`allowTargetingKeys - removed keys [ ${d.join(", ")} ]`),e.filter(e=>e[Object.keys(e)[0]].length>0)}(m,y)),m=function(e){let t=e.map(e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map(e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")})).reduce((e,t)=>Object.assign(t,e),{})})).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=Object.assign({},e[n],t[n]),e},{});return t}(m);const I=v.$W.getConfig("targetingControls.auctionKeyMaxChars");return I&&((0,t.fH)(`Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ${I} characters.  Running checks on auction keys...`),m=function(e,n){let r=(0,t.Go)(e),i=Object.keys(r).map(e=>({adUnitCode:e,adserverTargeting:r[e]})).sort(W());return i.reduce(function(e,i,o,s){let a=(d=i.adserverTargeting,Object.keys(d).reduce(function(e,t){return e+`${t}%3d${encodeURIComponent(d[t])}%26`},""));var d;o+1===s.length&&(a=a.slice(0,-3));let c=i.adUnitCode,u=a.length;return u<=n?(n-=u,(0,t.fH)(`AdUnit '${c}' auction keys comprised of ${u} characters.  Deducted from running threshold; new limit is ${n}`,r[c]),e[c]=r[c]):(0,t.JE)(`The following keys for adUnitCode '${c}' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ${u}, the current allotted amount was ${n}.\n`,r[c]),o+1===s.length&&0===Object.keys(e).length&&(0,t.vV)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})}(m,I)),l.forEach(e=>{m[e]||(m[e]={})}),m},v.$W.getConfig("targetingControls",function(e){null!=(0,n.A)(e,B)&&null!=(0,n.A)(e,U)&&(0,t.vV)($)}),r.setTargetingForGPT=function(e,n){Object.entries(L(Object.keys(e),n)).forEach(([n,r])=>{r.forEach(r=>{Object.keys(e[n]).forEach(t=>{let r=e[n][t];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[n][t]=r}),(0,t.OG)(`Attempting to set targeting-map for slot: ${r.getSlotElementId()} with targeting-map:`,e[n]),r.updateTargetingFromMap(e[n])})})},r.getWinningBids=function(e,n=u()){const r=c(e);return n.filter(e=>(0,a.mK)(r,e.adUnitCode)).filter(e=>!0===A.u.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0).map(e=>e.adUnitCode).filter(t.hj).map(e=>n.filter(t=>t.adUnitCode===e?t:null).reduce(D))},r.setTargetingForAst=function(e){let n=r.getAllTargeting(e);try{r.resetPresetTargetingAST(e)}catch(e){(0,t.vV)("unable to reset targeting for AST"+e)}Object.keys(n).forEach(e=>Object.keys(n[e]).forEach(r=>{if((0,t.OG)(`Attempting to set targeting for targetId: ${e} key: ${r} value: ${n[e][r]}`),(0,t.O8)(n[e][r])||(0,t.cy)(n[e][r])){let t={},i=/pt[0-9]/;r.search(i)<0?t[r.toUpperCase()]=n[e][r]:t[r]=n[e][r],window.apntag.setKeywords(e,t,{overrideKeyValue:!0})}}))},r.isApntagDefined=function(){if(window.apntag&&(0,t.fp)(window.apntag.setKeywords))return!0},r}(_.n);var G=__webpack_require__(651),F=__webpack_require__(286),H=__webpack_require__(469);const J="__pbjs_debugging__";function K(){return(0,e.m)().installedModules.includes("debugging")}function Q(e){return new H.k(t=>{(0,F.R)(e,"debugging",t)})}function X({alreadyInstalled:n=K,script:r=Q}={}){let i=null;return function(){return null==i&&(i=new H.k((i,o)=>{setTimeout(()=>{if(n())i();else{const n="https://cdn.jsdelivr.net/npm/prebid.js@8.52.2/dist/debugging-standalone.js";(0,t.OG)(`Debugging module not installed, loading it from "${n}"...`),(0,e.m)()._installDebugging=!0,r(n).then(()=>{(0,e.m)()._installDebugging({DEBUG_KEY:J,hook:w.A_,config:v.$W,createBid:G.O,logger:(0,t.h0)("DEBUG:")})}).then(i,o)}})})),i}}const Y=function({load:e=X(),hook:t=(0,w.Yn)("requestBids")}={}){let n=null,r=!1;function i(e,...t){return(n||H.k.resolve()).then(()=>e.apply(this,t))}function o(){t.getHooks({hook:i}).remove(),r=!1}return{enable:function(){r||(n=e(),t.before(i,99),r=!0)},disable:o,reset:function(){n=null,o()}}}();Y.reset,v.$W.getConfig("debugging",function({debugging:e}){e?.enabled?Y.enable():Y.disable()});var Z=__webpack_require__(128),ee=__webpack_require__(807),te=__webpack_require__(13),ne=__webpack_require__(992),re=__webpack_require__(556);const ie=(0,Z.CK)("fpdEnrichment"),oe=(0,t.Bj)(function(e=window.location.host){if(!ie.cookiesAreEnabled())return e;const n=e.split(".");if(2===n.length)return e;let r,i,o=-2;const s=`_rdc${Date.now()}`,a="writeable";do{r=n.slice(o).join(".");let e=new Date((0,t.vE)()+1e4).toUTCString();ie.setCookie(s,a,e,"Lax",r,void 0),ie.getCookie(s,void 0)===a?(i=!1,ie.setCookie(s,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,r,void 0)):(o+=-1,i=Math.abs(o)<=n.length)}while(i);return r}),se=["architecture","bitness","model","platformVersion","fullVersionList"],ae=["brands","mobile","platform"],de=function(e=window.navigator?.userAgentData){const t=e&&ae.some(t=>void 0!==e[t])?Object.freeze(ue(1,e)):null;return function(){return t}}(),ce=function(e=window.navigator?.userAgentData){const n={},r=new WeakMap;return function(i=se){if(!r.has(i)){const e=Array.from(i);e.sort(),r.set(i,e.join("|"))}const o=r.get(i);if(!n.hasOwnProperty(o))try{n[o]=e.getHighEntropyValues(i).then(e=>(0,t.Im)(e)?null:Object.freeze(ue(2,e))).catch(()=>null)}catch(e){n[o]=H.k.resolve(null)}return n[o]}}();function ue(e,n){function r(e,n){const r={brand:e};return(0,t.O8)(n)&&!(0,t.xQ)(n)&&(r.version=n.split(".")),r}const i={source:e};return n.platform&&(i.platform=r(n.platform,n.platformVersion)),(n.fullVersionList||n.brands)&&(i.browsers=(n.fullVersionList||n.brands).map(({brand:e,version:t})=>r(e,t))),void 0!==n.mobile&&(i.mobile=n.mobile?1:0),["model","bitness","architecture"].forEach(e=>{const r=n[e];(0,t.O8)(r)&&(i[e]=r)}),i}const pe=["dooh","app","site"];function le(e){return function(n){return pe.reduce((r,i)=>(fe(n,i)&&(null!=r?((0,t.JE)(`${e} specifies both '${r}' and '${i}'; dropping the latter.`),delete n[i]):r=i),r),null),n}}function fe(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}var me=__webpack_require__(253),ge=__webpack_require__(575),be=__webpack_require__(973),he=__webpack_require__(883);const ye={getRefererInfo:re.EN,findRootDomain:oe,getWindowTop:t.mb,getWindowSelf:t.l4,getHighEntropySUA:ce,getLowEntropySUA:de},ve=le("FPD"),_e=(0,w.A_)("sync",e=>{const n=[e,we().catch(()=>null),H.k.resolve("cookieDeprecationLabel"in navigator&&(0,me.io)(be.Ue,(0,ge.s)(he.tp,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch(()=>null)];return H.k.all(n).then(([e,n,i])=>{const o=ye.getRefererInfo();if(function(e){["app","site","device"].forEach(n=>{const r=v.$W.getConfig(n);null!=r&&(e[n]=(0,t.D9)({},r,e[n]))})}(e),Object.entries(Oe).forEach(([n,r])=>{const i=r(e,o);i&&Object.keys(i).length>0&&(e[n]=(0,t.D9)({},i,e[n]))}),n&&r(e,"device.sua",Object.assign({},n,e.device.sua)),i){const t={cdep:i};r(e,"device.ext",Object.assign({},t,e.device.ext))}e=ve(e);for(let n of pe)if(fe(e,n)){e[n]=(0,t.D9)({},Ee(0,o),e[n]);break}return e})});function Ie(e){try{return e(ye.getWindowTop())}catch(t){return e(ye.getWindowSelf())}}function we(){const e=v.$W.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0!==e.length?ye.getHighEntropySUA(e):H.k.resolve(ye.getLowEntropySUA())}function Ae(e){return(0,t.SH)(e,Object.keys(e))}const Oe={site(e,t){if(!pe.filter(e=>"site"!==e).some(fe.bind(null,e)))return Ae({page:t.page,ref:t.ref})},device:()=>Ie(e=>{const n={w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,t.l9)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()};return e.navigator?.webdriver&&r(n,"ext.webdriver",!0),n}),regs(){const e={};Ie(e=>e.navigator.globalPrivacyControl)&&r(e,"ext.gpc",1);const t=v.$W.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function Ee(e,t){const n=(0,re.gR)(t.page,{noLeadingWww:!0}),r=Ie(e=>e.document.querySelector("meta[name='keywords']"))?.content?.replace?.(/\s/g,"");return Ae({domain:n,keywords:r,publisher:Ae({domain:ye.findRootDomain(n)})})}var xe=__webpack_require__(586),Te=__webpack_require__(781);const Ce=(0,e.m)(),{triggerUserSyncs:Se}=y.zt,{ADD_AD_UNITS:ke,REQUEST_BIDS:De,SET_TARGETING:Re}=s.qY,je={bidWon:function(e){if(_.n.getBidsRequested().map(e=>e.bids.map(e=>e.adUnitCode)).reduce(t.Bq).filter(t.hj).includes(e))return!0;(0,t.vV)('The "'+e+'" placement is not defined.')}};function Pe(e,n){let r=[];return(0,t.cy)(e)&&(n?e.length===n:e.length>0)&&(e.every(e=>(0,t.Uu)(e,2))?r=e:(0,t.Uu)(e,2)&&r.push(e)),r}function Be(e){const n=(0,t.Go)(e),r=n.mediaTypes.banner,i=Pe(r.sizes);return i.length>0?(r.sizes=i,n.sizes=i):((0,t.vV)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete n.mediaTypes.banner),n}function Ue(e){const n=(0,t.Go)(e),r=n.mediaTypes.video;if(r.playerSize){let e="number"==typeof r.playerSize[0]?2:1;const i=Pe(r.playerSize,e);i.length>0?(2===e&&(0,t.fH)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=i,n.sizes=i):((0,t.vV)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete n.mediaTypes.video.playerSize)}return n}function $e(e){const n=(0,t.Go)(e),r=n.mediaTypes.native;if(r.ortb){const e=Object.keys(s.x5).filter(e=>s.x5[e].includes("hb_native_")),i=Object.keys(r).filter(t=>e.includes(t));i.length>0&&((0,t.vV)(`when using native OpenRTB format, you cannot use legacy native properties. Deleting ${i} keys from request.`),i.forEach(e=>delete n.mediaTypes.native[e]))}return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,t.vV)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete n.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,t.vV)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete n.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,t.vV)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete n.mediaTypes.native.icon.sizes),n}function qe(e,r){let i=(0,n.A)(e,`mediaTypes.${r}.pos`);if(!(0,t.Et)(i)||isNaN(i)||!isFinite(i)){let n=`Value of property 'pos' on ad unit ${e.code} should be of type: Number`;(0,t.JE)(n),te.Ic(s.qY.AUCTION_DEBUG,{type:"WARNING",arguments:n}),delete e.mediaTypes[r].pos}return e}function Ne(e){const n=t=>`adUnit.code '${e.code}' ${t}`,r=e.mediaTypes,i=e.bids;return null==i||(0,t.cy)(i)?null==i&&null==e.ortb2Imp?((0,t.vV)(n("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=i&&0!==i.length||(e.bids=[{bidder:null}],(0,t.OG)(n("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,t.vV)(n("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,t.vV)(n("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=Y,n=null;try{n=e.getItem(J)}catch(e){}null!==n&&t.enable()}}(),Ce.bidderSettings=Ce.bidderSettings||{},Ce.libLoaded=!0,Ce.version="v8.52.2",(0,t.fH)("Prebid.js v8.52.2 loaded"),Ce.installedModules=Ce.installedModules||[],Ce.adUnits=Ce.adUnits||[],Ce.triggerUserSyncs=Se;const Me={validateAdUnit:Ne,validateBannerMediaType:Be,validateSizes:Pe};Object.assign(Me,{validateNativeMediaType:$e}),Object.assign(Me,{validateVideoMediaType:Ue});const ze=(0,w.A_)("sync",function(e){const t=[];return e.forEach(e=>{if(null==(e=Ne(e)))return;const n=e.mediaTypes;let r,i,o;n.banner&&(r=Be(e),n.banner.hasOwnProperty("pos")&&(r=qe(r,"banner"))),n.video&&(i=Ue(r||e),n.video.hasOwnProperty("pos")&&(i=qe(i,"video"))),n.native&&(o=$e(i||r||e));const s=Object.assign({},r,i,o);t.push(s)}),t},"checkAdUnitSetup");function We(e){const n=_.n[e]().filter(e=>_.n.getAdUnitCodes().includes(e.adUnitCode)),r=_.n.getLastAuctionId();return n.map(e=>e.adUnitCode).filter(t.hj).map(e=>n.filter(t=>t.auctionId===r&&t.adUnitCode===e)).filter(e=>e&&e[0]&&e[0].adUnitCode).map(e=>({[e[0].adUnitCode]:{bids:e}})).reduce((e,t)=>Object.assign(e,t),{})}Ce.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,t.fH)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var n=Ce.getAdserverTargetingForAdUnitCode(e);return(0,t.$D)(n)}(0,t.OG)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Ce.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=_.n.getAllBidsForAdUnitCode(e).filter(M);return t.length?t.reduce(D):{}}(0,t.OG)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Ce.getAdserverTargetingForAdUnitCode=function(e){return Ce.getAdserverTargeting(e)[e]},Ce.getAdserverTargeting=function(e){return(0,t.fH)("Invoking pbjs.getAdserverTargeting",arguments),V.getAllTargeting(e)},Ce.getConsentMetadata=function(){return(0,t.fH)("Invoking pbjs.getConsentMetadata"),xe.SL.getConsentMeta()},Ce.getNoBids=function(){return(0,t.fH)("Invoking pbjs.getNoBids",arguments),We("getNoBids")},Ce.getNoBidsForAdUnitCode=function(e){return{bids:_.n.getNoBids().filter(t=>t.adUnitCode===e)}},Ce.getBidResponses=function(){return(0,t.fH)("Invoking pbjs.getBidResponses",arguments),We("getBidsReceived")},Ce.getBidResponsesForAdUnitCode=function(e){return{bids:_.n.getBidsReceived().filter(t=>t.adUnitCode===e)}},Ce.setTargetingForGPTAsync=function(e,n){if((0,t.fH)("Invoking pbjs.setTargetingForGPTAsync",arguments),!(0,t.II)())return void(0,t.vV)("window.googletag is not defined on the page");let r=V.getAllTargeting(e);V.resetPresetTargeting(e,n),V.setTargetingForGPT(r,n),Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{"hb_adid"===t&&_.n.setStatusForBids(r[e][t],s.tl.BID_TARGETING_SET)})}),te.Ic(Re,r)},Ce.setTargetingForAst=function(e){(0,t.fH)("Invoking pbjs.setTargetingForAn",arguments),V.isApntagDefined()?(V.setTargetingForAst(e),te.Ic(Re,V.getAllTargeting())):(0,t.vV)("window.apntag is not defined on the page")},Ce.renderAd=(0,w.A_)("async",function(e,n,r){(0,t.fH)("Invoking pbjs.renderAd",arguments),(0,t.OG)("Calling renderAd with adId :"+n),(0,d.BS)(e,n,r)}),Ce.removeAdUnit=function(e){if((0,t.fH)("Invoking pbjs.removeAdUnit",arguments),!e)return void(Ce.adUnits=[]);let n;n=(0,t.cy)(e)?e:[e],n.forEach(e=>{for(let t=Ce.adUnits.length-1;t>=0;t--)Ce.adUnits[t].code===e&&Ce.adUnits.splice(t,1)})},Ce.requestBids=function(){const e=(0,w.A_)("async",function({bidsBackHandler:e,timeout:n,adUnits:r,adUnitCodes:i,labels:o,auctionId:s,ttlBuffer:d,ortb2:c,metrics:u,defer:p}={}){te.Ic(De);const l=n||v.$W.getConfig("bidderTimeout");(0,t.fH)("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter(e=>(0,a.mK)(i,e.code)):i=r&&r.map(e=>e.code);const f={global:(0,t.D9)({},v.$W.getAnyConfig("ortb2")||{},c||{}),bidder:Object.fromEntries(Object.entries(v.$W.getBidderConfig()).map(([e,t])=>[e,t.ortb2]).filter(([e,t])=>null!=t))};return _e(H.k.resolve(f.global)).then(t=>(f.global=t,Le({bidsBackHandler:e,timeout:l,adUnits:r,adUnitCodes:i,labels:o,auctionId:s,ttlBuffer:d,ortb2Fragments:f,metrics:u,defer:p})))},"requestBids");return(0,w.Y6)(e,function(n={}){let r=n.adUnits||Ce.adUnits;return n.adUnits=(0,t.cy)(r)?r.slice():[r],n.metrics=(0,ne.K7)(),n.metrics.checkpoint("requestBids"),n.defer=(0,H.v)({promiseFactory:e=>new Promise(e)}),e.call(this,n),n.defer.promise})}();const Le=(0,w.A_)("async",function({bidsBackHandler:e,timeout:n,adUnits:i,ttlBuffer:o,adUnitCodes:s,labels:d,auctionId:c,ortb2Fragments:u,metrics:p,defer:l}={}){const f=(0,ee.pX)(v.$W.getConfig("s2sConfig")||[]);function m(n,r,i){if("function"==typeof e)try{e(n,r,i)}catch(e){(0,t.vV)("Error executing bidsBackHandler",null,e)}l.resolve({bids:n,timedOut:r,auctionId:i})}!function(e){e.forEach(e=>(0,Te.V0)(e))}(i),i=(0,ne.BO)(p).measureTime("requestBids.validate",()=>ze(i));const g={};if(i.forEach(e=>{const n=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map(e=>e.bidder),i=ee.Ay.bidderRegistry,s=r.filter(e=>!f.has(e));e.adUnitId=(0,t.lk)();const d=e.ortb2Imp?.ext?.tid;d&&(g.hasOwnProperty(e.code)?(0,t.JE)(`Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '${e.code}'`):g[e.code]=d),null==o||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=o),s.forEach(r=>{const o=i[r],s=o&&o.getSpec&&o.getSpec(),d=s&&s.supportedMediaTypes||["banner"];n.some(e=>(0,a.mK)(d,e))||((0,t.JE)((0,t.bz)(e,r)),e.bids=e.bids.filter(e=>e.bidder!==r))})}),i&&0!==i.length){i.forEach(e=>{const n=e.ortb2Imp?.ext?.tid||g[e.code]||(0,t.lk)();g.hasOwnProperty(e.code)||(g[e.code]=n),e.transactionId=n,r(e,"ortb2Imp.ext.tid",n)});const e=_.n.createAuction({adUnits:i,adUnitCodes:s,callback:m,cbTimeout:n,labels:d,auctionId:c,ortb2Fragments:u,metrics:p});let o=i.length;o>15&&(0,t.fH)(`Current auction ${e.getAuctionId()} contains ${o} adUnits.`,i),s.forEach(t=>V.setLatestAuctionForAdUnit(t,e.getAuctionId())),e.callBids()}else(0,t.OG)("No adUnits configured. No bids requested."),m()},"startAuction");Ce.requestBids.before(function(e,t){function n(e){for(var t;t=e.shift();)t()}n(Z.s0),n(Ve),e.call(this,t)},49),Ce.addAdUnits=function(e){(0,t.fH)("Invoking pbjs.addAdUnits",arguments),Ce.adUnits.push.apply(Ce.adUnits,(0,t.cy)(e)?e:[e]),te.Ic(ke)},Ce.onEvent=function(e,n,r){(0,t.fH)("Invoking pbjs.onEvent",arguments),(0,t.fp)(n)?!r||je[e].call(null,r)?te.on(e,n,r):(0,t.vV)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,t.vV)('The event handler provided is not a function and was not set on event "'+e+'".')},Ce.offEvent=function(e,n,r){(0,t.fH)("Invoking pbjs.offEvent",arguments),r&&!je[e].call(null,r)||te.AU(e,n,r)},Ce.getEvents=function(){return(0,t.fH)("Invoking pbjs.getEvents"),te.kQ()},Ce.registerBidAdapter=function(e,n){(0,t.fH)("Invoking pbjs.registerBidAdapter",arguments);try{ee.Ay.registerBidAdapter(e(),n)}catch(e){(0,t.vV)("Error registering bidder adapter : "+e.message)}},Ce.registerAnalyticsAdapter=function(e){(0,t.fH)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{ee.Ay.registerAnalyticsAdapter(e)}catch(e){(0,t.vV)("Error registering analytics adapter : "+e.message)}},Ce.createBid=function(e){return(0,t.fH)("Invoking pbjs.createBid",arguments),(0,G.O)(e)};const Ve=[],Ge=(0,w.A_)("async",function(e){e&&!(0,t.Im)(e)?((0,t.fH)("Invoking pbjs.enableAnalytics for: ",e),ee.Ay.enableAnalytics(e)):(0,t.vV)("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");Ce.enableAnalytics=function(e){Ve.push(Ge.bind(this,e))},Ce.aliasBidder=function(e,n,r){(0,t.fH)("Invoking pbjs.aliasBidder",arguments),e&&n?ee.Ay.aliasBidAdapter(e,n,r):(0,t.vV)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Ce.aliasRegistry=ee.Ay.aliasRegistry,v.$W.getConfig("aliasRegistry",e=>{"private"===e.aliasRegistry&&delete Ce.aliasRegistry}),Ce.getAllWinningBids=function(){return _.n.getAllWinningBids()},Ce.getAllPrebidWinningBids=function(){return _.n.getBidsReceived().filter(e=>e.status===s.tl.BID_TARGETING_SET)},Ce.getHighestCpmBids=function(e){return V.getWinningBids(e)},Ce.markWinningBidAsUsed=function(e){const t=Fe(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&_.n.addWinningBid(t[0])};const Fe=(e,n)=>{let r=[];return e.adUnitCode&&e.adId?r=_.n.getBidsReceived().filter(t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode):e.adUnitCode?r=V.getWinningBids(e.adUnitCode):e.adId?r=_.n.getBidsReceived().filter(t=>t.adId===e.adId):(0,t.JE)(n),r};function He(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,t.vV)("Error processing command :","prebid.js",e)}})}Ce.getConfig=v.$W.getAnyConfig,Ce.readConfig=v.$W.readAnyConfig,Ce.mergeConfig=v.$W.mergeConfig,Ce.mergeBidderConfig=v.$W.mergeBidderConfig,Ce.setConfig=v.$W.setConfig,Ce.setBidderConfig=v.$W.setBidderConfig,Ce.que.push(()=>{window.addEventListener("message",function(e){!function(e){var n=e.message?"message":"data",r={};try{r=JSON.parse(e[n])}catch(e){return}r&&r.adId&&r.message&&b.hasOwnProperty(r.message)&&(0,d.$A)(r.adId,r.message===s.nl.REQUEST).then(n=>{var i,o;b[r.message]((i=r.adId,o=function(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,t.vV)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),function(e,...t){return o(Object.assign({},e,{adId:i}),...t)}),r,n)})}(e)},!1)}),Ce.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,t.vV)("Error processing command :",e.message,e.stack)}else(0,t.vV)("Commands written into pbjs.cmd.push must be wrapped in a function")},Ce.que.push=Ce.cmd.push,Ce.processQueue=function(){w.A_.ready(),He(Ce.que),He(Ce.cmd)},Ce.triggerBilling=e=>{const n=Fe(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),r=n.find(t=>t.requestId===e.requestId)||n[0];if(n.length>0&&r)try{ee.Ay.callBidBillableBidder(r)}catch(e){(0,t.vV)("Error when triggering billing :",e)}else(0,t.JE)("The bid provided to triggerBilling did not match any bids received.")};var Je=Ce;const Ke=["request","imp","bidResponse","response"],[Qe,Xe,Ye,Ze]=Ke,[et,tt]=["default","pbs"],nt=new Set(Ke),{registerOrtbProcessor:rt,getProcessors:it}=function(){const e={};return{registerOrtbProcessor({type:t,name:n,fn:r,priority:i=0,dialects:o=[et]}){if(!nt.has(t))throw new Error(`ORTB processor type must be one of: ${Ke.join(", ")}`);o.forEach(o=>{e.hasOwnProperty(o)||(e[o]={}),e[o].hasOwnProperty(t)||(e[o][t]={}),e[o][t][n]={priority:i,fn:r}})},getProcessors:t=>e[t]||{}}}();function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let at,dt,ct,ut,pt,lt,ft=!1;const mt={iab:function({onSuccess:e,onError:n,onEvent:r}){const i=function({apiName:e,apiVersion:t,apiArgs:n=["command","callback","parameter","version"],callbackArgs:r=["returnValue","success"],mode:i=0},o=window){const s={},a=`${e}Call`,d=`${e}Return`;function c(e){const t="string"==typeof e.data&&e.data.includes(d)?JSON.parse(e.data):e.data;if(t?.[d]?.callId){const e=t[d];s.hasOwnProperty(e.callId)&&s[e.callId](...r.map(t=>e[t]))}}const[u,p]=function(){let t,n=o,r=!1;for(;null!=n;){try{if("function"==typeof n[e]){t=n,r=!0;break}}catch(e){}try{if(n.frames[`${e}Locator`]){t=n;break}}catch(e){}if(n===o.top)break;n=n.parent}return[t,r]}();if(!u)return;function l(e){return e=Object.assign({version:t},e),n.map(t=>[t,e[t]])}function f(e,t,n,r){const o="function"==typeof e;return function(s,a){r&&r(),1!==i&&(null==a||a?t:n)(o?void 0:s),o&&e.apply(this,arguments)}}let m;return p?m=function(t={}){return new H.k((n,r)=>{const o=u[e](...l(st(st({},t),{},{callback:t.callback||2===i?f(t.callback,n,r):void 0})).map(([e,t])=>t));(1===i||null==t.callback&&0===i)&&n(o)})}:(o.addEventListener("message",c,!1),m=function(e,t=!1){return new H.k((n,r)=>{const o=Math.random().toString(),d={[a]:st(st({},Object.fromEntries(l(e).filter(([e])=>"callback"!==e))),{},{callId:o})};s[o]=f(e?.callback,n,r,(t||null==e?.callback)&&(()=>{delete s[o]})),u.postMessage(d,"*"),1===i&&n()})}),Object.assign(m,{isDirect:p,close(){!p&&o.removeEventListener("message",c)}})}({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});if(!i)return n("TCF2 CMP not found.");i.isDirect?(0,t.fH)("Detected CMP API is directly accessible, calling it now..."):(0,t.fH)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),i({command:"addEventListener",callback:function(i,o){(0,t.fH)("Received a response from CMP",i),o?(r(i),!1!==i.gdprApplies&&"tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus||ht(i,{onSuccess:e,onError:n})):n("CMP unable to register callback function.  Please check CMP setup.")}})},static:function({onSuccess:e,onError:t}){ht(ut,{onSuccess:e,onError:t})}};function gt(e){let t,n,r=!1,i=null,o=!1;function s(e){null!=i&&clearTimeout(i),r||null==e||(0===e?t():i=setTimeout(t,e))}function d(t,n,i,...o){s(null),r=!0,xe.mW.setConsentData(t),"function"==typeof e&&e(n,i,...o)}if(!(0,a.mK)(Object.keys(mt),at))return void d(null,!1,`CMP framework (${at}) is not a supported framework.  Aborting consentManagement module and resuming auction.`);const c={onSuccess:e=>d(e,!1),onError:function(e,...t){d(null,!0,e,...t)},onEvent:function(e){n=e,o||(o=!0,null!=pt&&s(pt))}};t=()=>{const e=e=>{d(e,!1,(o?"Timeout waiting for user action on CMP":"CMP did not load")+", continuing auction...")};ht(n,{onSuccess:e,onError:()=>e(yt(void 0))})},mt[at](c),null!=pt&&o||s(dt)}const bt=(0,ne.Ak)("gdpr",function(e,n){var r;r=function(r,i,...o){if(i){let e=t.JE;r&&(e=t.vV,i=`${i} Canceling auction as per consentManagement config.`),e(i,...o)}r?(e.stopTiming(),"function"==typeof n.bidsBackHandler?n.bidsBackHandler():(0,t.vV)("Error executing bidsBackHandler")):e.call(this,n)},lt?((0,t.fH)("User consent information already known.  Pulling internally stored information..."),r(!1)):gt(r)});function ht(e,{onSuccess:n,onError:r}){!function(){const n=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:ct,r=e&&e.tcString;return!("boolean"==typeof n&&(!0!==n||r&&(0,t.O8)(r)))}()?n(yt(e)):r("CMP returned unexpected value during lookup process.",e)}function yt(e){return lt={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:ct},e&&e.addtlConsent&&(0,t.O8)(e.addtlConsent)&&(lt.addtlConsent=e.addtlConsent),lt.apiVersion=2,lt}v.$W.getConfig("consentManagement",n=>function(n){(n=n&&(n.gdpr||n.usp||n.gpp?n.gdpr:n))&&"object"==typeof n?((0,t.O8)(n.cmpApi)?at=n.cmpApi:(at="iab",(0,t.fH)("consentManagement config did not specify cmp.  Using system default setting (iab).")),(0,t.Et)(n.timeout)?dt=n.timeout:(dt=1e4,(0,t.fH)("consentManagement config did not specify timeout.  Using system default setting (10000).")),pt=(0,t.Et)(n.actionTimeout)?n.actionTimeout:null,ct=!0===n.defaultGdprScope,(0,t.fH)("consentManagement module has been activated..."),"static"===at&&((0,t.Qd)(n.consentData)?(ut=n.consentData,null!=ut?.getTCData&&(ut=ut.getTCData),dt=0):(0,t.vV)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),ft||(0,e.m)().requestBids.before(bt,50),ft=!0,xe.mW.enable(),gt()):(0,t.JE)("consentManagement (gdpr) config not defined, exiting consent manager")}(n.consentManagement)),_e.before(function(e,t){return e(t.then(e=>{const t=xe.mW.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&r(e,"regs.ext.gdpr",t.gdprApplies?1:0),r(e,"user.ext.consent",t.consentString)),e}))}),rt({type:Qe,name:"gdprAddtlConsent",fn:function(e,t){const n=t.gdprConsent?.addtlConsent;n&&"string"==typeof n&&r(e,"user.ext.ConsentedProvidersSettings.consented_providers",n)}}),(0,e.E)("consentManagement");var vt=__webpack_require__(642);const _t={purpose:{},feature:{}},It={purpose:"purpose.consents",feature:"specialFeatureOptins"},wt={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},At=new Set,Ot=new Set,Et=new Set,xt=new Set,Tt=new Set,Ct=new Set;let St=!1,kt=!1;const Dt=[he.tW,he.fW,he.Tn,he.zu],Rt="TCF2",jt=[],Pt=[2];function Bt(e,t,r,i){let o=!!(0,n.A)(e,`vendorData.${It[t]}.${r}`),s=!!(0,n.A)(e,`vendorData.vendor.consents.${i}`);return"purpose"===t&&Pt.includes(r)&&(o||(o=!!(0,n.A)(e,`vendorData.purpose.legitimateInterests.${r}`)),s||(s=!!(0,n.A)(e,`vendorData.vendor.legitimateInterests.${i}`))),{purpose:o,vendor:s}}function Ut(e,t,r,i){const o=wt[e.purpose];if((e.vendorExceptions||[]).includes(r))return!0;const s=e.enforceVendor&&!(i===xe.B1||(e.softVendorExceptions||[]).includes(r)),{purpose:a,vendor:d}=Bt(t,o.type,o.id,i);let c=(!e.enforcePurpose||a)&&(!s||d);return i===xe.ZH&&(c=!e.enforcePurpose||!!(0,n.A)(t,`vendorData.publisher.consents.${o.id}`)),c}function $t(e,n,r=null,i=()=>null){return function(o){const s=xe.mW.getConsentData(),a=o[vt.iK];if(function(e,n,r){return null==e&&xe.mW.enabled?((0,t.JE)(`Attempting operation that requires purpose ${n} consent while consent data is not available${r?` (module: ${r})`:""}. Assuming no consent was given.`),!0):e&&e.gdprApplies}(s,e,a)){const e=function(e,n,r){if(n){const i=v.$W.getConfig("gvlMapping");if(i&&i[n])return i[n];if(e===he.tp)return"cdep"===n?xe.ZH:xe.B1;{let{gvlid:i,modules:o}=xe.o2.get(n);if(null==i&&Object.keys(o).length>0)for(const r of Dt)if(o.hasOwnProperty(r)){i=o[r],r!==e&&(0,t.JE)(`Multiple GVL IDs found for module '${n}'; using the ${r} module's ID (${i}) instead of the ${e}'s ID (${o[e]})`);break}return null==i&&r&&(i=r()),i||null}}return null}(o[vt.Dk],a,i(o));let d=!!n(s,a,e);if(!d)return r&&r.add(a),{allow:d}}}}function qt(e,t=null,n=()=>null){return $t(e,(t,n,r)=>!!Ut(_t.purpose[e],t,n,r),t,n)}function Nt(e){return function(t){if(t[vt.Dk]!==he.tp)return e(t)}}const Mt=(zt=qt(1,At),function(e){if(e[vt.Dk]!==he.tp||kt)return zt(e)});var zt;const Wt=qt(1,At),Lt=qt(1,At),Vt=Nt(qt(2,Ot)),Gt=qt(7,Et,e=>function(e,n){const r=ee.Ay.getAnalyticsAdapter(e);return(i=>{if("function"!=typeof i)return i;try{return i.call(r.adapter,n)}catch(n){(0,t.vV)(`Error invoking ${e} adapter.gvlid()`,n)}})(r?.adapter?.gvlid)}(e[vt.iK],e[vt.TQ])),Ft=qt(4,xt),Ht=Nt((()=>{const e=$t("2-10",function(e,t,n){for(let r=2;r<=10;r++){if(_t.purpose[r]?.vendorExceptions?.includes(t))return!0;const{purpose:i,vendor:o}=Bt(e,"purpose",r,n);if(i&&(o||_t.purpose[r]?.softVendorExceptions?.includes(t)))return!0}return!1},Tt),t=qt(4,Tt);return function(){return(_t.purpose[4]?.eidsRequireP4Consent?t:e).apply(this,arguments)}})()),Jt=$t("Special Feature 1",(e,t,n)=>Ut(_t.feature[1],e,t,n),Ct);te.on(s.qY.AUCTION_END,function(){const e=function(e){return Array.from(e.keys()).filter(e=>null!=e)},t={storageBlocked:e(At),biddersBlocked:e(Ot),analyticsBlocked:e(Et),ufpdBlocked:e(xt),eidsBlocked:e(Tt),geoBlocked:e(Ct)};te.Ic(s.qY.TCF2_ENFORCEMENT,t),[At,Ot,Et,xt,Tt,Ct].forEach(e=>e.clear())}),v.$W.getConfig("consentManagement",e=>function(e){let r=(0,n.A)(e,"gdpr.rules");r||(0,t.JE)("TCF2: enforcing P1 and P2 by default"),r=Object.fromEntries((r||[]).map(e=>[e.purpose,e])),kt=!!(0,n.A)(e,"strictStorageEnforcement"),Object.entries(wt).forEach(([e,t])=>{_t[t.type][t.id]=r[e]??t.default}),St||(null!=_t.purpose[1]&&(St=!0,jt.push((0,me.qB)(be.Ue,Rt,Mt)),jt.push((0,me.qB)(be.Ml,Rt,Wt)),jt.push((0,me.qB)(be.yl,Rt,Lt))),null!=_t.purpose[2]&&jt.push((0,me.qB)(be.uc,Rt,Vt)),null!=_t.purpose[4]&&jt.push((0,me.qB)(be.DL,Rt,Ft),(0,me.qB)(be.qX,Rt,Ft)),null!=_t.purpose[7]&&jt.push((0,me.qB)(be.mo,Rt,Gt)),null!=_t.feature[1]&&jt.push((0,me.qB)(be.hE,Rt,Jt)),jt.push((0,me.qB)(be.hq,Rt,Ht)))}(e.consentManagement)),(0,e.E)("gdprEnforcement");var Kt=__webpack_require__(487),Qt=__webpack_require__(678),Xt=__webpack_require__(607);const Yt={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"},Zt=["user.keywords"].concat(pe.flatMap(e=>["keywords","content.keywords"].map(t=>`${e}.${t}`)));function en(e,...t){return function(...e){const t=new Set;return e.filter(e=>e).flatMap(e=>Array.isArray(e)?e:e.split(",")).map(e=>e.replace(/^\s*/,"").replace(/\s*$/,"")).filter(e=>e).forEach(e=>t.add(e)),Array.from(t.keys())}(...Zt.map(t=>(0,n.A)(e,t)),...t)}const tn={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},nn=["user.data"].concat(pe.map(e=>`${e}.content.data`));function rn(e,n,r){return null==n?r:(0,t.O8)(n)?n:(0,t.Et)(n)?n.toString():void(0,t.JE)("Unsuported type for param: "+e+" required type: String")}function on(e,n="keywords"){const r=[];return(0,t.bu)(e,(e,i)=>{if((0,t.cy)(e)){let r=[];(0,t.bu)(e,e=>{((e=rn(n+"."+i,e))||""===e)&&r.push(e)}),e=r}else{if(e=rn(n+"."+i,e),!(0,t.O8)(e))return;e=[e]}e=e.filter(e=>""!==e);const o={key:i};e.length>0&&(o.value=e),r.push(o)}),r}function sn(e){const t={};return e.forEach(e=>{if(-1!==e.indexOf("=")){let n=e.split("="),r=n[0],i=n[1];t.hasOwnProperty(r)?t[r].push(i):t[r]=[i]}else t.hasOwnProperty(e)||(t[e]=[])}),t}function an(...e){return on((0,t.D9)(...e.map(e=>Object.fromEntries(Object.entries(e||{}).map(([e,n])=>[e,(0,t.Et)(n)||(0,t.O8)(n)?[n]:n])))))}function dn(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")}function cn(e,n){return Object.keys(e).forEach(r=>{var i,o;n[r]&&((0,t.fp)(e[r])?n[r]=e[r](n[r]):n[r]=(i=e[r],o=n[r],"string"===i?o&&o.toString():"number"===i?Number(o):o),isNaN(n[r])&&delete n.key)}),n}function un(e,t){let n=[];for(let r=0;r<Math.ceil(e.length/t);r++){let i=r*t,o=i+t;n.push(e.slice(i,o))}return n}const pn="appnexus",ln=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],fn=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay","placement","plcmt"],mn=["age","externalUid","external_uid","segments","gender","dnt","language"],gn=["geo","device_id"],bn=["enabled","dongle","member_id","debug_timeout"],hn={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},yn={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5,"in-feed":6,interstitial:7,accompanying_content_pre_roll:8,accompanying_content_mid_roll:9,accompanying_content_post_roll:10}},vn={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},_n=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,In=(0,Z.vM)({bidderCode:pn}),wn={code:pn,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"emetriq",gvlid:213},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32},{code:"adzymic",gvlid:723}],supportedMediaTypes:[I.D4,I.G_,I.s6],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,r){const i=(e=(0,o.Xj)(e)).map(An),s=(0,a.I6)(e,En);let d={};!0===v.$W.getConfig("coppa")&&(d={coppa:!0}),s&&Object.keys(s.params.user).filter(e=>(0,a.mK)(mn,e)).forEach(e=>{let n=dn(e);if("segments"===e&&(0,t.cy)(s.params.user[e])){let r=[];s.params.user[e].forEach(e=>{(0,t.Et)(e)?r.push({id:e}):(0,t.Qd)(e)&&r.push(e)}),d[n]=r}else"segments"!==e&&(d[n]=s.params.user[e])});const c=(0,a.I6)(e,Tn);let u;c&&c.params&&c.params.app&&(u={},Object.keys(c.params.app).filter(e=>(0,a.mK)(gn,e)).forEach(e=>u[e]=c.params.app[e]));const p=(0,a.I6)(e,Cn);let l;p&&p.params&&c.params.app&&c.params.app.id&&(l={appid:p.params.app.id});let f={},m={};const g=In.getCookie("apn_prebid_debug")||null;if(g)try{f=JSON.parse(g)}catch(e){(0,t.vV)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(hn).forEach(e=>{let n=(0,t.Ez)(e);(0,t.O8)(n)&&""!==n&&(f[hn[e]]=n,f.enabled=!0)}),f=cn({member_id:"number",debug_timeout:"number"},f);const n=(0,a.I6)(e,Sn);n&&n.debug&&(f=n.debug)}f&&f.enabled&&Object.keys(f).filter(e=>(0,a.mK)(bn,e)).forEach(e=>{m[e]=f[e]});const b=(0,a.I6)(e,xn),h=b?parseInt(b.params.member,10):0,y=e[0].schain,_=(0,a.I6)(e,Dn),I={tags:[...i],user:d,sdk:{source:"pbjs",version:"8.52.2"},schain:y};_&&(I.iab_support={omidpn:"Appnexus",omidpv:"8.52.2"}),h>0&&(I.member_id=h),c&&(I.device=u),p&&(I.app=l);let w=function(e,...t){return an(function(e){return sn(en(e))}(e),function(e){let t={};return nn.forEach(r=>{((0,n.A)(e,r)||[]).forEach(e=>{const r=tn[(0,n.A)(e,"ext.segtax")];r&&e.segment.forEach(e=>{t[r]?t[r].push(e.id):t[r]=[e.id]})})}),t}(e),...t)}((0,t.Go)(r&&r.ortb2),(0,t.Go)(v.$W.getConfig("appnexusAuctionKeywords"))||{});if(w.length>0&&(I.keywords=w),v.$W.getConfig("adpod.brandCategoryExclusion")&&(I.brand_category_uniqueness=!0),m.enabled&&(I.debug=m,(0,t.fH)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(m,null,4))),r&&r.gdprConsent&&(I.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies},r.gdprConsent.addtlConsent&&-1!==r.gdprConsent.addtlConsent.indexOf("~"))){let e=r.gdprConsent.addtlConsent,t=e.substring(e.indexOf("~")+1);I.gdpr_consent.addtl_consent=t.split(".").map(e=>parseInt(e,10))}if(r&&r.uspConsent&&(I.us_privacy=r.uspConsent),r?.gppConsent?I.privacy={gpp:r.gppConsent.gppString,gpp_sid:r.gppConsent.applicableSections}:r?.ortb2?.regs?.gpp&&(I.privacy={gpp:r.ortb2.regs.gpp,gpp_sid:r.ortb2.regs.gpp_sid}),r&&r.refererInfo){let e={rd_ref:encodeURIComponent(r.refererInfo.topmostLocation),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map(e=>encodeURIComponent(e)).join(",")},n=r.refererInfo.canonicalUrl;(0,t.O8)(n)&&""!==n&&(e.rd_can=n),I.referrer_detection=e}if((0,a.I6)(e,kn)&&e.filter(kn).forEach(e=>{const n=function(e,n){const{durationRangeSec:r,requireExactDuration:i}=n.mediaTypes.video,o=function(e){const{adPodDurationSec:t,durationRangeSec:n,requireExactDuration:r}=e,i=Math.min(...n),o=Math.floor(t/i);return r?Math.max(o,n.length):o}(n.mediaTypes.video),s=Math.max(...r);let a=function(e,n){let r=[];for(let i=0;i<n;i++){let n=(0,t.Qd)(e)?(0,t.Go)(e):e;r.push(n)}return r}(...e.filter(e=>e.uuid===n.bidId),o);if(i){const e=un(a,Math.ceil(o/r.length));r.forEach((t,n)=>{e[n].map(e=>{Rn(e,"minduration",t),Rn(e,"maxduration",t)})})}else a.map(e=>Rn(e,"maxduration",s));return a}(i,e),r=I.tags.filter(t=>t.uuid!==e.bidId);I.tags=[...r,...n]}),e[0].userId){let t=[];e[0].userIdAsEids.forEach(e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach(n=>{let r={source:e.source,id:n.id};"adserver.org"==e.source?r.rti_partner="TDID":"uidapi.com"==e.source&&(r.rti_partner="UID2"),t.push(r)})}),t.length&&(I.eids=t)}if(r?.ortb2?.regs?.ext?.dsa){const e=r.ortb2.regs.ext.dsa,n={};if(["dsarequired","pubrender","datatopub"].forEach(r=>{(0,t.Et)(e[r])&&(n[r]=e[r])}),(0,t.cy)(e.transparency)&&e.transparency.every(e=>(0,t.Qd)(e))){const r=[];e.transparency.forEach(e=>{(0,t.O8)(e.domain)&&""!=e.domain&&(0,t.cy)(e.dsaparams)&&e.dsaparams.every(e=>(0,t.Et)(e))&&r.push(e)}),r.length>0&&(n.transparency=r)}(0,t.Im)(n)||(I.dsa=n)}i[0].publisher_id&&(I.publisher_id=i[0].publisher_id);const A=function(e,n){let r=[],i={withCredentials:!0},o="https://ib.adnxs.com/ut/v3/prebid";if((0,Xt.C)(n?.gdprConsent)||(o="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,t.Ez)("apn_test").toUpperCase()&&!0!==v.$W.getConfig("apn_test")||(i.customHeaders={"X-Is-Test":1}),e.tags.length>15){const s=(0,t.Go)(e);un(e.tags,15).forEach(e=>{s.tags=e;const t=JSON.stringify(s);r.push({method:"POST",url:o,data:t,bidderRequest:n,options:i})})}else{const t=JSON.stringify(e);r={method:"POST",url:o,data:t,bidderRequest:n,options:i}}return r}(I,r);return A},interpretResponse:function(e,{bidderRequest:r}){e=e.body;const i=[];if(!e||e.error){let n=`in response for ${r.bidderCode} adapter`;return e&&e.error&&(n+=`: ${e.error}`),(0,t.vV)(n),i}if(e.tags&&e.tags.forEach(e=>{const o=(s=e)&&s.ads&&s.ads.length&&(0,a.I6)(s.ads,e=>e.rtb);var s;if(o&&(!0===A.u.get(r.bidderCode,"allowZeroCpmBids")?o.cpm>=0:o.cpm>0)&&(0,a.mK)(this.supportedMediaTypes,o.ad_type)){const s=function(e,r,i){const o=(0,t.D4)(e.uuid,[i]),s=(0,t.s0)(),d={adId:s,requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:r.publisher_currency_codename||"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};if(r.adomain&&(d.meta=Object.assign({},d.meta,{advertiserDomains:[r.adomain]})),r.advertiser_id&&(d.meta=Object.assign({},d.meta,{advertiserId:r.advertiser_id})),r.dsa&&(d.meta=Object.assign({},d.meta,{dsa:r.dsa})),r.buyer_member_id&&(d.meta=Object.assign({},d.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(r)})),r.brand_id&&(d.meta=Object.assign({},d.meta,{brandId:r.brand_id})),r.rtb.video)switch(Object.assign(d,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastImpUrl:r.notify_url,ttl:3600}),(0,n.A)(o,"mediaTypes.video.context")){case I.LM:const o=Yt[r.brand_category_id]?Yt[r.brand_category_id]:null;d.meta=Object.assign({},d.meta,{primaryCatId:o});const s=r.deal_priority;d.video={context:I.LM,durationSeconds:Math.floor(r.rtb.video.duration_ms/1e3),dealTier:s},d.vastUrl=r.rtb.video.asset_url;break;case Te.H6:if(d.adResponse=e,d.adResponse.ad=d.adResponse.ads[0],d.adResponse.ad.video=d.adResponse.ad.rtb.video,d.vastXml=r.rtb.video.content,r.renderer_url){const o=(0,a.I6)(i.bids,t=>t.bidId===e.uuid);let s=(0,n.A)(o,"mediaTypes.video.renderer.options");s||(s=(0,n.A)(o,"renderer.options")),d.renderer=function(e,n,r={}){const i=Kt.A4.install({id:n.renderer_id,url:n.renderer_url,config:r,loaded:!1,adUnitCode:e});try{i.setRender(jn)}catch(e){(0,t.JE)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:()=>(0,t.OG)("AppNexus outstream video impression event"),loaded:()=>(0,t.OG)("AppNexus outstream video loaded event"),ended:()=>{(0,t.OG)("AppNexus outstream renderer video event"),document.querySelector(`#${e}`).style.display="none"}}),i}(d.adUnitCode,r,s)}break;case Te.mn:d.vastUrl=r.notify_url+"&redir="+encodeURIComponent(r.rtb.video.asset_url)}else if(r.rtb[I.s6]){const e=r.rtb[I.s6];let n;if(function(e){if(!e||""===e)return!1;let t=e.match(_n),n=null!=t&&t.length>=1,r=e.match("trk.js"),i=null!=r&&r.length>=1;return e.startsWith("<script")&&i&&n}(r.viewability.config)){let e="pbjs_adid="+s+";pbjs_auc="+o.adUnitCode;n=r.viewability.config.replace("dom_id=%native_dom_id%",e)}let i=e.javascript_trackers;null==i?i=n:(0,t.O8)(i)?i=[i,n]:i.push(n),d[I.s6]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:i},e.main_img&&(d.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(d.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(d,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{if(r.rtb.trackers)for(let e=0;e<r.rtb.trackers[0].impression_urls.length;e++){const n=r.rtb.trackers[0].impression_urls[e],i=(0,t.Tz)(n);d.ad+=i}}catch(e){(0,t.vV)("Error appending tracking pixel",e)}}return d}(e,o,r);s.mediaType=function(e){const t=e.ad_type;return t===I.G_?I.G_:t===I.s6?I.s6:I.D4}(o),i.push(s)}}),e.debug&&e.debug.debug_info){let n="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;n=n.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,t.OG)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,t.OG)(n)}return i},getUserSyncs:function(e,t,n,r,i){if(e.iframeEnabled&&(0,Xt.C)(n))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,r,i,o){let s=on;if(!0===r){let e=null,r=v.$W.getConfig("s2sConfig");(0,t.Qd)(r)?e=(0,n.A)(r,"endpoint.p1Consent"):(0,t.cy)(r)&&r.forEach(t=>{(0,a.mK)(t.bidders,i.bids[0].bidder)&&(e=(0,n.A)(t,"endpoint.p1Consent"))}),e&&e.match("/openrtb2/prebid")&&(s=Bn)}return e=cn({member:"string",invCode:"string",placementId:"number",keywords:s,publisherId:"number"},e),r&&(Object.keys(e).forEach(t=>{let n=dn(t);n!==t&&(e[n]=e[t],delete e[t])}),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function An(e){const r={};Object.keys(e.params).forEach(t=>{let n=dn(t);n!==t&&(e.params[n]=e.params[t],delete e.params[t])}),r.sizes=On(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placement_id?r.id=parseInt(e.params.placement_id,10):r.code=e.params.inv_code;const i=(0,t.Ez)("ast_override_div");if((0,t.O8)(i)&&""!==i){const t=i.split(",").find(t=>t.startsWith(`${e.adUnitCode}:`));if(t){const e=t.split(":")[1];e&&(r.force_creative_id=parseInt(e,10))}}r.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,r.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,r.prebid=!0,r.disable_psa=!0;let o=function(e){if(!(0,t.fp)(e.getFloor))return e.params.reserve?e.params.reserve:null;let n=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,t.Qd)(n)&&!isNaN(n.floor)&&"USD"===n.currency?n.floor:null}(e);if(o&&(r.reserve=o),e.params.position)r.position={above:1,below:2}[e.params.position]||0;else{let t=(0,n.A)(e,"mediaTypes.banner.pos")||(0,n.A)(e,"mediaTypes.video.pos");0!==t&&1!==t&&3!==t||(r.position=3===t?2:t)}e.params.traffic_source_code&&(r.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(r.private_sizes=On(e.params.private_sizes)),e.params.supply_type&&(r.supply_type=e.params.supply_type),e.params.pub_click&&(r.pubclick=e.params.pub_click),e.params.ext_inv_code&&(r.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(r.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(r.external_imp_id=e.params.external_imp_id);const s=an((d=(0,n.A)(e,"ortb2Imp.ext.data.keywords"),(0,t.O8)(d)&&""!==d?sn(d.split(/\s*(?:,)\s*/)):{}),e.params?.keywords);var d;s.length>0&&(r.keywords=s);let c=(0,n.A)(e,"ortb2Imp.ext.gpid")||(0,n.A)(e,"ortb2Imp.ext.data.pbadslot");if(c&&(r.gpid=c),(e.mediaType===I.s6||(0,n.A)(e,`mediaTypes.${I.s6}`))&&(r.ad_types.push(I.s6),0===r.sizes.length&&(r.sizes=On([1,1])),e.nativeParams)){const n=function(e){const n={};return Object.keys(e).forEach(r=>{const i=vn[r]&&vn[r].serverName||vn[r]||r,o=vn[r]&&vn[r].requiredParams;if(n[i]=Object.assign({},o,e[r]),(i===vn.image.serverName||i===vn.icon.serverName)&&n[i].sizes){let e=n[i].sizes;((0,t.Uu)(e)||(0,t.cy)(e)&&e.length>0&&e.every(e=>(0,t.Uu)(e)))&&(n[i].sizes=On(n[i].sizes))}i===vn.privacyLink&&(n.privacy_supported=!0)}),n}(e.nativeParams);r[I.s6]={layouts:[n]}}{const i=(0,n.A)(e,`mediaTypes.${I.G_}`),o=(0,n.A)(e,"mediaTypes.video.context");r.hb_source=i&&"adpod"===o?7:1,(e.mediaType===I.G_||i)&&r.ad_types.push(I.G_),(e.mediaType===I.G_||i&&"outstream"!==o)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter(e=>(0,a.mK)(ln,e)).forEach(n=>{switch(n){case"context":case"playback_method":let i=e.params.video[n];i=(0,t.cy)(i)?i[0]:i,r.video[n]=yn[n][i];break;case"frameworks":break;default:r.video[n]=e.params.video[n]}}),e.params.video.frameworks&&(0,t.cy)(e.params.video.frameworks)&&(r.video_frameworks=e.params.video.frameworks)),i&&(r.video=r.video||{},Object.keys(i).filter(e=>(0,a.mK)(fn,e)).forEach(e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof r.video[e]&&(r.video[e]=i[e]);break;case"skip":"boolean"!=typeof r.video.skippable&&(r.video.skippable=1===i[e]);break;case"skipafter":"number"!=typeof r.video.skipoffset&&(r.video.skippoffset=i[e]);break;case"playbackmethod":if("number"!=typeof r.video.playback_method){let n=i[e];n=(0,t.cy)(n)?n[0]:n,n>=1&&n<=4&&(r.video.playback_method=n)}break;case"api":if(!r.video_frameworks&&(0,t.cy)(i[e])){let t=i[e].map(e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t}).filter(e=>e);r.video_frameworks=t}break;case"startdelay":case"plcmt":case"placement":if("number"!=typeof r.video.context){const e=i.plcmt,t=i.placement,n=i.startdelay,o=function(e,t){if(e)if(2===e){if(void 0===t)return;if(0===t)return"accompanying_content_pre_roll";if(-1===t)return"accompanying_content_mid_roll";if(-2===t)return"accompanying_content_post_roll"}else{if(3===e)return"interstitial";if(4===e)return"outstream"}}(e,n)||function(e){if(e)return 2===e?"in-banner":3===e?"outstream":4===e?"in-feed":5===e?"intersitial":void 0}(t)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(n);r.video.context=yn.context[o]}}})),e.renderer&&(r.video=Object.assign({},r.video,{custom_renderer_present:!0}))}return e.params.frameworks&&(0,t.cy)(e.params.frameworks)&&(r.banner_frameworks=e.params.frameworks),(0,n.A)(e,`mediaTypes.${I.D4}`)&&r.ad_types.push(I.D4),0===r.ad_types.length&&delete r.ad_types,r}function On(e){let n=[],r={};if((0,t.cy)(e)&&2===e.length&&!(0,t.cy)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),n.push(r);else if("object"==typeof e)for(let t=0;t<e.length;t++){let i=e[t];r={},r.width=parseInt(i[0],10),r.height=parseInt(i[1],10),n.push(r)}return n}function En(e){return!!e.params.user}function xn(e){return!!parseInt(e.params.member,10)}function Tn(e){if(e.params)return!!e.params.app}function Cn(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Sn(e){return!!e.debug}function kn(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===I.LM}function Dn(e){let n=!1;const r=e.params,i=e.params.video;return r.frameworks&&(0,t.cy)(r.frameworks)&&(n=(0,a.mK)(e.params.frameworks,6)),!n&&i&&i.frameworks&&(0,t.cy)(i.frameworks)&&(n=(0,a.mK)(e.params.video.frameworks,6)),n}function Rn(e,n,r){(0,t.Im)(e.video)&&(e.video={}),e.video[n]=r}function jn(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push(()=>{(t?.defaultView||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Pn.bind(null,e))})}function Pn(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function Bn(e){let n="";return Object.keys(e).forEach(r=>{(0,t.O8)(e[r])?""!==e[r]?n+=`${r}=${e[r]},`:n+=`${r},`:(0,t.cy)(e[r])&&(""===e[r][0]?n+=`${r},`:e[r].forEach(e=>{n+=`${r}=${e},`}))}),n=n.substring(0,n.length-1),n}(0,Qt.a$)(wn),(0,e.E)("appnexusBidAdapter");const Un=new WeakMap,$n=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),qn={instream:1},Nn={1:I.D4,2:I.G_,4:I.s6},Mn={[Qe]:{fpd:{priority:99,fn(e,n){(0,t.D9)(e,n.ortb2)}},onlyOneClient:{priority:-99,fn:le("ORTB request")},props:{fn(e,n){Object.assign(e,{id:e.id||(0,t.lk)(),test:e.test||0});const r=parseInt(n.timeout,10);isNaN(r)||(e.tmax=r)}}},[Xe]:{fpd:{priority:99,fn(e,n){(0,t.D9)(e,n.ortb2Imp)}},id:{fn(e,t){e.id=t.bidId}},banner:{fn:function(e,r,i){if(i.mediaType&&i.mediaType!==I.D4)return;const o=(0,n.A)(r,"mediaTypes.banner");if(o){const n={topframe:!0===(0,t.al)()?0:1};o.sizes&&(n.format=(0,t.y$)(o.sizes).map(t.cf)),o.hasOwnProperty("pos")&&(n.pos=o.pos),e.banner=(0,t.D9)(n,e.banner)}}},pbadslot:{fn(e){const t=e.ext?.data?.pbadslot;t&&"string"==typeof t||delete e.ext?.data?.pbadslot}}},[Ye]:{mediaType:{priority:99,fn:function(e,t,n){if(e.mediaType)return;const r=n.mediaType;if(!r&&!Nn.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=r||Nn[t.mtype]}},banner:{fn:function({createPixel:e=e=>(0,t.Tz)(decodeURIComponent(e),t.Bk)}={}){return function(t,n){t.mediaType===I.D4&&(n.adm&&n.nurl?(t.ad=n.adm,t.ad+=e(n.nurl)):n.adm?t.ad=n.adm:n.nurl&&(t.adUrl=n.nurl))}}()},props:{fn(e,t,n){Object.entries({requestId:n.bidRequest?.bidId,seatBidId:t.id,cpm:t.price,currency:n.ortbResponse.cur||n.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||n.ttl,netRevenue:n.netRevenue}).filter(([e,t])=>void 0!==t).forEach(([t,n])=>e[t]=n),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain),t.ext?.dsa&&(e.meta.dsa=t.ext.dsa)}}}};function zn(...e){const t=e.shift(),n=e.length>1?zn(...e):e[0];return Object.fromEntries(Ke.map(e=>[e,Object.assign({},t[e],n[e])]))}function Wn({context:e={},processors:n=Ln,overrides:r={},imp:i,request:o,bidResponse:s,response:a}={}){const d=new WeakMap;function c(e,t,i,o){let s;return function(){return null==s&&(s=function(){let s=i.bind(this,function(e,t={}){if(!Un.has(e)){const t=Object.entries(e);t.sort((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1),Un.set(e,t.map(([e,t])=>[e,t.fn]))}const n=Un.get(e).filter(([e])=>!t.hasOwnProperty(e)||t[e]).map(function([e,n]){return t.hasOwnProperty(e)?t[e].bind(this,n):n});return function(){const e=Array.from(arguments);n.forEach(t=>{t.apply(this,e)})}}(n()[e]||{},r[e]||{}));return t&&(s=t.bind(this,s)),function(){try{return s.apply(this,arguments)}catch(e){o.call(this,e,...arguments)}}}()),s.apply(this,arguments)}}const u=c(Xe,i,function(e,t,n){const r={};return e(r,t,n),r},function(e,n,r){(0,t.vV)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:n,context:r})}),p=c(Qe,o,function(e,t,n,r){const i={imp:t};return e(i,n,r),i},function(e,n,r,i){throw(0,t.vV)("Error while converting to ORTB request",{error:e,imps:n,bidderRequest:r,context:i}),e}),l=c(Ye,s,function(e,t,n){const r={};return e(r,t,n),r},function(e,n,r){(0,t.vV)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:n,context:r})}),f=c(Ze,a,function(e,t,n,r){const i={bids:t};return e(i,n,r),i},function(e,n,r,i){throw(0,t.vV)("Error while converting from ORTB response",{error:e,bidResponses:n,ortbResponse:r,context:i}),e});return{toORTB({bidderRequest:n,bidRequests:r,context:i={}}){r=r||n.bids;const o={req:Object.assign({bidRequests:r},e,i),imp:{}};o.req.impContext=o.imp;const s=r.map(r=>{const s=Object.assign({bidderRequest:n,reqContext:o.req},e,i),a=u(r,s);if(null!=a){if(a.hasOwnProperty("id"))return Object.assign(s,{bidRequest:r,imp:a}),o.imp[a.id]=s,a;(0,t.vV)("Converted ORTB imp does not specify an id, ignoring bid request",r,a)}}).filter(Boolean),a=p(s,n,o.req);return o.req.bidderRequest=n,null!=a&&d.set(a,o),a},fromORTB({request:e,response:n}){const r=d.get(e);if(null==r)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(t,n={}){return Object.assign(t,{ortbRequest:e},n,t)}const o=Object.fromEntries((e.imp||[]).map(e=>[e.id,e])),s=(n.seatbid||[]).flatMap(e=>(e.bid||[]).map(s=>{if(o.hasOwnProperty(s.impid)&&r.imp.hasOwnProperty(s.impid))return l(s,i(r.imp[s.impid],{imp:o[s.impid],seatbid:e,ortbResponse:n}));(0,t.vV)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",s)})).filter(Boolean);return f(s,n,i(r.req))}}}Mn[Xe].native={fn:function(e,n,r){if(r.mediaType&&r.mediaType!==I.s6)return;let i=n.nativeOrtbRequest;i&&(i=Object.assign({},r.nativeRequest,i),i.assets?.length?e.native=(0,t.D9)({},{request:JSON.stringify(i),ver:i.ver},e.native):(0,t.JE)("mediaTypes.native is set, but no assets were specified. Native request skipped.",n))}},Mn[Ye].native={fn:function(e,n){if(e.mediaType===I.s6){let r;if(r="string"==typeof n.adm?JSON.parse(n.adm):n.adm,!(0,t.Qd)(r)||!Array.isArray(r.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:r}}}},Mn[Xe].video={fn:function(e,r,i){if(i.mediaType&&i.mediaType!==I.G_)return;const o=(0,n.A)(r,"mediaTypes.video");if(!(0,t.Im)(o)){const n=Object.fromEntries(Object.entries(o).filter(([e])=>$n.has(e)));if(o.playerSize){const e=(0,t.y$)(o.playerSize).map(t.cf);e.length>1&&(0,t.JE)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(n,e[0])}const r=qn[o.context];null!=r&&(n.placement=r),e.video=(0,t.D9)(n,e.video)}}},Mn[Ye].video={fn:function(e,t,r){e.mediaType===I.G_&&((0,n.A)(r.imp,"video.w")&&(0,n.A)(r.imp,"video.h")&&([e.playerWidth,e.playerHeight]=[r.imp.video.w,r.imp.video.h]),t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl))}};const Ln=(0,t.Bj)(()=>zn(Mn,it(et)));function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Fn={code:"openx",gvlid:69,supportedMediaTypes:[I.D4,I.G_],isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;return n.A(e,"mediaTypes.banner")&&t?!!e.params.unit||n.A(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){let r=e.filter(e=>Kn(e)),i=e.filter(e=>function(e){return n.A(e,"mediaTypes.banner")||!Kn(e)}(e)),o=i.length?[Jn(i,t,I.D4)]:[];return r.forEach(e=>{o.push(Jn([e],t,I.G_))}),o},interpretResponse:function(e,t){return e.body||(e.body={nbr:0}),Hn.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled){let i=e.iframeEnabled?"iframe":"image",o=[],s="https://u.openx.net/w/1.0/pd";if(n&&(o.push("gdpr="+(n.gdprApplies?1:0)),o.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),r&&o.push("us_privacy="+encodeURIComponent(r)),t.length>0&&t[0].body&&t[0].body.ext){const e=t[0].body.ext;e.delDomain?s=`https://${e.delDomain}/w/1.0/pd`:e.platform&&o.push("ph="+e.platform)}else o.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:i,url:`${s}${o.length>0?"?"+o.join("&"):""}`}]}},transformBidParams:function(e,t){return cn({unit:"string",customFloor:"number"},e)}};(0,Qt.a$)(Fn);const Hn=Wn({context:{netRevenue:!0,ttl:300},imp(e,n,i){const o=e(n,i);return(0,t.D9)(o,{tagid:n.params.unit,ext:{divid:n.adUnitCode}}),n.params.customParams&&r(o,"ext.customParams",n.params.customParams),n.params.customFloor&&!o.bidfloor&&(o.bidfloor=n.params.customFloor),o},request(e,n,i,o){const s=e(n,i,o);(0,t.D9)(s,{at:1,ext:{bc:"hb_pb_ortb_2.0",pv:"8.52.2"}});const a=o.bidRequests[0];return a.params.coppa&&r(s,"regs.coppa",1),a.params.doNotTrack&&r(s,"device.dnt",1),a.params.platform&&r(s,"ext.platform",a.params.platform),a.params.delDomain&&r(s,"ext.delDomain",a.params.delDomain),a.params.response_template_name&&r(s,"ext.response_template_name",a.params.response_template_name),a.params.test&&(s.test=1),s},bidResponse(e,t,r){const i=e(t,r);t.ext&&(i.meta.networkId=t.ext.dsp_id,i.meta.advertiserId=t.ext.buyer_id,i.meta.brandId=t.ext.brand_id);const{ortbResponse:o}=r;return o.ext&&o.ext.paf&&(i.meta.paf=Object.assign({},o.ext.paf),i.meta.paf.content_id=n.A(t,"ext.paf.content_id")),i},response(e,i,o,s){const{ortbRequest:a}=s;a.ext&&(a.ext.delDomain&&r(o,"ext.delDomain",a.ext.delDomain),a.ext.platform&&r(o,"ext.platform",a.ext.platform));const d=e(i,o,s);let c=n.A(o,"ext.fledge_auction_configs");return c?(c=Object.entries(c).map(([e,n])=>({bidId:e,config:(0,t.D9)(Object.assign({},n),{auctionSignals:{ortb2Imp:s.impContext[e]?.imp}})})),{bids:d.bids,fledgeAuctionConfigs:c}):d.bids},overrides:{imp:{bidfloor(e,t,n,r){const i={};e(i,n,Gn(Gn({},r),{},{currency:"USD"})),"USD"===i.bidfloorcur&&Object.assign(t,i)},video(e,t,n,r){{let i=n.mediaTypes[I.G_];i&&(i=Object.assign({},i,n.params.video),n=Gn(Gn({},n),{},{mediaTypes:{[I.G_]:i}})),e(t,n,r)}}}}});function Jn(e,t,n){return{method:"POST",url:v.$W.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:Hn.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:n}})}}function Kn(e){return n.A(e,"mediaTypes.video")}(0,e.E)("openxBidAdapter");const Qn={[I.D4]:"banner",[I.s6]:"native",[I.G_]:"video"},Xn={[Qe]:{extPrebid:{fn:function(e,n){r(e,"ext.prebid",(0,t.D9)({auctiontimestamp:n.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},e.ext?.prebid)),v.$W.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(t){r(t,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,e.m)().version},t.ext?.prebid?.channel))}},extPrebidAliases:{fn:function(e,t,n,{am:i=ee.Ay}={}){if(i.aliasRegistry[t.bidderCode]){const n=i.bidderRegistry[t.bidderCode];if(!n||!n.getSpec().skipPbsAliasing){r(e,`ext.prebid.aliases.${t.bidderCode}`,i.aliasRegistry[t.bidderCode]);const o=v.$W.getConfig(`gvlMapping.${t.bidderCode}`)||n?.getSpec?.().gvlid;o&&r(e,`ext.prebid.aliasgvlids.${t.bidderCode}`,o)}}}}},[Xe]:{params:{fn:function(e,t,n,{adUnit:i,bidderRequests:o,index:s=_.n.index,bidderRegistry:a=ee.Ay.bidderRegistry}={}){let d=t.params;const c=a[t.bidder];c&&c.getSpec().transformBidParams&&(i=i||s.getAdUnit(t),o=o||[n.bidderRequest],d=c.getSpec().transformBidParams(d,!0,i,o)),d&&r(e,`ext.prebid.bidder.${t.bidder}`,d)}},adUnitCode:{fn:function(e,t){const n=t.adUnitCode;n&&r(e,"ext.prebid.adunitcode",n)}}},[Ye]:{mediaType:{fn:function(e,t,n){let r=n.mediaType;r||(r=Nn.hasOwnProperty(t.mtype)?Nn[t.mtype]:t.ext?.prebid?.type,Qn.hasOwnProperty(r)||(r=I.D4)),e.mediaType=r},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===I.G_){let{cacheId:r,url:i}=(0,n.A)(t,"ext.prebid.cache.vastXml")||{};if(!r||!i){const{hb_uuid:e,hb_cache_host:o,hb_cache_path:s}=(0,n.A)(t,"ext.prebid.targeting")||{};e&&o&&s&&(r=e,i=`https://${o}${s}?uuid=${e}`)}r&&i&&Object.assign(e,{videoCacheKey:r,vastUrl:i})}},priority:-10},bidderCode:{fn(e,t,r){e.bidderCode=r.seatbid.seat,e.adapterCode=(0,n.A)(t,"ext.prebid.meta.adaptercode")||r.bidRequest?.bidder||e.bidderCode}},pbsBidId:{fn(e,r){const i=(0,n.A)(r,"ext.prebid.bidid");(0,t.O8)(i)&&(e.pbsBidId=i)}},adserverTargeting:{fn(e,r){const i=(0,n.A)(r,"ext.prebid.targeting");(0,t.Qd)(i)&&(e.adserverTargeting=i)}},extPrebidMeta:{fn(e,r){e.meta=(0,t.D9)({},(0,n.A)(r,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn(e,r){const i=(0,n.A)(r,"ext.prebid.events.win");(0,t.O8)(i)&&(e.pbsWurl=i)}}},[Ze]:{serverSideStats:{fn(e,t,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach(([e,i])=>{const o=(0,n.A)(t,`ext.${e}.${r.bidderRequest.bidderCode}`);o&&(r.bidderRequest[i]=o,r.bidRequests.forEach(e=>e[i]=o))})}}}},Yn=(0,t.Bj)(()=>zn(Ln(),Xn,it(tt)));function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let tr=v.$W.getConfig("rubicon")||{};v.$W.getConfig("rubicon",e=>{(0,t.D9)(tr,e.rubicon)});var nr={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,t.bu)(nr,(e,t)=>nr[e]=t);const rr=Wn({request(n,i,o,s){const{bidRequests:a}=s,d=n(i,o,s);d.cur=["USD"],d.test=v.$W.getConfig("debug")?1:0,r(d,"ext.prebid.cache",{vastxml:{returnCreative:!0===tr.returnVast}}),r(d,"ext.prebid.bidders",{rubicon:{integration:tr.int_type||"pbjs"}}),r(d,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(v.$W));let c=(0,e.m)().installedModules;return!c||c.length&&-1===c.indexOf("rubiconAnalyticsAdapter")||r(d,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,n,i){let o={};const s=en(i,...n.map(e=>e.params.keywords));n.forEach(n=>{const r={user:{ext:{data:er({},n.params.visitor)}},site:{ext:{data:er({},n.params.inventory)}}},i=e.imp.find(e=>e.ext?.prebid?.bidder?.rubicon?.video?.language);i&&(r.site.content={language:i.ext?.prebid?.bidder?.rubicon?.video?.language}),o=(0,t.D9)(o,n.ortb2||{},r);const s=v.$W.getConfig("user.id");o.user.id=o.user.id||s}),(0,t.D9)(e,o),s&&s.length&&r(e,"site.keywords",s.join(",")),delete e?.ext?.prebid?.storedrequest}(d,a,o.ortb2),delete d?.ext?.prebid?.storedrequest,!0===tr.disableFloors&&delete d.ext.prebid.floors,a.filter(e=>"object"==typeof e.floorData).length>0&&(d.ext.prebid.floors={enabled:!1}),d},imp(e,t,i){const o=ur(t);if(o.includes(I.D4)&&1==o.length)return;const s=e(t,i);return s.id=t.adUnitCode,delete s.banner,"atf"===t.params.position&&s.video&&(s.video.pos=1),"btf"===t.params.position&&s.video&&(s.video.pos=3),delete s.ext?.prebid?.storedrequest,!0===t.params.bidonmultiformat&&o.length>1&&r(s,"ext.prebid.bidder.rubicon.formats",o),function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){let r=parseFloat((0,n.A)(e,"params.floor"));isNaN(r)||(t.bidfloor=r,t.bidfloorcur="USD")}}(t,s),s},bidResponse(e,i,o){const s=e(i,o);s.meta.mediaType=(0,n.A)(i,"ext.prebid.type");const{bidRequest:a}=o;let[d,c]="outstream"===a.mediaTypes.video?.context?ar(a,I.G_):[void 0,void 0];return s.width=i.w||d||s.playerWidth,s.height=i.h||c||s.playerHeight,s.mediaType===I.G_&&"outstream"===a.mediaTypes.video.context&&(s.renderer=function(e){const n=Kt.A4.install({id:e.adId,url:tr.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:tr.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{n.setRender(sr)}catch(e){(0,t.JE)("Prebid Error calling setRender on renderer",e)}return n}(s)),(0,n.A)(i,"ext.bidder.rp.advid")&&r(s,"meta.advertiserId",i.ext.bidder.rp.advid),s},context:{netRevenue:!1!==tr.netRevenue,ttl:360},processors:Yn}),ir={code:"rubicon",gvlid:52,supportedMediaTypes:[I.D4,I.G_,I.s6],isBidRequestValid:function(e){let r=!0;if("object"!=typeof e.params)return!1;for(let n=0,r=["accountId","siteId","zoneId"];n<r.length;n++)if(e.params[r[n]]=parseInt(e.params[r[n]]),isNaN(e.params[r[n]]))return(0,t.vV)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let i=ur(e,!0);if(!i.length)return!1;i.includes(I.G_)&&(r=function(e){let r=!0,i=Object.prototype.toString.call([]);var o={mimes:i,protocols:i,linearity:Object.prototype.toString.call(0)};return Object.keys(o).forEach(function(i){Object.prototype.toString.call((0,n.A)(e,"mediaTypes.video."+i))!==o[i]&&(r=!1,(0,t.vV)("Rubicon: mediaTypes.video."+i+" is required and must be of type: "+o[i]))}),r}(e));const o=[I.D4,I.s6].filter(e=>i.includes(e)).length>0;return o?r&&o:r},buildRequests:function(e,n){let r,i=[],o=[];if(r=e.filter(e=>{const t=ur(e)||[],{length:n}=t,{bidonmultiformat:r,video:i}=e.params||{};return 1===n&&(t.includes(I.G_)||t.includes(I.s6))||2===n&&!t.includes(I.D4)||i&&t.includes(I.G_)||r&&(t.includes(I.G_)||t.includes(I.s6))}),r&&r.length){const e=rr.toORTB({bidRequests:r,bidderRequest:n});o.push({method:"POST",url:`https://${tr.videoHost||"prebid-server"}.rubiconproject.com/openrtb2/auction`,data:e,bidRequest:r})}const s=e.filter(e=>{const t=ur(e)||[],{bidonmultiformat:n,video:r}=e.params||{};return t.includes(I.D4)&&(1===t.length||n||!n&&!r||!n&&r&&!t.includes(I.G_))});if(!0!==tr.singleRequest)i=o.concat(s.map(e=>{const r=ir.createSlotParams(e,n);return{method:"GET",url:`https://${tr.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:ir.getOrderedParams(r).reduce((e,n)=>{const i=r[n];return(0,t.O8)(i)&&""!==i||(0,t.Et)(i)?`${e}${lr(n,i)}&`:e},"")+`slots=1&rand=${Math.random()}`,bidRequest:e}}));else{const e=s.reduce((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e),{}),r=10;i=o.concat(Object.keys(e).reduce((i,o)=>{var s,a;return(s=e[o],a=r,s.map((e,t)=>t%a===0?s.slice(t,t+a):null).filter(e=>e)).forEach(e=>{const r=ir.combineSlotUrlParams(e.map(e=>ir.createSlotParams(e,n)));i.push({method:"GET",url:`https://${tr.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:ir.getOrderedParams(r).reduce((e,n)=>{const i=r[n];return(0,t.O8)(i)&&""!==i||(0,t.Et)(i)?`${e}${lr(n,i)}&`:e},"")+`slots=${e.length}&rand=${Math.random()}`,bidRequest:e})}),i},[]))}return i},getOrderedParams:function(e){const t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter(e=>r.test(e))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(e=>t.test(e))).concat(Object.keys(e).filter(e=>n.test(e))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(e=>-1===i.indexOf(e)))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];const t=e.reduce(function(t,n,r){return Object.keys(n).forEach(function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])}),t},{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach(function(e){const r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r}),t},createSlotParams:function(e,r){e.startTime=(new Date).getTime();const i=e.params,o=ar(e,"banner"),[s,d]=i.latLong||[],c={account_id:i.accountId,site_id:i.siteId,zone_id:i.zoneId,size_id:o[0],alt_size_ids:o.slice(1).join(",")||void 0,rp_floor:(i.floor=parseFloat(i.floor))>=.01?i.floor:void 0,rp_secure:"1",tk_flint:`${tr.int_type||"pbjs_lite"}_v8.52.2`,"x_source.tid":r.ortb2?.source?.tid,"x_imp.ext.tid":e.ortb2Imp?.ext?.tid,l_pb_bid_id:e.bidId,o_cdep:e.ortb2?.device?.ext?.cdep,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:i.userId,"p_geo.latitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"p_geo.longitude":isNaN(parseFloat(d))?void 0:parseFloat(d).toFixed(4),"tg_fl.eid":e.code,rf:or(e,r)};if("function"==typeof e.getFloor&&!tr.disableFloors){let n;try{n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,t.vV)("Rubicon: getFloor threw an error: ",e)}c.rp_hard_floor="object"!=typeof n||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:n.floor}!0===i.bidonmultiformat&&(0,n.A)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(c.p_formats=Object.keys(e.mediaTypes).join(","));let u={1:"atf",3:"btf"}[(0,n.A)(e,"mediaTypes.banner.pos")]||"";c.p_pos="atf"===i.position||"btf"===i.position?i.position:u;const p=v.$W.getConfig("user.id");return p&&(c.ppuid=p),e?.ortb2Imp?.ext?.ae&&(c.o_ae=1),function(e,t){if(!1===tr.readTopics)return;let n=[1,2,5,6,7,507].concat(tr.sendSiteSegtax?.map(e=>Number(e))||[]),r=[4,508].concat(tr.sendUserSegtax?.map(e=>Number(e))||[]),i=e.ortb2?.user?.data||[],o=e.ortb2?.site?.content?.data||[];i.forEach(dr(t,"v",r)),o.forEach(dr(t,"i",n))}(r,c),e.userIdAsEids&&e.userIdAsEids.forEach(e=>{try{if("adserver.org"===e.source)c.tpid_tdid=e.uids[0].id,c["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)c["tpid_liveintent.com"]=e.uids[0].id,c["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(c["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)c.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)c["eid_id5-sync.com"]=`${e.uids[0].id}^${e.uids[0].atype}^${e.uids[0].ext&&e.uids[0].ext.linkType||""}`;else{const t="rubiconproject.com"===e.source?e.uids[0].id:`${e.uids[0].id}^${e.uids[0].atype||""}`;c[`eid_${e.source}`]=t}if(!c.ppuid){const t=(0,a.I6)(e.uids,e=>e.ext&&"ppuid"===e.ext.stype);t&&t.id&&(c.ppuid=t.id)}}catch(n){(0,t.JE)("Rubicon: error reading eid:",e,n)}}),r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(c.gdpr=Number(r.gdprConsent.gdprApplies)),c.gdpr_consent=r.gdprConsent.consentString),r.uspConsent&&(c.us_privacy=encodeURIComponent(r.uspConsent)),r.gppConsent?.gppString&&(c.gpp=r.gppConsent.gppString,c.gpp_sid=r.gppConsent?.applicableSections?.toString()),c.rp_maxbids=r.bidLimit||1,function(e,r,i){const o={user:{ext:{data:er({},e.params.visitor)}},site:{ext:{data:er({},e.params.inventory)}}};e.params.keywords&&(o.site.keywords=(0,t.cy)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let s=(0,t.D9)({},e.ortb2||{},o),a=(0,n.A)(e.ortb2Imp,"ext")||{},d=(0,n.A)(e.ortb2Imp,"ext.data")||{};const c=(0,n.A)(e,"ortb2Imp.ext.gpid"),u=(0,n.A)(s,"regs.ext.dsa"),p={user:[4],site:[1,2,5,6]},l={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},f=function(e,r,o,s=!0){let a=function(e,r,i){return"data"===r&&Array.isArray(e)?e.filter(e=>e.segment&&(0,n.A)(e,"ext.segtax")&&p[i]&&-1!==p[i].indexOf((0,n.A)(e,"ext.segtax"))).map(e=>{let t=e.segment.filter(e=>e.id).reduce((e,t)=>(e.push(t.id),e),[]);if(t.length>0)return t.toString()}).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter(e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,t.JE)("Rubicon: Filtered value: ",e,"for key",r,": Expected value to be string, integer, or an array of strings/ints")}).toString():e.toString()}(e,o,r),d=l[o]&&s?`${l[o]}`:"data"===o?`${l[r]}iab`:`${l[r]}${o}`;i[d]=i[d]?i[d].concat(",",a):a};if(r===I.D4){["site","user"].forEach(e=>{Object.keys(s[e]).forEach(t=>{"site"===e&&"content"===t&&s[e][t].data?f(s[e][t].data,e,"data"):"ext"!==t?f(s[e][t],e,t):s[e][t].data&&Object.keys(s[e].ext.data).forEach(t=>{f(s[e].ext.data[t],e,t,!1)})})}),Object.keys(d).forEach(e=>{"adserver"!==e?f(d[e],"site",e):"gam"===d[e].name&&f(d[e].adslot,name,e)}),c&&(i.p_gpid=c),u&&Object.keys(u).length&&(0,t.Up)(u,["dsainfo",e=>i.dsainfo=e,"dsarequired",e=>i.dsarequired=e,"pubrender",e=>i.dsapubrender=e,"datatopub",e=>i.dsadatatopubs=e,"transparency",e=>{Array.isArray(e)&&e.length&&(i.dsatransparency=e.reduce((e,t)=>{const n=t.domain||"";if(!n)return e;const r=t.dsaparams||t.params;return Array.isArray(r)&&0!==r.length?(e&&(e+="~~"),e+`${n}~${r.join("_")}`):e},""))}]),i["tg_i.pbadslot"]&&delete i["tg_i.dfp_ad_unit_code"];const e=(0,n.A)(s,"device.sua");e&&!1!==tr.chEnabled&&(0,t.Up)(e,["architecture",e=>i.m_ch_arch=e,"bitness",e=>i.m_ch_bitness=e,"browsers",e=>{if(!Array.isArray(e))return;const[t,n]=e.reduce((e,t)=>(e[0].push(`"${t?.brand}"|v="${t?.version?.[0]}"`),e[1].push(`"${t?.brand}"|v="${t?.version?.join?.(".")}"`),e),[[],[]]);i.m_ch_ua=t?.join?.(","),i.m_ch_full_ver=n?.join?.(",")},"mobile",e=>i.m_ch_mobile=`?${e}`,"model",e=>i.m_ch_model=e,"platform",e=>{i.m_ch_platform=e?.brand,i.m_ch_platform_ver=e?.version?.join?.(".")}])}else Object.keys(a).length&&(0,t.D9)(i.imp[0].ext,a),c&&(i.imp[0].ext.gpid=c),(0,t.D9)(i,s)}(e,I.D4,c),!0===v.$W.getConfig("coppa")&&(c.coppa=1),e.schain&&pr(e.schain)&&(c.rp_schain=ir.serializeSupplyChain(e.schain)),c},serializeSupplyChain:function(e){if(!pr(e))return"";const{ver:t,complete:n,nodes:r}=e;return`${t},${n}!${ir.serializeSupplyChainNodes(r)}`},serializeSupplyChainNodes:function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map(e=>t.map(t=>encodeURIComponent(e[t]||"")).join(",")).join("!")},interpretResponse:function(e,r){e=e.body;const{data:i}=r;if(!e||"object"!=typeof e)return[];if(e.seatbid){const r=(0,n.A)(e,"ext.errors.rubicon");return Array.isArray(r)&&r.length>0&&(0,t.JE)("Rubicon: Error in video response"),rr.fromORTB({request:i,response:e}).bids}let o,s=e.ads,a=0;const{bidRequest:d}=r;if("object"==typeof d&&!Array.isArray(d)&&ur(d).includes(I.G_)&&"object"==typeof s&&(s=s[d.adUnitCode]),!Array.isArray(s)||s.length<1)return[];let c=s.reduce((n,r,i)=>{if(r.impression_id&&o===r.impression_id?a++:o=r.impression_id,"ok"!==r.status)return n;const s=Array.isArray(d)?d[i-a]:d;if(s&&"object"==typeof s){let e={requestId:s.bidId,currency:"USD",creativeId:r.creative_id||`${r.network||""}-${r.advertiser||""}`,cpm:r.cpm||0,dealId:r.deal,ttl:360,netRevenue:!1!==tr.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:I.D4}};r.creative_type&&(e.mediaType=r.creative_type),r.dsa&&Object.keys(r.dsa).length&&(e.meta.dsa=r.dsa),r.adomain&&(e.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===I.G_?(e.width=s.params.video.playerWidth,e.height=s.params.video.playerHeight,e.vastUrl=r.creative_depot_url,e.impression_id=r.impression_id,e.videoCacheKey=r.impression_id):(e.ad=(c=r.script,`<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='${r.impression_id}'>\n<script type='text/javascript'>${c}<\/script>\n</div>\n</body>\n</html>`),[e.width,e.height]=nr[r.size_id].split("x").map(e=>Number(e))),e.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((e,t)=>(e[t.key]=t.values[0],e),{rpfl_elemid:s.adUnitCode}),n.push(e)}else(0,t.vV)(`Rubicon: bidRequest undefined at index position:${i}`,d,e);var c;return n},[]).sort((e,t)=>(t.cpm||0)-(e.cpm||0)),u=e.component_auction_config?.map(e=>({config:e,bidId:e.bidId}));return u?{bids:c,fledgeAuctionConfigs:u}:c},getUserSyncs:function(e,n,r,i,o){if(!fr&&e.iframeEnabled){let e={};return r&&("boolean"==typeof r.gdprApplies&&(e.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(e.gdpr_consent=r.consentString)),i&&(e.us_privacy=encodeURIComponent(i)),o?.gppString&&(e.gpp=o.gppString,e.gpp_sid=o.applicableSections?.toString()),e=Object.keys(e).length?`?${(0,t.eP)(e)}`:"",fr=!0,{type:"iframe",url:`https://${tr.syncHost||"eus"}.rubiconproject.com/usync.html`+e}}}};function or(e,t){let n;return n=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?n.replace(/^http:/i,"https:"):n}function sr(e){const t=document.getElementById(e.adUnitCode);!function(e){const t=e.querySelector("div[id^='google_ads']");t&&t.style.setProperty("display","none")}(t),function(e){const t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(t);const n=er(er({},{align:"center",position:"append",closeButton:!1,label:void 0,collapse:!0}),e.renderer.getConfig());e.renderer.push(()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:n.align,position:n.position},closeButton:n.closeButton,label:n.label,collapse:n.collapse})})}function ar(e,r){let i=e.params;if(r===I.G_){let t=[];return i.video&&i.video.playerWidth&&i.video.playerHeight?t=[i.video.playerWidth,i.video.playerHeight]:Array.isArray((0,n.A)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}let o=[];return Array.isArray(i.sizes)?o=i.sizes:void 0!==(0,n.A)(e,"mediaTypes.banner.sizes")?o=cr(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=cr(e.sizes):(0,t.JE)("Rubicon: no sizes are setup or found"),function(e){const t=[15,2,9];return e.sort((e,n)=>{const r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:e-n})}(o)}function dr(e,t,n){return r=>{const i=Number(r.ext?.segtax);n.includes(i)&&(e[`tg_${t}.tax${i}`]=r.segment?.map(e=>e.id).join(","))}}function cr(e){return(0,t.kK)(e).reduce((e,t)=>{let n=parseInt(nr[t],10);return n&&e.push(n),e},[])}function ur(e,i=!1){let o=[];if(function(e){let t=void 0!==(0,n.A)(e,`mediaTypes.${I.G_}`),i=void 0!==(0,n.A)(e,`mediaTypes.${I.D4}`),o=void 0!==(0,n.A)(e,"params.bidonmultiformat"),s="object"!=typeof(0,n.A)(e,"params.video");return!(!t||!o)||(i&&s&&(t=!1),t&&s&&r(e,"params.video",{}),t)}(e)){if(-1===["outstream","instream"].indexOf((0,n.A)(e,`mediaTypes.${I.G_}.context`)))return i&&(0,t.vV)("Rubicon: mediaTypes.video.context must be outstream or instream"),o;if(ar(e,I.G_).length<2)return i&&(0,t.vV)("Rubicon: could not determine the playerSize of the video"),o;i&&(0,t.OG)("Rubicon: making video request for adUnit",e.adUnitCode),o.push(I.G_)}if(void 0!==(0,n.A)(e,`mediaTypes.${I.s6}`)&&o.push(I.s6),void 0!==(0,n.A)(e,`mediaTypes.${I.D4}`)){if(0===ar(e,I.D4).length)return i&&(0,t.vV)("Rubicon: could not determine the sizes for banner request"),o;i&&(0,t.OG)("Rubicon: making banner request for adUnit",e.adUnitCode),o.push(I.D4)}return o}function pr(e){let n=!1;const r=["asi","sid","hp"];return e.nodes?(n=e.nodes.reduce((e,t)=>e?r.every(e=>t.hasOwnProperty(e)):e,!0),n||(0,t.vV)("Rubicon: required schain params missing"),n):n}function lr(e,t){return"rp_schain"===e?`rp_schain=${t}`:`${e}=${encodeURIComponent(t)}`}var fr=!1;function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(ir),(0,e.E)("rubiconBidAdapter");const br="pubmatic",hr="PubMatic: ",yr="USD",vr=void 0,_r="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ir={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},wr="number",Ar="array",Or={mimes:Ar,minduration:wr,maxduration:wr,startdelay:wr,playbackmethod:Ar,api:Ar,protocols:Ar,w:wr,h:wr,battr:Ar,linearity:wr,placement:wr,plcmt:wr,minbitrate:wr,maxbitrate:wr,skip:wr},Er={1:"PMP",5:"PREF",6:"PMPG"},xr={bootstrapPlayer:function(e){const n={code:e.adUnitCode};if(e.vastXml?n.vastXml=e.vastXml:e.vastUrl&&(n.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,t.JE)(`${hr}: No vastXml or vastUrl on bid, bailing...`);const r=xr.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode);let o;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===r){o=window.bluebillywig.renderers[e];break}o?o.bootstrap(n,i):(0,t.JE)(`${hr}: Couldn't find a renderer with ${r}`)},newRenderer:function(e,n){var r=_r.replace("$RENDERER",e);const i=Kt.A4.install({url:r,loaded:!1,adUnitCode:n});try{i.setRender(xr.outstreamRender)}catch(e){(0,t.JE)(`${hr}: Error tying to setRender on renderer`,e)}return i},outstreamRender:function(e){e.renderer.push(function(){xr.bootstrapPlayer(e)})},getRendererId:function(e,t){return`${e}-${t}`}},Tr=[I.D4,I.G_,I.s6];let Cr=0,Sr=!1,kr=["pubmatic"];const Dr=["all"];function Rr(e,n){if(!(0,t.O8)(n))return n&&(0,t.JE)(hr+"Ignoring param key: "+e+", expects string-value, found "+typeof n),vr;switch(e){case"pmzoneid":return n.split(",").slice(0,50).map(e=>e.trim()).join();case"kadfloor":case"lat":case"lon":return parseFloat(n)||vr;case"yob":return parseInt(n)||vr;default:return n}}function jr(){let e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(e?.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}}function Pr(e,n,r){var i,o="Ignoring param key: "+e+", expects "+r+", found "+typeof n;switch(r){case"boolean":i=t.Lm;break;case wr:i=t.Et;break;case"string":i=t.O8;break;case Ar:i=t.cy}return i(n)?n:((0,t.JE)(hr+o),vr)}const Br={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},Ur=Object.values(Br);function $r(e){var n;if(e.ortb){e=e.ortb,n=gr(gr({ver:"1.2"},e),{},{assets:[]});const{assets:r}=e,i=e=>e.title||e.img||e.data||e.video;if(r.length<1||!r.some(e=>i(e)))return(0,t.JE)(`${hr}: Native assets object is empty or contains some invalid object`),Sr=!0,n;r.forEach(e=>{var t=e;t.img&&(3==t.img.type?(t.w=t.w||t.width||(t.sizes?t.sizes[0]:vr),t.h=t.h||t.height||(t.sizes?t.sizes[1]:vr),t.wmin=t.wmin||t.minimumWidth||(t.minsizes?t.minsizes[0]:vr),t.hmin=t.hmin||t.minimumHeight||(t.minsizes?t.minsizes[1]:vr)):1==t.img.type&&(t.w=t.w||t.width||(t.sizes?t.sizes[0]:vr),t.h=t.h||t.height||(t.sizes?t.sizes[1]:vr))),t&&void 0!==t.id&&i(t)&&n.assets.push(t)})}else n=function(e){if(!e&&!(0,t.Qd)(e))return(0,t.JE)(`${hr}: Native assets object is empty or not an object: ${e}`),void(Sr=!0);const n={ver:"1.2",assets:[]};for(let r in e){if(s._B.includes(r))continue;if(!s.x5.hasOwnProperty(r)&&!Ur.includes(r)){(0,t.JE)(`${hr}: Unrecognized native asset code: ${r}. Asset will be ignored.`);continue}const i=e[r];let o=0;i.required&&(0,t.Lm)(i.required)&&(o=Number(i.required));const a={id:n.assets.length,required:o};if(r in Br)a.data={type:s.jO[Br[r]]},(i.len||i.length)&&(a.data.len=i.len||i.length),i.ext&&(a.data.ext=i.ext);else if("icon"===r||"image"===r){if(a.img={type:"icon"===r?s.oA.ICON:s.oA.MAIN},i.aspect_ratios)if((0,t.cy)(i.aspect_ratios))if(i.aspect_ratios.length){const{min_width:e,min_height:n}=i.aspect_ratios[0];(0,t.Fq)(e)&&(0,t.Fq)(n)?(a.img.wmin=e,a.img.hmin=n):(0,t.JE)(`${hr}: image.aspect_ratios min_width or min_height are invalid: ${e}, ${n}`);const r=i.aspect_ratios.filter(e=>e.ratio_width&&e.ratio_height).map(e=>`${e.ratio_width}:${e.ratio_height}`);r.length>0&&(a.img.ext={aspectratios:r})}else(0,t.JE)(`${hr}: image.aspect_ratios was passed, but it's empty: ${i.aspect_ratios}`);else(0,t.JE)(`${hr}: image.aspect_ratios was passed, but it's not a an array: ${i.aspect_ratios}`);a.img.w=i.w||i.width,a.img.h=i.h||i.height,a.img.wmin=i.wmin||i.minimumWidth||(i.minsizes?i.minsizes[0]:vr),a.img.hmin=i.hmin||i.minimumHeight||(i.minsizes?i.minsizes[1]:vr),i.sizes&&(2===i.sizes.length&&(0,t.Fq)(i.sizes[0])&&(0,t.Fq)(i.sizes[1])?((0,t.fH)(`${hr}: if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin`),a.img.w=i.sizes[0],a.img.h=i.sizes[1],delete a.img.hmin,delete a.img.wmin):(0,t.JE)(`${hr}: image.sizes was passed, but its value is not an array of integers: ${i.sizes}`)),i.ext&&(a.img.ext=i.ext),i.mimes&&(a.img.mimes=i.mimes)}else"title"===r?(a.title={len:i.len||i.length||140},i.ext&&(a.title.ext=i.ext)):"ext"===r&&(a.ext=i,delete a.required);n.assets.push(a)}return n.assets.length<1?((0,t.JE)(`${hr}: Could not find any valid asset`),void(Sr=!0)):n}(e);return n}function qr(e){var n,r=e.mediaTypes.banner.sizes,i=[];if(r!==vr&&(0,t.cy)(r)){if(n={},e.params.width||e.params.height)n.w=e.params.width,n.h=e.params.height;else{if(0===r.length)return n=vr,(0,t.JE)(hr+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),n;n.w=parseInt(r[0][0],10),n.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(i=[],r.forEach(function(e){e.length>1&&i.push({w:e[0],h:e[1]})}),i.length>0&&(n.format=i)),n.pos=0,n.topframe=(0,t.al)()?0:1}else(0,t.JE)(hr+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),n=vr;return n}function Nr(e){var r,i=(0,t.D9)((0,n.A)(e.mediaTypes,"video"),e.params.video);if(i!==vr){for(var o in r={},function(e,r){(0,n.A)(e,"plcmt")||(0,t.JE)("Video.plcmt param missing for "+r)}(i,e.adUnitCode),Or)i.hasOwnProperty(o)&&(r[o]=Pr(o,i[o],Or[o]));(0,t.cy)(e.mediaTypes.video.playerSize[0])?(r.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),r.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,t.Et)(e.mediaTypes.video.playerSize[0])&&(r.w=parseInt(e.mediaTypes.video.playerSize[0],10),r.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else r=vr,(0,t.JE)(hr+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return r}function Mr(e,n){(n=n.filter(function(e){return"string"==typeof e||((0,t.JE)(hr+"acat: Each category should be a string, ignoring category: "+e),!1)}).map(e=>e.trim()).filter((e,t,n)=>n.indexOf(e)===t)).length>0&&((0,t.JE)(hr+"acat: Selected: ",n),e.ext.acat=n)}function zr(e){return!0===(0,t.cy)(e)&&e.length>0}const Wr={code:br,gvlid:76,supportedMediaTypes:[I.D4,I.G_,I.s6],isBidRequestValid:e=>{if(e&&e.params){if(!(0,t.O8)(e.params.publisherId))return(0,t.JE)(hr+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(I.G_)){let r=(0,n.A)(e.mediaTypes,"video.mimes"),i=(0,n.A)(e,"params.video.mimes");if(!1===zr(r)&&!1===zr(i))return(0,t.JE)(hr+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[I.G_].hasOwnProperty("context"))return(0,t.vV)(`${hr}: no context specified in bid. Rejecting bid: `,e),!1;if("outstream"===e.mediaTypes[I.G_].context&&!(0,t.O8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[I.G_].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(I.D4)||e.mediaTypes.hasOwnProperty(I.s6)?(delete e.mediaTypes[I.G_],(0,t.JE)(`${hr}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: `,e),!0):((0,t.vV)(`${hr}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: `,e),!1)}return!0}return!1},buildRequests:(e,i)=>{var o;i&&i.refererInfo&&(o=i.refererInfo);var s,a=function(e){return{pageURL:e?.page||window.location.href,refURL:e?.ref||window.document.referrer}}(o),d=function(e){return{id:""+(new Date).getTime(),at:1,cur:[yr],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:jr()},user:{},ext:{}}}(a),c="",u=[],p=[],l=[],f=(0,t.lk)();if(e.forEach(e=>{if(e.params.wiid=e.params.wiid||i.auctionId||f,(s=(0,t.Go)(e)).params.adSlot=s.params.adSlot||"",function(e){var n;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(n=e.params.adSlot,(0,t.O8)(n)?n.replace(/^\s+/g,"").replace(/\s+$/g,""):(n&&(0,t.JE)(br+": adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,i=r.split(":");if(r=i[0],2==i.length&&(e.params.adUnitIndex=i[1]),i=r.split("@"),e.params.adUnit=i[0],i.length>1){if(2!=(i=i[1].split("x")).length)return void(0,t.JE)(hr+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(i[0],10),e.params.height=parseInt(i[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(I.D4)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var o=0,s=[];o<e.mediaTypes.banner.sizes.length;o++)2===e.mediaTypes.banner.sizes[o].length&&s.push(e.mediaTypes.banner.sizes[o]);e.mediaTypes.banner.sizes=s,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(s),s.mediaTypes&&s.mediaTypes.hasOwnProperty("video")||s.params.hasOwnProperty("video"));else if(!(s.hasOwnProperty("mediaTypes")&&s.mediaTypes.hasOwnProperty(I.s6)||0!==s.params.width||0!==s.params.height))return void(0,t.JE)(hr+"Skipping the non-standard adslot: ",s.params.adSlot,JSON.stringify(s));a.pubId=a.pubId||s.params.publisherId,(a=function(e,n){var r,i,o;for(r in n.kadpageurl||(n.kadpageurl=n.pageURL),Ir)Ir.hasOwnProperty(r)&&(i=e[r])&&("object"==typeof(o=Ir[r])&&(i=o.f(i,n)),(0,t.O8)(i)?n[r]=i:(0,t.JE)(hr+"Ignoring param : "+r+" with value : "+Ir[r]+", expects string-value, found "+typeof i));return n}(s.params,a)).transactionId=s.ortb2Imp?.ext?.tid,""===c?c=s.params.currency||vr:s.params.hasOwnProperty("currency")&&c!==s.params.currency&&(0,t.JE)(hr+"Currency specifier ignored. Only one currency permitted."),s.params.currency=c,s.params.hasOwnProperty("dctr")&&(0,t.O8)(s.params.dctr)&&u.push(s.params.dctr),s.params.hasOwnProperty("bcat")&&(0,t.cy)(s.params.bcat)&&(p=p.concat(s.params.bcat)),s.params.hasOwnProperty("acat")&&(0,t.cy)(s.params.acat)&&(l=l.concat(s.params.acat));var o=function(e,i){var o,s,a={},d={},c=e.hasOwnProperty("sizes")?e.sizes:[],u="",p=[],l=i?.fledgeEnabled;if(function(e,n){n.params.deals&&((0,t.cy)(n.params.deals)?n.params.deals.forEach(function(n){(0,t.O8)(n)&&n.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:n})):(0,t.JE)(hr+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+n)}):(0,t.JE)(hr+"Error: bid.params.deals should be an array of strings."))}(a={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Rr("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Rr("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Rr("currency",e.params.currency):yr,displaymanager:"Prebid.js",displaymanagerver:"8.52.2"},e),function(e,n){var r,i="";if(n.params.dctr)if(i=n.params.dctr,(0,t.O8)(i)&&i.length>0){var o=i.split("|");i="",o.forEach(e=>{i+=e.length>0?e.trim()+"|":""}),r=i.length,"|"===i.substring(r,r-1)&&(i=i.substring(0,r-1)),e.ext.key_val=i.trim()}else(0,t.JE)(hr+"Ignoring param : dctr with value : "+i+", expects string-value, found empty or non-string value")}(a,e),function(e,t){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,r="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var i,o=n.segments.length;r+="jw-id="+n.content.id;for(var s=0;s<o;s++)r+="|jw-"+n.segments[s]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=r:i.key_val+="|"+r}}(a,e),e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case I.D4:(o=qr(e))!==vr&&(a.banner=o);break;case I.s6:d.request=JSON.stringify($r(e.nativeParams)),Sr?((0,t.JE)(hr+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Sr=!1):a.native=d;break;case I.G_:(s=Nr(e))!==vr&&(a.video=s)}else o={pos:0,w:e.params.width,h:e.params.height,topframe:(0,t.al)()?0:1},(0,t.cy)(c)&&c.length>1&&((c=c.splice(1,c.length-1)).forEach(e=>{p.push({w:e[0],h:e[1]})}),o.format=p),a.banner=o;return function(e,t){const i=gr({},(0,n.A)(t,"ortb2Imp.ext.data"));Object.keys(i).forEach(t=>{"pbadslot"===t?"string"==typeof i[t]&&i[t]&&r(e,"ext.data.pbadslot",i[t]):"adserver"===t?["name","adslot"].forEach(t=>{const o=(0,n.A)(i,`adserver.${t}`);"string"==typeof o&&o&&(r(e,`ext.data.adserver.${t.toLowerCase()}`,o),"adslot"===t&&r(e,"ext.dfp_ad_unit_code",o))}):r(e,`ext.data.${t}`,i[t])});const o=(0,n.A)(t,"ortb2Imp.ext.gpid");o&&r(e,"ext.gpid",o)}(a,e),function(e,n){let r=-1;"function"!=typeof n.getFloor||v.$W.getConfig("pubmatic.disableFloors")||[I.D4,I.G_,I.s6].forEach(i=>{if(e.hasOwnProperty(i)){let o=[];"banner"===i&&(e[i].w&&e[i].h&&o.push([e[i].w,e[i].h]),(0,t.cy)(e[i].format)&&e[i].format.forEach(e=>o.push([e.w,e.h]))),0===o.length&&o.push("*"),o.forEach(o=>{let s=n.getFloor({currency:e.bidfloorcur,mediaType:i,size:o});if((0,t.fH)(hr,"floor from floor module returned for mediatype:",i," and size:",o," is: currency",s.currency,"floor",s.floor),"object"==typeof s&&s.currency===e.bidfloorcur&&!isNaN(parseInt(s.floor))){let e=parseFloat(s.floor);(0,t.fH)(hr,"floor from floor module:",e,"previous floor value",r,"Min:",Math.min(e,r)),r=-1===r?e:Math.min(e,r),(0,t.fH)(hr,"new floor value:",r)}})}}),e.bidfloor&&((0,t.fH)(hr,"floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:vr,(0,t.fH)(hr,"new impObj.bidfloor value:",e.bidfloor)}(a,e),function(e,t,n){n?(e.ext=e.ext||{},void 0!==t?.ortb2Imp?.ext?.ae&&(e.ext.ae=t.ortb2Imp.ext.ae)):e.ext?.ae&&delete e.ext.ae}(a,e,l),a.hasOwnProperty(I.D4)||a.hasOwnProperty(I.s6)||a.hasOwnProperty(I.G_)?a:vr}(s,i);o&&d.imp.push(o)}),0==d.imp.length)return;d.site.publisher.id=a.pubId.trim(),Cr=a.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(a.profId)||vr,d.ext.wrapper.version=parseInt(a.verId)||vr,d.ext.wrapper.wiid=a.wiid||i.auctionId,d.ext.wrapper.wv="prebid_prebid_8.52.2",d.ext.wrapper.transactionId=a.transactionId,d.ext.wrapper.wp="pbjs";const m=i?A.u.get(i.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==m){if(d.ext.marketplace={},i&&1==m){let e=A.u.get(i.bidderCode,"allowedAlternateBidderCodes");(0,t.cy)(e)?(e=e.map(e=>e.trim().toLowerCase()).filter(e=>!!e).filter(t.hj),kr=e.includes("*")?Dr:[...kr,...e]):kr=Dr}d.ext.marketplace.allowedbidders=kr.filter(t.hj)}d.user.gender=a.gender?a.gender.trim():vr,d.user.geo={},d.user.yob=Rr("yob",a.yob),d.site.page=a.kadpageurl.trim()||d.site.page.trim(),d.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(d.site.page),"object"==typeof v.$W.getConfig("content")&&(d.site.content=v.$W.getConfig("content")),"object"==typeof v.$W.getConfig("device")&&(d.device=Object.assign(d.device,v.$W.getConfig("device"))),d.device.language=d.device.language&&d.device.language.split("-")[0],r(d,"source.tid",i?.ortb2?.source?.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&r(d,"source.ext.schain",e[0].schain),i&&i.gdprConsent&&(r(d,"user.ext.consent",i.gdprConsent.consentString),r(d,"regs.ext.gdpr",i.gdprConsent.gdprApplies?1:0)),i&&i.uspConsent&&r(d,"regs.ext.us_privacy",i.uspConsent),i?.gppConsent?.gppString?(r(d,"regs.gpp",i.gppConsent.gppString),r(d,"regs.gpp_sid",i.gppConsent.applicableSections)):i?.ortb2?.regs?.gpp&&(r(d,"regs.gpp",i.ortb2.regs.gpp),r(d,"regs.gpp_sid",i.ortb2.regs.gpp_sid)),!0===v.$W.getConfig("coppa")&&r(d,"regs.coppa",1),i?.ortb2?.regs?.ext?.dsa&&r(d,"regs.ext.dsa",i.ortb2.regs.ext.dsa),function(e,i){let o=(0,n.A)(i,"0.userIdAsEids");(0,t.cy)(o)&&o.length>0&&r(e,"user.eids",o)}(d,e);const g=i&&i.ortb2||{},{user:b,device:h,site:y,bcat:_,badv:w}=g;if(y){const{page:e,domain:n,ref:r}=d.site;(0,t.D9)(d,{site:y}),d.site.page=e,d.site.domain=n,d.site.ref=r}if(b&&(0,t.D9)(d,{user:b}),w&&(0,t.D9)(d,{badv:w}),_&&(p=p.concat(_)),h?.sua&&(d.device.sua=h?.sua),h?.ext?.cdep&&r(d,"device.ext.cdep",h.ext.cdep),b?.geo&&h?.geo?(d.device.geo=gr(gr({},d.device.geo),h.geo),d.user.geo=gr(gr({},d.user.geo),b.geo)):(b?.geo||h?.geo)&&(d.user.geo=d.device.geo=gr(gr({},d.user.geo),b?.geo?b.geo:h.geo)),g.ext?.prebid?.bidderparams?.[i.bidderCode]?.acat){const e=g.ext.prebid.bidderparams[i.bidderCode].acat;Mr(d,e)}else l.length&&Mr(d,l);return function(e,n){(n=n.filter(function(e){return"string"==typeof e||((0,t.JE)(hr+"bcat: Each category should be a string, ignoring category: "+e),!1)}).map(e=>e.trim()).filter(function(e,n,r){if(e.length>3)return r.indexOf(e)===n;(0,t.JE)(hr+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length>0&&((0,t.JE)(hr+"bcat: Selected: ",n),e.bcat=n)}(d,p),d.tmax=i?.timeout?i.timeout:window?.PWT?.versionDetails?.timeout,d.ext.epoch=(new Date).getTime(),"object"==typeof v.$W.getConfig("app")&&(d.app=v.$W.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||vr,"object"!=typeof d.app.content&&(d.app.content=d.site.content||vr),delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d),bidderRequest:i}},interpretResponse:(e,r)=>{const i=[];var o=yr;let s=JSON.parse(r.data),a=s.site&&s.site.ref?s.site.ref:"";try{e.body&&e.body.seatbid&&(0,t.cy)(e.body.seatbid)&&(o=e.body.cur||o,e.body.seatbid.forEach(e=>{e.bid&&(0,t.cy)(e.bid)&&e.bid.forEach(d=>{let c={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:o,netRevenue:!0,ttl:300,referrer:a,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};s.imp&&s.imp.length>0&&s.imp.forEach(e=>{if(d.impid===e.id)switch(function(e,n){if(e.ext&&null!=e.ext.bidtype)n.mediaType=Tr[e.ext.bidtype];else{(0,t.fH)(hr+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,i="",o=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)n.mediaType=I.D4;else if(o.test(r))n.mediaType=I.G_;else try{(i=JSON.parse(r.replace(/\\/g,"")))&&i.native&&(n.mediaType=I.s6)}catch(e){(0,t.JE)(hr+"Error: Cannot parse native reponse for ad response: "+r)}}}(d,c),c.mediaType){case I.D4:break;case I.G_:c.width=d.hasOwnProperty("w")?d.w:e.video.w,c.height=d.hasOwnProperty("h")?d.h:e.video.h,c.vastXml=d.adm,function(e,t){let n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(let o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[I.G_].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=xr.newRenderer(e.rendererCode,i))}}(c,r),function(e,r,i){if(!r?.ext?.prebiddealpriority)return;const o=(0,t.D4)(e.requestId,[i.bidderRequest]),s=(0,n.A)(o,"mediaTypes.video");if(s?.context!=I.LM)return;const a=r?.ext?.video?.duration||s?.maxduration;e.video={context:I.LM,durationSeconds:a,dealTier:r.ext.prebiddealpriority}}(c,d,r);break;case I.s6:!function(e,n){if(e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,t.JE)(hr+"Error: Cannot parse native reponse for ad response: "+n.adm)}n.native={ortb:gr({},r.native)},n.mediaType=I.s6,n.width||(n.width=0),n.height||(n.height=0)}}(d,c)}}),d.ext&&d.ext.deal_channel&&(c.dealChannel=Er[d.ext.deal_channel]||null),function(e,t,n){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);const r=n||t.ext&&t.ext.advid;r&&(e.meta.advertiserId=r,e.meta.agencyId=r,e.meta.buyerId=r),t.adomain&&zr(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&zr(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0]),t.ext&&t.ext.dsa&&Object.keys(t.ext.dsa).length&&(e.meta.dsa=t.ext.dsa)}(c,d,e.seat),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(c.bidderCode=d.ext.marketplace),i.push(c)})}));let d=(0,n.A)(e.body,"ext.fledge_auction_configs");if(d)return d=Object.entries(d).map(([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)})),{bids:i,fledgeAuctionConfigs:d}}catch(e){(0,t.vV)(e)}return i},getUserSyncs:(e,t,n,r,i)=>{let o=""+Cr;return n&&(o+="&gdpr="+(n.gdprApplies?1:0),o+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(o+="&us_privacy="+encodeURIComponent(r)),i?.gppString&&i?.applicableSections?.length&&(o+="&gpp="+encodeURIComponent(i.gppString),o+="&gpp_sid="+encodeURIComponent(i?.applicableSections?.join(","))),!0===v.$W.getConfig("coppa")&&(o+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+o}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+o}]}};function Lr(e){const n=function(e){let n;return(0,t.II)()&&(n=(0,a.I6)(window.googletag.pubads().getSlots(),function(e){return n=>(0,t.sC)(n,e)}(e))),n}(e);return n?{gptSlot:n.getAdUnitPath(),divId:n.getSlotElementId()}:{}}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(Wr),(0,e.E)("pubmaticBidAdapter");const Fr="ix",Hr="roundel",Jr=[I.D4,I.G_,I.s6],Kr=[144,144],Qr={JPY:1},Xr={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Yr={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},Zr=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],ei=["mimes","minduration","maxduration"],ti=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],ni=`${Fr}_features`,ri=(0,Z.vM)({bidderCode:Fr}),ii={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(e){return(0,n.A)(this.featureToggles,`features.${e}.activated`,!1)},getFeatureToggles:function(){if(ri.localStorageIsEnabled()){const e=(0,t.$l)(ri.getDataFromLocalStorage(ni));(0,n.A)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){const t=e.body,r=new Date,i=(0,n.A)(t,"ext.features");i&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:i},ri.localStorageIsEnabled()&&ri.setDataInLocalStorage(ni,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},ri.localStorageIsEnabled()&&ri.removeDataFromLocalStorage(ni)}};let oi=0,si="",ai="",di=!1;function ci(e){const i=ui(e,I.G_),o=(0,n.A)(e,"mediaTypes.video"),s=(0,n.A)(e,"params.video");if(gi(o,s).length)return{};i.video=s?(0,t.Go)(e.params.video):{};let a=(0,n.A)(e,"ortb2Imp.ext.tid");a&&r(i,"ext.tid",a),function(e,t){if((0,n.A)(t,"mediaTypes.video.context")===Te.H6){let r=(0,n.A)(t,"mediaTypes.video.renderer");if(r||(r=(0,n.A)(t,"renderer")),(0,n.A)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(r&&"object"==typeof r){if(void 0!==r.url){let t="";try{t=new URL(r.url).hostname}catch{return}t.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=r.url}}else e.displaymanager="ix"}}(i,e),wi(i,e);for(const e in o)-1===ti.indexOf(e)||i.video.hasOwnProperty(e)||(i.video[e]=o[e]);if(i.video.minduration>i.video.maxduration)return(0,t.vV)(`IX Bid Adapter: video minduration [${i.video.minduration}] cannot be greater than video maxduration [${i.video.maxduration}]`),{};const d=s&&s.context||o&&o.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,t.Fq)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,t.JE)(`IX Bid Adapter: video.plcmt [${e.video.plcmt}] must be an integer between 1-4 inclusive`),delete e.video.plcmt)}(i),d&&!i.video.hasOwnProperty("placement")&&(d===Te.mn?i.video.placement=1:d===Te.H6?(0,n.A)(s,"playerConfig.floatOnScroll")?i.video.placement=5:(i.video.placement=3,di=!0):(0,t.JE)(`IX Bid Adapter: Video context '${d}' is not supported`)),!i.video.w||!i.video.h){const r=bi((0,n.A)(i,"video.playerSize"))||bi((0,n.A)(e,"params.size"));if(!r)return(0,t.JE)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};i.video.w=r[0],i.video.h=r[1]}return pi(e,i,I.G_),i}function ui(e,t){const i={};if(i.id=e.bidId,ji()&&(0,n.A)(e,"params.externalId")&&r(i,"ext.externalID",e.params.externalId),(0,n.A)(e,`params.${t}.siteId`)&&!isNaN(Number(e.params[t].siteId)))switch(t){case I.D4:r(i,"ext.siteID",e.params.banner.siteId.toString());break;case I.G_:r(i,"ext.siteID",e.params.video.siteId.toString());break;case I.s6:r(i,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&r(i,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||r(i,"ext.sid",String(e.params.id)),i}function pi(e,n,i){let o=null,s=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(o={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,t.fp)(e.getFloor)){let r="*",o="*";if(i&&(0,t.gR)(Jr,i)){const{w:e,h:t}=n[i];r=i,o=[e,t]}try{s=e.getFloor({mediaType:r,size:o})}catch(e){(0,t.JE)("priceFloors module call getFloor failed, error : ",e)}}let a=!1;s?(n.bidfloor=s.floor,n.bidfloorcur=s.currency,r(n,"ext.fl","p"),a=!0):o&&(n.bidfloor=o.floor,n.bidfloorcur=o.currency,r(n,"ext.fl","x"),a=!0),a&&(i==I.D4?(r(n,"banner.ext.bidfloor",n.bidfloor),r(n,"banner.ext.fl",n.ext.fl)):i==I.G_?(r(n,"video.ext.bidfloor",n.bidfloor),r(n,"video.ext.fl",n.ext.fl)):(r(n,"native.ext.bidfloor",n.bidfloor),r(n,"native.ext.fl",n.ext.fl)))}function li(e,r,i){const o={},s=!(!(0,n.A)(e,"exp")||!(0,t.Fq)(e.exp)),a=(0,n.A)(e,"dealid")||(0,n.A)(e,"ext.dealid");Qr.hasOwnProperty(r)?o.cpm=e.price/Qr[r]:o.cpm=e.price/100,o.requestId=e.impid,a&&(o.dealId=a),o.netRevenue=!0,o.currency=r,o.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(o.vastUrl=e.ext.vasturl):o.vastXml=e.adm;let d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,t.JE)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(o.width=i.video.w,o.height=i.video.h,o.mediaType=I.G_,o.mediaTypes=i.mediaTypes,o.ttl=s?e.exp:3600):d&&d.native?(o.native={ortb:d.native},o.width=e.w?e.w:1,o.height=e.h?e.h:1,o.mediaType=I.s6,o.ttl=s?e.exp:3600):(o.ad=e.adm,o.width=e.w,o.height=e.h,o.mediaType=I.D4,o.ttl=s?e.exp:300),o.meta={},o.meta.networkId=(0,n.A)(e,"ext.dspid"),o.meta.brandId=(0,n.A)(e,"ext.advbrandid"),o.meta.brandName=(0,n.A)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(o.meta.advertiserDomains=e.adomain),e.ext?.dsa&&(o.meta.dsa=e.ext.dsa),o}function fi(e){return Array.isArray(e)&&2===e.length&&(0,t.Fq)(e[0])&&(0,t.Fq)(e[1])}function mi(e=[],t=[]){if(fi(e))return e[0]===t[0]&&e[1]===t[1];for(let n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function gi(e,n){const r=[];e||(0,t.JE)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let t of ei){const i=e&&e.hasOwnProperty(t),o=n&&n.hasOwnProperty(t);i||o||r.push(`IX Bid Adapter: ${t} is not included in either the adunit or params level`)}const i=e&&e.hasOwnProperty("protocol"),o=e&&e.hasOwnProperty("protocols"),s=n&&n.hasOwnProperty("protocol"),a=n&&n.hasOwnProperty("protocols");return i||o||s||a||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function bi(e=[]){return fi(e)?e:!!fi(e[0])&&e[0]}function hi(e,t,n){if(e)return Gr(Gr({},(0,a.I6)(n,t=>t.bidId===e)),(0,a.I6)(t,t=>t.id===e))}function yi(e,i,o,s){let a=function(e){let r=[],i={};if((0,t.cy)(e))for(const t of e){const e=Yr.hasOwnProperty(t.source),o=ii.isFeatureEnabled("pbjs_allow_all_eids"),s=(0,n.A)(t,"uids.0");if((e||o)&&s&&(i[t.source]=!0,e&&""!==Yr[t.source]&&(t.uids[0].ext={rtiPartner:Yr[t.source]}),delete t.uids[0].atype,r.push(t),r.length>=50))break}return{toSend:r,seenSources:i}}((0,n.A)(e,"0.userIdAsEids")),d=a.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){let n=window.headertag.getIdentityInfo();if(n&&"object"==typeof n)for(const r in n){if(e.length>=50)return;if(n.hasOwnProperty(r)){let i=n[r];!i.responsePending&&i.data&&"object"==typeof i.data&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}}(d,a),i&&i.bidderCode===Hr&&!a.seenSources["liveramp.com"])return[];const c=[];let u=function(e){const t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=ri.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);u=function(e,t){return t.length>0&&(e.ext.features={},t.forEach(t=>{e.ext.features[t]={activated:ii.isFeatureEnabled(t)}})),e}(u,ii.REQUESTED_FEATURE_TOGGLES);let p=function(e,t){var r=e.map(e=>e.adUnitCode).filter((e,t,n)=>n.indexOf(e)===t);let i=(0,n.A)(e,"0.userIdAsEids",[]),o={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.52.2",userIds:Oi(e[0]),url:window.location.href.split("?")[0],vpd:di,ae:t,eidLength:i.length};for(let t of r){let r=e.filter(e=>e.adUnitCode===t)[0];(0,n.A)(r,"mediaTypes")&&(Object.keys(r.mediaTypes).length>1&&o.mfu++,(0,n.A)(r,"mediaTypes.native")&&o.nu++,(0,n.A)(r,"mediaTypes.banner")&&o.bu++,"outstream"===(0,n.A)(r,"mediaTypes.video.context")&&(o.ou++,Ri(r)&&(o.ren=!0)),"instream"===(0,n.A)(r,"mediaTypes.video.context")&&o.iu++,o.allu++)}return o}(e,(0,n.A)(i,"fledgeEnabled"));for(let e in p)u.ext.ixdiag[e]=p[e];u=function(e,t,r,i,o){const s=(0,n.A)(t,"timeout");return s&&(e.ext.ixdiag.tmax=s),v.$W.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=v.$W.getConfig("userSync").syncsPerBidder),e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:t?.ortb2?.source?.tid},i[0].schain&&(e.source.ext={},e.source.ext.schain=i[0].schain),o.length>0&&(e.user={},e.user.eids=o),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(u,i,o,e,d),u=function(e,t){if(t){t.gdprConsent&&(si=t.gdprConsent,si.hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:si.gdprApplies?1:0}}),si.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:si.consentString||""},si.hasOwnProperty("addtlConsent")&&si.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:si.addtlConsent}))),t.uspConsent&&(r(e,"regs.ext.us_privacy",t.uspConsent),ai=t.uspConsent);const i=(0,n.A)(t,"refererInfo.page");i&&(e.site.page=i),t.gppConsent&&(r(e,"regs.gpp",t.gppConsent.gppString),r(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return v.$W.getConfig("coppa")&&r(e,"regs.coppa",1),e}(u,i),e[0].params.siteId&&(oi=e[0].params.siteId);const l=Object.keys(o);let f=!1;for(let r=0;r<l.length&&!(c.length>=4);r++){u=vi(o,l,u,r);const s=(0,n.A)(i,"ortb2")||{},a=Gr({},s.site||s.context);a.page=_i(i);const d=Gr({},s.user);(0,t.Im)(s)||f||(u=Ii(i,u,s,a,d),u.site=(0,t.D9)({},u.site,a),u.user=(0,t.D9)({},u.user,d),f=!0),u=Ai(o,u,l,r);const p=r===l.length-1;if(u=Ni(u),u=Ui(u),u=$i(u),p){let n="https://htlb.casalemedia.com/openrtb/pbjs?";0!==oi&&(n+=`s=${oi}`),ji()&&(n+=0!==oi?"&":"",n+=`p=${v.$W.getConfig("exchangeId")}`),c.push({method:"POST",url:n,data:(0,t.Go)(u),option:{contentType:"text/plain"},validBidRequests:e}),u.imp=[],f=!1}}return c}function vi(e,i,o,s){const a=e[i[s]],{missingImps:d=[],ixImps:c=[]}=a,u={ixImps:c,missingBannerImpressions:d},p=Object.keys(u).map(e=>u[e]).filter(e=>Array.isArray(e)).reduce((e,t)=>e.concat(...t),[]),l=e[i[s]].gpid,f=e[i[s]].dfp_ad_unit_code,m=e[i[s]].tid,g=e[i[s]].sid,b=e[i[s]].ae,h=e[i[s]].paapi,y=p.filter(e=>I.D4 in e),v=p.filter(e=>!(I.D4 in e));if(y.length>0){const a=y.reduce((e,t)=>(e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e),{});for(const d in a){const c=a[d],{id:u,banner:{topframe:p}}=c[0];let y=(0,n.A)(c[0],"ext.externalID");const v={id:u,banner:{topframe:p,format:c.map(({banner:{w:e,h:t},ext:n})=>({w:e,h:t,ext:n}))}};for(let e=0;e<v.banner.format.length;e++)null!=v.banner.format[e].ext&&(null!=v.banner.format[e].ext.sid&&delete v.banner.format[e].ext.sid,null!=v.banner.format[e].ext.externalID&&delete v.banner.format[e].ext.externalID),"bidfloor"in c[e]&&(v.banner.format[e].ext.bidfloor=c[e].bidfloor),"{}"===JSON.stringify(v.banner.format[e].ext)&&delete v.banner.format[e].ext;const _=e[i[s]].pos;(0,t.Fq)(_)&&(v.banner.pos=_),(f||l||m||g||b||y||h)&&(v.ext={},v.ext.dfp_ad_unit_code=f,v.ext.gpid=l,v.ext.tid=m,v.ext.sid=g,v.ext.externalID=y,1==b&&(v.ext.ae=1,v.ext.paapi=h)),"bidfloor"in c[0]&&(v.bidfloor=c[0].bidfloor),"bidfloorcur"in c[0]&&(v.bidfloorcur=c[0].bidfloorcur);const I=e[i[s]].adUnitFPD;I&&r(v,"ext.data",I),o.imp.push(v)}}return v.length>0&&v.forEach(e=>{if(l&&r(e,"ext.gpid",l),o.imp.length>0){let t=!1;o.imp.forEach((i,s)=>{e.id===i.id&&I.G_ in e?(i.video=e.video,i.video.ext=Object.assign({},e.video.ext,e.ext),(0,n.A)(i,"video.ext.bidfloor",!1)&&(0,n.A)(i,"bidfloor",!1)&&i.video.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.video.ext.bidfloor),!(0,n.A)(i,"ext.siteID",!1)&&(0,n.A)(e,"video.ext.siteID")&&(r(i,"ext.siteID",e.video.ext.siteID),r(o,"ext.ixdiag.usid",!0)),t=!0):e.id===i.id&&I.s6 in e&&(i.native=e.native,i.native.ext=Object.assign({},e.native.ext,e.ext),(0,n.A)(i,"native.ext.bidfloor",!1)&&(0,n.A)(i,"bidfloor",!1)&&i.native.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.native.ext.bidfloor),!(0,n.A)(i,"ext.siteID",!1)&&(0,n.A)(e,"native.ext.siteID",!1)&&(r(i,"ext.siteID",e.native.ext.siteID),r(o,"ext.ixdiag.usid",!0)),t=!0)}),t||o.imp.push(e)}else o.imp.push(e)}),o}function _i(e){const r=e&&e.bidderCode||"ix",i=v.$W.getConfig(r);let o="";return o=(0,n.A)(e,"ortb2.site.page")?e.ortb2.site.page:(0,n.A)(e,"refererInfo.page"),i&&"object"==typeof i.firstPartyData?function(e,r,i){let o;try{o=new URL(r)}catch(i){(0,t.JE)(`IX Bid Adapter: Invalid URL set in ortb2.site.page: ${r}. Using referer URL instead.`),o=new URL((0,n.A)(e,"refererInfo.page"))}const s=new URLSearchParams(o.search);for(const[e,t]of Object.entries(i))s.has(e)||s.append(e,t);return o.search=s.toString(),o.toString()}(e,o,i.firstPartyData):o}function Ii(e,n,i,o,s){if(n.ext.ixdiag.fpd=!0,Object.keys(o).forEach(e=>{-1===Xr.SITE.indexOf(e)&&delete o[e]}),Object.keys(s).forEach(e=>{-1===Xr.USER.indexOf(e)&&delete s[e]}),i.device){const e=Gr({},i.device.sua);(0,t.Im)(e)||r(n,"device.sua",e)}if(i.hasOwnProperty("regs")&&!e.gppConsent&&(i.regs.hasOwnProperty("gpp")&&"string"==typeof i.regs.gpp&&r(n,"regs.gpp",i.regs.gpp),i.regs.hasOwnProperty("gpp_sid")&&Array.isArray(i.regs.gpp_sid)&&r(n,"regs.gpp_sid",i.regs.gpp_sid),i.regs.ext?.dsa)){const e=i.regs.ext.dsa,o={};if(["dsarequired","pubrender","datatopub"].forEach(n=>{(0,t.Et)(e[n])&&(o[n]=e[n])}),(0,t.cy)(e.transparency)){const n=[];e.transparency.forEach(e=>{(0,t.Qd)(e)&&(0,t.O8)(e.domain)&&""!=e.domain&&(0,t.cy)(e.dsaparams)&&e.dsaparams.every(e=>(0,t.Et)(e))&&n.push(e)}),n.length>0&&(o.transparency=n)}(0,t.Im)(o)||r(n,"regs.ext.dsa",o)}return n}function wi(e,t){const i=(0,n.A)(t,"ortb2Imp.ext.data");i&&r(e,"ext.data",i)}function Ai(e,t,n,r,i,o){const s=e[n[r]].pbadslot,a=e[n[r]].tagId,d=e[n[r]].adUnitCode,c=e[n[r]].divId;return(s||a||d||c)&&(t.ext.ixdiag.pbadslot=s,t.ext.ixdiag.tagid=a,t.ext.ixdiag.adunitcode=d,t.ext.ixdiag.divId=c),t}function Oi(e){const t=e.userId||{};return Zr.filter(e=>t[e])}function Ei(e,t){if(t)for(let n=0;n<e.length;n++){const r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function xi(e,t){const i=function(e){const t=ui(e,I.s6),i=e.nativeOrtbRequest;i.eventtrackers=[{event:1,methods:[1,2]}],i.privacy=1,t.native={request:JSON.stringify(i),ver:"1.2"};let o=(0,n.A)(e,"ortb2Imp.ext.tid");return o&&r(t,"ext.tid",o),wi(t,e),pi(e,t,I.s6),t}(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,n.A)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,n.A)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,n.A)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,n.A)(e,"params.tagId");const r=e.adUnitCode,o=document.getElementById(r)?r:Lr(r).divId;t[e.adUnitCode].adUnitCode=r,t[e.adUnitCode].divId=o}}function Ti(e,t){const r=ci(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,n.A)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,n.A)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,n.A)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,n.A)(e,"params.tagId");const i=e.adUnitCode,o=document.getElementById(i)?i:Lr(i).divId;t[e.adUnitCode].adUnitCode=i,t[e.adUnitCode].divId=o}}function Ci(e,r,i,o){let s=function(e){const r=ui(e,I.D4);r.banner={},r.adunitCode=e.adUnitCode;const i=(0,n.A)(e,"params.size");return i&&(r.banner.w=i[0],r.banner.h=i[1]),r.banner.topframe=(0,t.al)()?0:1,pi(e,r,I.D4),r}(e);const a=mi((0,n.A)(e,"mediaTypes.banner.sizes"),(0,n.A)(e,"params.size"));if(i.hasOwnProperty(e.adUnitCode)||(i[e.adUnitCode]={}),i[e.adUnitCode].gpid=(0,n.A)(e,"ortb2Imp.ext.gpid"),i[e.adUnitCode].dfp_ad_unit_code=(0,n.A)(e,"ortb2Imp.ext.data.adserver.adslot"),i[e.adUnitCode].tid=(0,n.A)(e,"ortb2Imp.ext.tid"),i[e.adUnitCode].pbadslot=(0,n.A)(e,"ortb2Imp.ext.data.pbadslot"),i[e.adUnitCode].tagId=(0,n.A)(e,"params.tagId"),i[e.adUnitCode].pos=(0,n.A)(e,"mediaTypes.banner.pos"),(0,n.A)(o,"fledgeEnabled")){const r=(0,n.A)(e,"ortb2Imp.ext.ae"),s=(0,n.A)(e,"ortb2Imp.ext.paapi");s&&(i[e.adUnitCode].paapi=s),r?(0,t.Fq)(r)?i[e.adUnitCode].ae=r:(0,t.JE)("error setting auction environment flag - must be an integer"):1==(0,n.A)(o,"defaultForSlots")&&(i[e.adUnitCode].ae=1)}const d=(0,n.A)(e,"ortb2Imp.ext.data");d&&(i[e.adUnitCode].adUnitFPD=d);const c=(0,n.A)(e,"params.id");!c||"string"!=typeof c&&"number"!=typeof c||(i[e.adUnitCode].sid=String(c));const u=e.adUnitCode,p=document.getElementById(u)?u:Lr(u).divId;i[e.adUnitCode].adUnitCode=u,i[e.adUnitCode].divId=p,a&&(i[e.adUnitCode].hasOwnProperty("ixImps")||(i[e.adUnitCode].ixImps=[]),i[e.adUnitCode].ixImps.push(s)),function(e,r,i){if(r.hasOwnProperty(e.adUnitCode)){let t=[];r[e.adUnitCode].hasOwnProperty("missingSizes")&&(t=r[e.adUnitCode].missingSizes),Ei(t,e.params.size),r[e.adUnitCode].missingSizes=t}else if((0,n.A)(e,"mediaTypes.banner.sizes")){let n=(0,t.Go)(e.mediaTypes.banner.sizes);Ei(n,e.params.size);let o={missingSizes:n,impression:i};r[e.adUnitCode]=o}}(e,r,s)}function Si(e,n,r){const i=(0,t.Go)(n);return i.banner.w=r[0],i.banner.h=r[1],pi(e,i,I.D4),i}function ki(e){e.renderer.push(function(){const n=e.adUnitCode,r=document.getElementById(n)?n:Lr(n).divId;r?window.createIXPlayer(r,e):(0,t.JE)(`IX Bid Adapter: adUnitCode: ${r} not found on page.`)})}function Di(e,n){const r=Kt.A4.install({id:e,url:n,loaded:!1});try{r.setRender(ki)}catch(e){return(0,t.JE)("Prebid Error calling setRender on renderer",e),null}return n?r:((0,t.JE)("Outstream renderer URL not found"),null)}function Ri(e){if("outstream"!==(0,n.A)(e,"mediaTypes.video.context"))return!1;let t=(0,n.A)(e,"mediaTypes.video.renderer");return t||(t=(0,n.A)(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}function ji(){let e=v.$W.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}const Pi={code:Fr,gvlid:10,aliases:[{code:Hr,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Jr,isBidRequestValid:function(e){const r=(0,n.A)(e,"params.video"),i=(0,n.A)(e,"params.size"),o=(0,n.A)(e,"mediaTypes.banner.sizes"),s=(0,n.A)(e,"mediaTypes.video"),a=(0,n.A)(e,"mediaTypes.video.playerSize"),d=e.params.hasOwnProperty("bidFloor"),c=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,t.gR)(Jr,e.mediaType))return(0,t.JE)("IX Bid Adapter: media type is not supported."),!1;if((0,n.A)(e,"mediaTypes.banner")&&!o)return!1;if(i){const n=bi(i);if(!n)return(0,t.vV)("IX Bid Adapter: size has invalid format."),!1;if(!mi(e.sizes,n)&&!mi(a,n)&&!mi(o,n))return(0,t.vV)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!ji()&&null==e.params.siteId)return(0,t.vV)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,t.vV)("IX Bid Adapter: siteId must be string or number type."),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,t.vV)("IX Bid Adapter: siteId must valid value"),!1}if((d||c)&&!(d&&c&&(u=e.params.bidFloor,p=e.params.bidFloorCur,Boolean("number"==typeof u&&"string"==typeof p&&p.match(/^[A-Z]{3}$/)))))return(0,t.vV)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1;var u,p;if(s&&r){const i=ci(e).video,o=gi(s,r);if((0,n.A)(e,"mediaTypes.video.context")===Te.H6&&Ri(e)&&i){const e=[(0,n.A)(i,"w"),(0,n.A)(i,"h")];if(!(e[0]>=Kr[0]&&e[1]>=Kr[1]))return(0,t.vV)(`IX Bid Adapter: ${e} is an invalid size for IX outstream renderer`),!1}if(o.length)return o.forEach(e=>{(0,t.vV)(e)}),!1}return function(e){return void 0===(0,n.A)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){oi=0},buildRequests:function(e,r){const i=[],o={},s={},a={},d={};ii.getFeatureToggles(),e.forEach(e=>{const i=Object.keys((0,n.A)(e,"mediaTypes",{}));for(const n in i)switch(i[n]){case I.D4:Ci(e,d,o,r);break;case I.G_:Ti(e,s);break;case I.s6:xi(e,a);break;default:(0,t.JE)(`IX Bid Adapter: ad unit mediaTypes ${n} is not supported`)}});for(let t in d)if(d.hasOwnProperty(t)){let n=d[t].missingSizes;o.hasOwnProperty(t)||(o[t]={}),o[t].hasOwnProperty("missingImps")||(o[t].missingImps=[],o[t].missingCount=0);let r=d[t].impression;for(let i=0;i<n.length;i++){let s=Si(e[0],r,n[i]);o[t].missingImps.push(s),o[t].missingCount++}}let c=[];return Object.keys(o).length>0&&c.push(o),Object.keys(s).length>0&&c.push(s),Object.keys(a).length>0&&c.push(a),ii.isFeatureEnabled("pbjs_enable_multiformat")?i.push(...yi(e,r,function(e){const t={};return e.forEach(e=>{Object.keys(e).forEach(n=>{Object.keys(t).includes(n)?t[n].hasOwnProperty("ixImps")&&e[n].hasOwnProperty("ixImps")?t[n].ixImps=[...t[n].ixImps,...e[n].ixImps]:t[n].hasOwnProperty("missingImps")&&e[n].hasOwnProperty("missingImps")?t[n].missingImps=[...t[n].missingImps,...e[n].missingImps]:e[n].hasOwnProperty("ixImps")?t[n].ixImps=e[n].ixImps:e[n].hasOwnProperty("missingImps")&&(t[n].missingImps=e[n].missingImps):t[n]=e[n]})}),t}(c))):(Object.keys(o).length>0&&i.push(...yi(e,r,o)),Object.keys(s).length>0&&i.push(...yi(e,r,s)),Object.keys(a).length>0&&i.push(...yi(e,r,a))),i},interpretResponse:function(e,r){const i=[];let o=null,s=(0,n.A)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(ii.setFeatureToggles(e),!e.hasOwnProperty("body"))return i;const a=e.body,d=a.seatbid||[];for(let s=0;s<d.length;s++){if(!d[s].hasOwnProperty("bid"))continue;const c=d[s].bid,u=r.data;for(let e=0;e<c.length;e++){const t=hi(c[e].impid,u.imp,r.validBidRequests);if(o=li(c[e],a.cur,t),o.mediaType===I.G_&&Ri(t)){const t=(0,n.A)(a,"ext.videoplayerurl");if(o.renderer=Di(c[e].bidId,t),!o.renderer)continue}i.push(o)}if((0,n.A)(u,"ext.ixdiag.err")&&ri.localStorageIsEnabled())try{ri.removeDataFromLocalStorage("ixdiag")}catch(e){(0,t.vV)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(s)&&s.length>0))return i;s=s.filter(e=>!!function(e){return"object"==typeof e&&null!==e}(e)||((0,t.JE)("Malformed auction config detected:",e),!1));try{return{bids:i,fledgeAuctionConfigs:s}}catch(e){return(0,t.JE)("Error attaching AuctionConfigs",e),i}},getUserSyncs:function(e,t){const r=[];let i=null;if(t.length>0&&(i=(0,n.A)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==i&&0==i)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let e=null;v.$W.getConfig("userSync")&&(e=v.$W.getConfig("userSync").syncsPerBidder),0===e&&(e=i),e=i&&(0===e||e)?i>e?e:i:1;for(let t=0;t<e;t++)r.push({type:"image",url:Bi(e,t)})}return r}};function Bi(e,t){let n="",r="0";return si&&si.hasOwnProperty("gdprApplies")&&(r=si.gdprApplies?"1":"0"),si&&si.hasOwnProperty("consentString")&&(n=si.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==oi?"&site_id="+oi.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+r+"&gdpr_consent="+n+"&us_privacy="+(ai||"")}function Ui(e){return e.imp.forEach((t,n)=>{const r=t.ext;if(null==r)return e;qi(t)<2||Object.keys(r).forEach(i=>{if(I.D4 in t){const o=t.banner.ext;if(void 0!==o&&void 0!==o[i]&&o[i]==r[i]&&delete e.imp[n].banner.ext[i],void 0!==t.banner.format)for(let o=0;o<t.banner.format.length;o++)null!=t.banner.format[o].ext&&null!=t.banner.format[o].ext[i]&&t.banner.format[o].ext[i]==r[i]&&delete e.imp[n].banner.format[o].ext[i]}if(I.G_ in t){const o=t.video.ext;void 0!==o&&void 0!==o[i]&&o[i]==r[i]&&delete e.imp[n].video.ext[i]}if(I.s6 in t){const o=t.native.ext;void 0!==o&&void 0!==o[i]&&o[i]==r[i]&&delete e.imp[n].native.ext[i]}})}),e}function $i(e){return e.imp.forEach((t,n)=>{if(null==t.ext)return e;if(!(qi(t)<2)){if(I.D4 in t){const i=t.banner.ext;if(void 0!==i&&void 0!==i.siteID&&delete e.imp[n].banner.ext.siteID,void 0!==t.banner.format)for(let i=0;i<t.banner.format.length;i++)void 0!==t.banner.format[i].ext&&void 0!==t.banner.format[i].ext.siteID&&(r(e.imp[n],"ext.siteID",t.banner.format[i].ext.siteID),r(e,"ext.ixdiag.usid",!0),delete e.imp[n].banner.format[i].ext.siteID)}if(I.G_ in t){const r=t.video.ext;void 0!==r&&void 0!==r.siteID&&delete e.imp[n].video.ext.siteID}if(I.s6 in t){const r=t.native.ext;void 0!==r&&void 0!==r.siteID&&delete e.imp[n].native.ext.siteID}}}),e}function qi(e){let t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function Ni(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(Pi),(0,e.E)("ixBidAdapter"),__webpack_require__(511);const Wi=(0,Z.vM)({bidderCode:"orbidder"}),Li={code:"orbidder",gvlid:559,hostname:"https://orbidder.otto.de",supportedMediaTypes:[I.D4,I.s6],getHostname(){let e=this.hostname;try{e=Wi.getDataFromLocalStorage("ov_orbidder_host")||e}catch(e){}return e},isBidRequestValid:e=>!(!(e.sizes&&e.bidId&&e.params&&e.params.accountId&&"string"==typeof e.params.accountId&&e.params.placementId&&"string"==typeof e.params.placementId)||void 0!==e.params.keyValues&&"object"!=typeof e.params.keyValues),buildRequests(n,r){n=(0,o.Xj)(n);const i=this.getHostname();return n.map(n=>{let o="";r&&r.refererInfo&&(o=r.refererInfo.page||""),n.params.bidfloor=function(e){if(!(0,t.fp)(e.getFloor))return e.params.bidfloor;const n=e.getFloor({currency:"EUR",mediaType:"*",size:"*"});return(0,t.Qd)(n)&&!isNaN(n.floor)&&"EUR"===n.currency?n.floor:void 0}(n);let s={url:`${i}/bid`,method:"POST",options:{withCredentials:!0},data:zi({v:(0,e.m)().version,pageUrl:o},n)};return r&&r.gdprConsent&&(s.data.gdprConsent={consentString:r.gdprConsent.consentString,consentRequired:"boolean"==typeof r.gdprConsent.gdprApplies&&r.gdprConsent.gdprApplies}),s})},interpretResponse(e){const t=[];return(e=e.body)&&e.length>0&&e.forEach(e=>{(function(e){let t=["requestId","cpm","ttl","creativeId","netRevenue","currency"];switch(e.mediaType){case I.D4:t=t.concat(["width","height","ad"]);break;case I.s6:if(!e.native.hasOwnProperty("impressionTrackers"))return!1;break;default:return!1}for(const n of t)if(!e.hasOwnProperty(n))return!1;return!0})(e)&&(Array.isArray(e.advertiserDomains)&&(e.meta={advertiserDomains:e.advertiserDomains}),t.push(e))}),t}};function Vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(Li),(0,e.E)("orbidderBidAdapter");const Fi="improvedigital",Hi={DEFAULT_MIMES:["video/mp4"]},Ji={code:Fi,gvlid:253,aliases:["id"],supportedMediaTypes:[I.D4,I.s6,I.G_],syncStore:{extendMode:!1,placementId:null},isBidRequestValid:e=>!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId)),buildRequests(e,t){return this.syncStore.placementId=this.syncStore.placementId||e[0].params.placementId,Qi.buildServerRequests(e,t)},interpretResponse:(e,{ortbRequest:t})=>Ki.fromORTB({request:t,response:e.body}).bids,getUserSyncs(e,t,r,i){if(!0===v.$W.getConfig("coppa")||!(0,Xt.C)(r))return[];const o=[];if(!this.syncStore.extendMode&&e.pixelEnabled||!e.iframeEnabled)e.pixelEnabled&&t.forEach(e=>{(0,n.A)(e,`body.ext.${Fi}.sync`,[]).forEach(e=>{o.some(t=>t.url===e)||o.push({type:"image",url:e})})});else{const{gdprApplies:e,consentString:n}=r||{},s=new Set;this.syncStore.extendMode&&t&&t.forEach(e=>{e?.body?.ext?.responsetimemillis&&Object.keys(e.body.ext.responsetimemillis).forEach(e=>s.add(e))}),o.push({type:"iframe",url:`https://hb.360yield.com/prebid-universal-creative/load-cookie.html?placement_id=${this.syncStore.placementId}`+(this.syncStore.extendMode?"&pbs=1":"")+("boolean"==typeof e?`&gdpr=${Number(e)}`:"")+(n?`&gdpr_consent=${n}`:"")+(i?`&us_privacy=${encodeURIComponent(i)}`:"")+(s.size?`&bidders=${[...s].join(",")}`:"")})}return o}};(0,Qt.a$)(Ji);const Ki=Wn({context:{ttl:300,nativeRequest:{eventtrackers:[{event:1,methods:[1,2]}]}},imp(e,n,i){const o=e(n,i);o.secure=Number("https:"===window.location.protocol),!o.bidfloor&&n.params.bidFloor&&(o.bidfloor=n.params.bidFloor,o.bidfloorcur=(0,t.u5)("bidFloorCur",n.params).toUpperCase()||"USD");const s=i.extendMode?"ext.prebid.bidder.improvedigital":"ext.bidder",a=n.params.placementId;return a?(r(o,`${s}.placementId`,a),i.extendMode&&r(o,"ext.prebid.storedrequest.id",""+a)):(r(o,`${s}.publisherId`,(0,t.u5)("publisherId",n.params)),r(o,`${s}.placementKey`,(0,t.u5)("placementKey",n.params))),r(o,`${s}.keyValues`,(0,t.u5)("keyValues",n.params)||void 0),o},request(e,n,r,i){const o=e(n,r,i);return(0,t.D9)(o,{id:(0,t.s0)(),source:{},ext:{improvedigital:{sdk:{name:"pbjs",version:"8.52.2"}}}}),o},bidResponse(e,t,r){if(!t.adm||!t.price||t.hasOwnProperty("errorCode"))return;const{bidRequest:i}=r;r.mediaType=(()=>{const e=Object.keys(i.mediaTypes);return 1===e.length?e[0]:-1!==t.adm.search(/^(<\?xml|<vast)/i)?I.G_:"{"===t.adm[0]?I.s6:I.D4})();const o=e(t,r),s=(0,n.A)(t,`ext.${Fi}`,{});return 1===s.pg&&(o.adserverTargeting={hb_deal_type_improve:"pg"}),Object.assign(o,{dealId:"string"==typeof s.buying_type&&"rtb"!==s.buying_type?s.line_item_id:void 0,netRevenue:s.is_net||!1}),o.mediaType===I.G_&&Qi.isOutstreamVideo(i)&&Object.assign(o,{adResponse:{content:o.vastXml},renderer:Xi.createRenderer(i)}),Yi.forwardBid({bidRequest:i,bid:o}),o},overrides:{imp:{banner(e,t,n,r){if(n.mediaTypes[I.D4]){if(!0!==v.$W.getConfig("improvedigital.usePrebidSizes")){const e=Object.assign({},n.mediaTypes[I.D4],{sizes:null});n=Gi(Gi({},n),{},{mediaTypes:{[I.D4]:e}})}e(t,n,r)}},video(e,t,i,o){if(!i.mediaTypes[I.G_])return;const s=Object.assign({mimes:Hi.DEFAULT_MIMES},i.mediaTypes[I.G_],i.params?.video);e(t,Gi(Gi({},i),{},{mediaTypes:{[I.G_]:s}}),o),r(t,"ext.is_rewarded_inventory",1===s.rewarded||1===(0,n.A)(s,"ext.rewarded")||void 0)}}}}),Qi={buildServerRequests(e,t){const n=!0===v.$W.getConfig("improvedigital.extend"),r=[],i=!0===v.$W.getConfig("improvedigital.singleRequest"),o=[],s=[];function a(e,n){if(e)return"https://pbs.360yield.com/openrtb2/auction";const r=[];return r.push((0,Xt.C)(t?.gdprConsent)?"https://ad.360yield.com":"https://ad.360yield-basic.com"),n&&r.push(n),r.push("pb"),r.join("/")}function d(e,n,r){const i=Ki.toORTB({bidRequests:e,bidderRequest:t,context:{extendMode:r}});return{method:"POST",url:a(r,n),data:JSON.stringify(i),ortbRequest:i,bidderRequest:t}}let c=null;return e.map(e=>{const t=e.params.publisherId,a=this.isExtendModeEnabled(n,e.params);if(i){if(c){if(t&&c!==t)throw new Error("All Improve Digital placements in a single call must have the same publisherId. Please check your 'params.publisherId' or turn off the single request mode.")}else c=t;a?o.push(e):s.push(e)}else r.push(d([e],t,a))}),i?(o.length&&r.push(d(o,c,!0)),s.length&&r.push(d(s,c,!1)),r):r},isExtendModeEnabled(e,t){const n="boolean"==typeof t.extend?t.extend:e;return n&&!Ji.syncStore.extendMode&&(Ji.syncStore.extendMode=!0),n},isOutstreamVideo:e=>"outstream"===(0,n.A)(e,"mediaTypes.video.context")},Xi={RENDERER_URL:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",createRenderer(e){const r=Kt.A4.install({id:e.adUnitCode,url:this.RENDERER_URL,config:(0,n.A)(e,"renderer.options"),adUnitCode:e.adUnitCode});try{r.setRender(this.render)}catch(e){(0,t.JE)("Prebid Error calling setRender on renderer",e)}return r},render(e){e.renderer.push(()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Xi.handleRendererEvents.bind(null,e))})},handleRendererEvents(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}},Yi={RENDERER_URL:"https://cdn.360yield.com/razr/tag.js",forwardBid({bidRequest:e,bid:t}){if(t.mediaType!==I.D4)return;const n={prebid:{bidRequest:e,bid:t}},r=`<script>window.__razr_config = ${JSON.stringify(n).replace(/<\/script>/gi,"\\x3C/script>")};<\/script>`;t.ad=r+t.ad,this.installListener()},installListener(){this._listenerInstalled||(window.addEventListener("message",function(e){const t=e.data?.razr?.load;if(!t)return;e.source&&(t.source=e.source,t.id&&e.source.postMessage({razr:{id:t.id}},"*"));const n=window.razr=window.razr||{};n.q=n.q||[],n.q.push(t),n.loaded||(0,F.R)(Yi.RENDERER_URL,Fi)}),this._listenerInstalled=!0)}};function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,e.E)("improvedigitalBidAdapter");const to="https://ad.yieldlab.net",no="EUR",ro={code:"yieldlab",gvlid:70,supportedMediaTypes:[I.G_,I.D4,I.s6],isBidRequestValid:e=>!!(e&&e.params&&e.params.adslotId&&e.params.supplyId),buildRequests(e,r){e=(0,o.Xj)(e);const i=[],s=[],a=[],d={ts:Date.now(),json:!0};if((0,t.bu)(e,function(e){i.push(e.params.adslotId);const r=function(e){const{mediaTypes:n}=e,r=[];if((0,t.Qd)(n)){const{[I.D4]:e}=n;e&&(0,t.cy)(e.sizes)&&((0,t.cy)(e.sizes[0])?r.push(e.sizes):r.push([e.sizes]))}else(0,t.cy)(e.sizes)&&((0,t.cy)(e.sizes[0])?r.push(e.sizes):r.push([e.sizes]));const i=new Set(r.flat().map(([e,t])=>e+"x"+t));return Array.from(i)}(e);if(r.length>0&&s.push(e.params.adslotId+":"+r.join("|")),e.params.extId&&(d.id=e.params.extId),e.params.targeting&&(d.t=function(e){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=n,i=e[n];t.push(r+"="+i)}return t.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(d.ids=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].source+":"+e[n].uids[0].id);return t.join(",")}(e.userIdAsEids),d.atypes=function(e){const t=[];for(let n=0;n<e.length;n++)e[n].uids[0].atype&&t.push(e[n].source+":"+e[n].uids[0].atype);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&(0,t.Qd)(e.params.customParams))for(const t in e.params.customParams)d[t]=e.params.customParams[t];e.schain&&(0,t.Qd)(e.schain)&&Array.isArray(e.schain.nodes)&&(d.schain=function(e){const t=e.ver||"",n=1===e.complete||0===e.complete?e.complete:"",r=["asi","sid","hp","rid","name","domain","ext"];return`${t},${n}${e.nodes.reduce((e,t)=>e+`!${r.map(e=>{return t[e]?(n=t[e],encodeURIComponent(n).replace(/!/g,"%21")):"";var n}).join(",")}`,"")}`}(e.schain));const o=function(e){if(e.params.iabContent&&(0,t.Qd)(e.params.iabContent))return e.params.iabContent;const r=(0,n.A)(e,"ortb2.site")?(0,n.A)(e,"ortb2.site.content"):(0,n.A)(e,"ortb2.app.content");return r&&(0,t.Qd)(r)?r:void 0}(e);o&&(d.iab_content=function(e){const t=["keywords","cat"],n=[],r=(e={},i="")=>{for(const o in e)-1!==t.indexOf(o)&&Array.isArray(e[o])?n.push("".concat(o,":",e[o].map(e=>encodeURIComponent(e)).join("|"))):"object"!=typeof e[o]?n.push("".concat(i+o,":",encodeURIComponent(e[o]))):r(e[o],"".concat(i,o,"."));return n.join(",")};return encodeURIComponent(r(e))}(o));const c=function(e,r){if(!(0,t.fp)(e.getFloor))return;const i=(0,n.A)(e,"mediaTypes"),o=void 0!==i?Object.keys(i)[0].toLowerCase():void 0,s=e.getFloor({currency:no,mediaType:void 0!==o&&ro.supportedMediaTypes.includes(o)?o:"*",size:1!==r.length?"*":r[0].split("x")});return s.currency===no?(100*s.floor).toFixed(0):void 0}(e,r);c&&a.push(e.params.adslotId+":"+c)}),r){if(r.refererInfo&&r.refererInfo.page&&(d.pubref=r.refererInfo.page),r.gdprConsent&&(d.gdpr="boolean"!=typeof r.gdprConsent.gdprApplies||r.gdprConsent.gdprApplies,d.gdpr&&(d.consent=r.gdprConsent.consentString)),void 0!==r.ortb2?.regs?.ext?.dsa){const e=r.ortb2.regs.ext.dsa;if(co(d,"dsarequired",e.dsarequired),co(d,"dsapubrender",e.pubrender),co(d,"dsadatatopub",e.datatopub),Array.isArray(e.transparency)){const t=e.transparency.filter(({domain:e,dsaparams:t})=>e&&!e.includes("~")&&Array.isArray(t)&&t.length>0&&t.every(e=>"number"==typeof e));if(1===t.length){const{domain:e,dsaparams:n}=t[0];co(d,"dsadomain",e),co(d,"dsaparams",n.join(","))}else if(t.length>1){const e=t.map(({domain:e,dsaparams:t})=>`${e}~${t.join("_")}`).join("~~");e&&(d.dsatransparency=e)}}}const e=function(e){const r=((0,n.A)(e,"ortb2.user.data")||[]).filter(e=>e.segment&&(0,t.cy)(e.segment)&&e.segment.length>0&&e.segment.every(e=>e.id&&!(0,t.xQ)(e.id)&&isFinite(e.id)))[0];if(r)return{segtax:r.ext?.segtax,segclass:r.ext?.segclass,segments:r.segment.map(e=>Number(e.id)).join(",")}}(r);e&&(co(d,"segtax",e.segtax),co(d,"segclass",e.segclass),co(d,"segments",e.segments))}const c=i.join(",");s.length>0&&(d.sizes=s.join(",")),a.length>0&&(d.floor=a.join(","));const u=function(e){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];"schain"!==n&&"iab_content"!==n?t.push(encodeURIComponent(n)+"="+encodeURIComponent(r)):t.push(n+"="+r)}return t.join("&")}(d);return{method:"GET",url:`${to}/yp/${c}?${u}`,validBidRequests:e,queryParams:d}},interpretResponse(e,r){const i=[],o=Date.now(),s=r.queryParams;return r.validBidRequests.forEach(function(r){if(!e.body)return;const d=(0,a.I6)(e.body,function(e){return r.params.adslotId==e.id});if(d){const e=2!==r.sizes.length||(0,t.cy)(r.sizes[0])?r.sizes[0]:r.sizes,p=void 0!==r.params.adSize?io(r.params.adSize):void 0!==d.adsize?io(d.adsize):e,l=void 0!==r.params.extId?"&id="+r.params.extId:"",f=void 0!==d.adtype?d.adtype:"",m=s.gdpr?"&gdpr="+s.gdpr:"",g=s.consent?"&consent="+s.consent:"",b=void 0!==d.pvid?"&pvid="+d.pvid:"",h=s.iab_content?"&iab_content="+s.iab_content:"",y={requestId:r.bidId,cpm:d.price/100,width:p[0],height:p[1],creativeId:""+d.id,dealId:d["c.dealid"]?d["c.dealid"]:d.pid,currency:no,netRevenue:!1,ttl:300,referrer:"",ad:`<script src="${to}/d/${d.id}/${r.params.supplyId}/?ts=${o}${l}${m}${g}${b}${h}"><\/script>`,meta:{advertiserDomains:d.advertiser?d.advertiser:"n/a"}},v=function(e){if(e.dsa){const{behalf:t,paid:n,transparency:r,adrender:i}=e.dsa;return eo(eo(eo(eo({},void 0!==t&&{behalf:t}),void 0!==n&&{paid:n}),void 0!==r&&{transparency:r}),void 0!==i&&{adrender:i})}}(d);if(void 0!==v&&(y.meta=eo(eo({},y.meta),{},{dsa:v})),c=r,u=f,(0,n.A)(c,"mediaTypes.video")&&"video"===u.toLowerCase()){const e=function(e){const r=(0,n.A)(e,"mediaTypes.video.playerSize");return r&&(0,t.cy)(r[0])?r[0]:r}(r);if(e&&(y.width=e[0],y.height=e[1]),y.mediaType=I.G_,y.vastUrl=`${to}/d/${d.id}/${r.params.supplyId}/?ts=${o}${l}${m}${g}${b}${h}`,function(e){return"outstream"===(0,n.A)(e,"mediaTypes.video.context")}(r)){const e=Kt.A4.install({id:r.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1});e.setRender(oo),y.renderer=e}}if(function(e,t){return(0,n.A)(e,"mediaTypes.native")&&"native"===t.toLowerCase()}(r,f)){const{native:e}=d,{assets:t}=e;y.adUrl=`${to}/d/${d.id}/${r.params.supplyId}/?ts=${o}${l}${m}${g}${b}`,y.mediaType=I.s6;const n=(0,a.I6)(t,ao(1)),i=(0,a.I6)(t,ao(3)),s=i?i.img:{url:"",w:0,h:0},c=(0,a.I6)(t,e=>so(e,"title")),u=(0,a.I6)(t,e=>so(e,"data"));y.native=eo(eo({title:c?c.title.text:"",body:u?u.data.value:""},n?.img&&{icon:{url:n.img.url,width:n.img.w,height:n.img.h}}),{},{image:{url:s.url,width:s.w,height:s.h},clickUrl:e.link.url,impressionTrackers:e.imptrackers,assets:t})}i.push(y)}var c,u}),i},getUserSyncs(e,n,r,i){const o=[];if(e.iframeEnabled){const e=[];e.push(`ts=${(0,t.vE)()}`),e.push("type=h"),r&&"boolean"==typeof r.gdprApplies&&e.push(`gdpr=${Number(r.gdprApplies)}`),r&&"string"==typeof r.consentString&&e.push(`gdpr_consent=${r.consentString}`),o.push({type:"iframe",url:`${to}/d/6846326/766/2x2?${e.join("&")}`})}return o}};function io(e){return e.split("x").map(Number)}function oo(e){e.renderer.push(()=>{window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))})}function so(e,t){return e.hasOwnProperty(t)&&null!=e[t]}function ao(e){return t=>t?.img?.type===e}function co(e,t,n){void 0!==n&&(e[t]=n)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(ro),(0,e.E)("yieldlabBidAdapter");const lo="stroeerCore",fo={code:lo,gvlid:136,supportedMediaTypes:[I.D4,I.G_],isBidRequestValid:function(){const e=[],n=(e,n)=>r=>!!e(r)||((0,t.JE)(`${lo}: Bid setup for ${r.adUnitCode} is invalid: ${n}`),!1);return e.push(n(e=>(e=>yo(e)||vo(e))(e),"the media type is invalid")),e.push(n(e=>"object"==typeof e.params,"the custom params does not exist")),e.push(n(e=>(0,t.O8)(e.params.sid),"the sid field must be a string")),function(t){return e.every(e=>e(t))}}(),buildRequests:function(e=[],i){const o=i.bids[0],s=i.refererInfo,a={id:(0,t.lk)(),ref:s.ref,mpa:mo(),timeout:i.timeout-(Date.now()-i.auctionStart),url:s.page,schain:o.schain},d=o.userId;(0,t.Im)(d)||(a.user={euids:d});const c=i.gdprConsent;c&&(a.gdpr={consent:c.consentString,applies:c.gdprApplies}),["regs.ext.dsa","device.ext.cdep"].forEach(e=>{const t=(0,n.A)(i.ortb2,e);void 0!==t&&r(a,`ortb2.${e}`,t)});const u=e.filter(yo).map(Io),p=e.filter(vo).map(wo);return{method:"POST",url:bo(o.params),data:po(po({},a),{},{bids:[...u,...p]})}},interpretResponse:function(e){const t=[];return e.body&&"object"==typeof e.body&&e.body.bids.forEach(e=>{const n=null!=e.vastXml?I.G_:I.D4,r={requestId:e.bidId,cpm:e.cpm||0,width:e.width||0,height:e.height||0,ttl:300,currency:"EUR",netRevenue:!0,creativeId:"",meta:{advertiserDomains:e.adomain,dsa:e.dsa},mediaType:n};n===I.G_?r.vastXml=e.vastXml:r.ad=e.ad,t.push(r)}),t},getUserSyncs:function(e,t,n){return t.length>0&&e.iframeEnabled?[{type:"iframe",url:"https://js.adscale.de/pbsync.html"+ho(n)}]:[]}},mo=()=>{try{return!!(0,t.mb)().location.href}catch(e){return!1}},go=e=>{const n=(e,t)=>{const r=e.getBoundingClientRect(),i=r.top+r.height>=0&&r.top<=t.innerHeight;return t!==t.parent?i&&n(t.frameElement,t.parent):i};try{return n((r=e,(0,t.l4)().document.getElementById(r)),(0,t.l4)())}catch(e){}var r},bo=({host:e="hb.adscale.de",port:n="",securePort:r,path:i="/dsh"})=>(r&&(n=r),(0,t.c$)({protocol:"https",hostname:e,port:n,pathname:i})),ho=e=>{if(e){const t=encodeURIComponent(e.consentString||"");return`?gdpr=${e.gdprApplies?1:0}&gdpr_consent=${t}`}return""},yo=e=>!e.mediaTypes&&!e.mediaType||e.mediaTypes&&e.mediaTypes.banner||e.mediaType===I.D4,vo=e=>{const t=e.mediaTypes;return t&&t.video&&["instream","outstream"].indexOf(t.video.context)>-1},_o=e=>({bid:e.bidId,sid:e.params.sid,viz:go(e.adUnitCode)}),Io=e=>{const t=(0,n.A)(e,"mediaTypes.banner.sizes")||[];return po({ban:{siz:t,fp:Ao(I.D4,t,e)}},_o(e))},wo=e=>{const t=(0,n.A)(e,"mediaTypes.video")||{};return po({vid:{ctx:t.context,siz:t.playerSize,mim:t.mimes,fp:Ao(I.G_,[t.playerSize],e)}},_o(e))},Ao=(e,t,n)=>{if(!n.getFloor)return;const r=n.getFloor({currency:"EUR",mediaType:e,size:"*"}),i=t.map(t=>po(po({},n.getFloor({currency:"EUR",mediaType:e,size:[t[0],t[1]]})),{},{size:t})),o=(0,a.I6)([r].concat(i),e=>e.currency);if(!o)return;const s=o.currency,d=r.currency===s?r.floor:void 0;return{def:d,cur:s,siz:i.filter(e=>e.currency===s).filter(e=>e.floor!==d).map(e=>({w:e.size[0],h:e.size[1],p:e.floor}))}};function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(0,Qt.a$)(fo),(0,e.E)("stroeerCoreBidAdapter");const Eo="8.52.2",xo="USD",To=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxdt.net","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","yahoo.com","zeotap.com"];function Co(e,t){const n=e.bidder||e.bidderCode;return v.$W.getConfig(`${n}.${t}`)}function So(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function ko(e){return(0,t.cy)(e)&&2===e.length&&!(0,t.cy)(e[0])?[So(e)]:e.map(So)}function Do(e){return(0,t.cy)((0,n.A)(e,"userIdAsEids"))?e.userIdAsEids.filter(e=>-1!==To.indexOf(e.source)):[]}function Ro(e){return(0,n.A)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function jo(e){let t;return(0,n.A)(e,"params.pubId")?t=!0:(0,n.A)(e,"params.dcn")&&(0,n.A)(e,"params.pos")&&(t=!1),t}function Po(e){let t=Co(e,"mode");return t=t?t.toLowerCase():void 0,void 0===t||t===I.D4?I.D4:t===I.G_?I.G_:"all"===t?"*":void 0}function Bo(e){const r=Po(e),i={currency:(0,n.A)(e,"params.bidOverride.cur")||xo,mediaType:r,size:"*"};return!!(0,t.fp)(e.getFloor)&&e.getFloor(i)}function Uo(e,n,r,o){const s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o);for(const i in r)switch(e){case"string":-1!==n.indexOf(i)&&(0,t.O8)(r[i])&&(s[i]=r[i]);break;case"number":-1!==n.indexOf(i)&&(0,t.Et)(r[i])&&(s[i]=r[i]);break;case"array":-1!==n.indexOf(i)&&(0,t.cy)(r[i])&&(s[i]=r[i]);break;case"object":-1!==n.indexOf(i)&&(0,t.Qd)(r[i])&&(s[i]=r[i]);break;case"objectAllKeys":(0,t.Qd)(r)&&(s[i]=r[i])}return s}function $o(e){return r=Co(e,"ttl")||(0,n.A)(e,"params.ttl"),(0,t.Et)(r)&&r>0&&r<3600?r:300;var r}function qo(e){return(0,t.O8)(e)&&e.length>0}function No(e,r){if(e){let i={id:(0,t.lk)(),cur:[Bo(e).currency||(0,n.A)(r,"params.bidOverride.cur")||xo],imp:[],site:{page:(0,n.A)(e,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:(0,n.A)(r,"params.bidOverride.device.ip")||(0,n.A)(r,"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0,gpp:e.gppConsent?e.gppConsent.gppString:"",gpp_sid:e.gppConsent?e.gppConsent.applicableSections:[]}},source:{ext:{hb:1,adapterver:"1.1.0",prebidver:Eo,integration:{name:"prebid.js",ver:Eo}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:Do(r)}}};!0===jo(r)?(i.site.publisher={id:r.params.pubId},((0,n.A)(r,"params.bidOverride.site.id")||(0,n.A)(r,"params.siteId"))&&(i.site.id=(0,n.A)(r,"params.bidOverride.site.id")||r.params.siteId)):i.site.id=r.params.dcn,e.ortb2?.regs?.gpp&&(i.regs.ext.gpp=e.ortb2.regs.gpp,i.regs.ext.gpp_sid=e.ortb2.regs.gpp_sid),e.ortb2&&(i=function(e,r){const i=r.ortb2,o=(0,n.A)(i,"site")||void 0,s=(0,n.A)(o,"content")||void 0,a=(0,n.A)(o,"publisher")||void 0,d=(0,n.A)(o,"content.data")||void 0,c=(0,n.A)(i,"app.content")||void 0,u=(0,n.A)(i,"app.content.data")||void 0,p=(0,n.A)(i,"user")||void 0;if(o&&(0,t.Qd)(o)){const t=["name","domain","page","ref","keywords","search"],n=["cat","sectioncat","pagecat"],r=["ext"];e.site=Uo("string",t,o,e.site),e.site=Uo("array",n,o,e.site),e.site=Uo("object",r,o,e.site)}if(a&&(0,t.Qd)(a)){const t=["ext"];e.site.publisher=Uo("object",t,a,e.site.publisher)}if(s&&(0,t.Qd)(s)){const n=["id","title","series","season","genre","contentrating","language"],r=["episode","prodq","context","livestream","len"],i=["cat"],o=["ext"];e.site.content=Uo("string",n,s,e.site.content),e.site.content=Uo("number",r,s,e.site.content),e.site.content=Uo("array",i,s,e.site.content),e.site.content=Uo("object",o,s,e.site.content),d&&(0,t.cy)(d)&&d.every(t=>{let n={};n=Uo("string",["id","name"],t,n),n=Uo("array",["segment"],t,n),n=Uo("object",["ext"],t,n),e.site.content.data=[],e.site.content.data.push(n)})}if(c&&(0,t.Qd)(c)&&u&&(0,t.cy)(u)&&u.every(t=>{let n={};n=Uo("string",["id","name"],t,n),n=Uo("array",["segment"],t,n),n=Uo("object",["ext"],t,n),e.app={content:{data:[]}},e.app.content.data.push(n)}),p&&(0,t.Qd)(p)){const t=["id","buyeruid","gender","keywords","customdata"],n=["yob"],r=["data"],i=["ext"];e.user=Uo("string",t,p,e.user),e.user=Uo("number",n,p,e.user),e.user=Uo("array",r,p,e.user),e.user.ext=Uo("object",i,p,e.user.ext)}return e}(i,r));const o=(0,n.A)(r,"schain.nodes");return(0,t.cy)(o)&&o.length>0&&(i.source.ext.schain=r.schain,i.source.ext.schain.nodes[0].rid=i.id),i}}function Mo(e,r){const i=Po(e);if(r&&e){const o={id:e.bidId,secure:Ro(e),bidfloor:Bo(e).floor||(0,n.A)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==i&&i!==I.D4&&"*"!==i||(o.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:ko(e.sizes)},e.mediaTypes.banner.pos&&(o.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(i===I.G_||"*"===i)){const t=ko(e.mediaTypes.video.playerSize);o.video={mimes:(0,n.A)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,n.A)(e,"params.bidOverride.imp.video.w")||t[0].w,h:(0,n.A)(e,"params.bidOverride.imp.video.h")||t[0].h,maxbitrate:(0,n.A)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:(0,n.A)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:(0,n.A)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:(0,n.A)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:(0,n.A)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:(0,n.A)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:(0,n.A)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:(0,n.A)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:(0,n.A)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:(0,n.A)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:(0,n.A)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:(0,n.A)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(o.ext={dfp_ad_unit_code:e.adUnitCode},(0,n.A)(e,"params.kvp")&&(0,t.Qd)(e.params.kvp)){o.ext.kvs={};for(const n in e.params.kvp)if((0,t.O8)(e.params.kvp[n])||(0,t.Et)(e.params.kvp[n]))o.ext.kvs[n]=e.params.kvp[n];else if((0,t.cy)(e.params.kvp[n])){const r=e.params.kvp[n];(r.every(e=>(0,t.O8)(e))||r.every(e=>(0,t.Et)(e)))&&(o.ext.kvs[n]=e.params.kvp[n])}}(0,n.A)(e,"ortb2Imp.ext.data")&&(0,t.Qd)(e.ortb2Imp.ext.data)&&(o.ext.data=e.ortb2Imp.ext.data),(0,n.A)(e,"ortb2Imp.instl")&&(0,t.Et)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(o.instl=e.ortb2Imp.instl),!1===jo(e)?(o.tagid=e.params.pos,o.ext.pos=e.params.pos):(0,n.A)(e,"params.placementId")&&(o.tagid=e.params.placementId),r.imp.push(o)}}function zo({payload:e,requestOptions:r,bidderRequest:i}){const o=jo(i),s=Co(i,"endpoint");let a=s||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===o&&(a=s||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===(0,n.A)(i,"params.testing.e2etest"))if((0,t.fH)("Adapter e2etest mode is active"),r.withCredentials=!1,!0===o)e.site.id="1234567";else{const n=Po(i);e.site.id="8a969516017a7a396ec539d97f540011",e.imp.forEach(e=>{if(e.ext.e2eTestMode=!0,n===I.D4)e.tagid="8a969978017a7aaabab4ab0bc01a0009";else if(n===I.G_)e.tagid="8a96958a017a7a57ac375d50c0c700cc";else{const e=i.bidderCode;(0,t.JE)(`e2etest mode does not support ${e}.mode="all". \n Please specify either "banner" or "video"`),(0,t.JE)(`Adapter e2etest mode: Please make sure your adUnit matches the ${e}.mode video or banner`)}})}return{url:a,method:"POST",data:e,options:r,bidderRequest:i}}const Wo={code:"yahooAds",gvlid:25,aliases:["yahoossp","yahooAdvertising"],supportedMediaTypes:[I.D4,I.G_],isBidRequestValid:function(e){const r=e.params;return!0===(0,n.A)(r,"testing.e2etest")||!(!(0,t.Qd)(r)||!(qo(r.pubId)||qo(r.dcn)&&qo(r.pos)))||((0,t.JE)("Bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1)},buildRequests:function(e,n){if((0,t.Im)(e)||(0,t.Im)(n))return void(0,t.JE)('buildRequests called with either empty "validBidRequests" or "bidderRequest"');const r={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};r.withCredentials=(0,Xt.C)(n.gdprConsent);const i=function(e){const t=Po(e[0]);let n=[];return t===I.D4?n=e.filter(e=>Object.keys(e.mediaTypes).some(e=>e===I.D4)):t===I.G_?n=e.filter(e=>Object.keys(e.mediaTypes).some(e=>e===I.G_)):"*"===t&&(n=e.filter(e=>Object.keys(e.mediaTypes).some(e=>e===I.D4||e===I.G_))),n}(e);if(!0===Co(n,"singleRequestMode")){const e=No(n,i[0]);return i.forEach(t=>{Mo(t,e)}),[zo({payload:e,requestOptions:r,bidderRequest:n})]}return i.map(e=>{const t=No(n,e);return Mo(e,t),zo({payload:t,requestOptions:r,bidderRequest:e})})},interpretResponse:function(e,{bidderRequest:r}){const i=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach(e=>{let o;try{o=e.bid[0]}catch(e){return i}let s=o.ext&&o.ext.encp?o.ext.encp:o.price,a={adId:(0,n.A)(o,"adId")?o.adId:o.impid||o.crid,requestId:o.impid,cpm:s,width:o.w,height:o.h,creativeId:o.crid||0,currency:o.cur||xo,dealId:o.dealid?o.dealid:null,netRevenue:!0,ttl:$o(r),meta:{advertiserDomains:o.adomain}};const d=function(e){const t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?I.D4:-1!==t.indexOf("VAST")?I.G_:void 0}(o);d===I.D4?(a.mediaType=I.D4,a.ad=o.adm,a.meta.mediaType=I.D4):d===I.G_&&(a.mediaType=I.G_,a.meta.mediaType=I.G_,a.vastXml=o.adm,o.nurl&&(a.vastUrl=o.nurl)),"outstream"!==(0,n.A)(r,"mediaTypes.video.context")||r.renderer||(a.renderer=function(e){const r=Kt.A4.install({url:"https://s.yimg.com/kp/prebid-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender(function(t){setTimeout(function(){o2PlayerRender(t)},(0,n.A)(e,"params.testing.renderer.setTimeout")||700)})}catch(e){(0,t.JE)("Renderer error: setRender() failed",e)}return r}(r)||void 0),i.push(a)}),i):i},getUserSyncs:function(e,n,r,i,o){const s=!(0,t.Im)(n)&&n[0].body;if(s&&s.ext&&s.ext.pixels){const t=function(e,t){let n=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,r=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,o=[];if(t){let s=t.match(n);s&&s.forEach(t=>{let n=t.match(r)[0],s=t.match(i)[2];if(n&&s){let t="img"===n.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===t||!e.pixelEnabled&&"image"===t)return;o.push({type:t,url:s})}})}return o}(e,s.ext.pixels);return t.forEach(e=>{e.url=function(e,t){const n={gdpr_consent:t.gdpr?t.gdpr.consentString:"",gdpr:t.gdpr&&t.gdpr.gdprApplies?"1":"0",us_privacy:t.uspConsent?t.uspConsent:"",gpp:t.gpp?t.gpp.gppString:"",gpp_sid:t.gpp&&Array.isArray(t.gpp.applicableSections)?t.gpp.applicableSections.join(","):""},r=new URL(e),i=r.searchParams;for(const[e,t]of Object.entries(n))i.set(e,t);return r.search=i.toString(),r.toString()}(e.url,{gpp:o,gdpr:r,uspConsent:i})}),t}return[]}};function Lo(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(Wo),(0,e.E)("yahoosspBidAdapter");const Fo="triplelift";let Ho=null,Jo=null;const Ko=(0,Z.vM)({bidderCode:Fo}),Qo={gvlid:28,code:Fo,supportedMediaTypes:[I.D4,I.G_],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,r){let i="https://tlx.3lift.com/header/auction?",o=function(e,r){let i={},{schain:o}=e[0];const s=function(e){const n={},r={},i={},o=e.ortb2||{},s=function(){const e=Ko.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,t.vV)("Triplelift: error parsing JSON: ",e),null}}(),a=Object.assign({},o.site),d=Object.assign({},o.user);if(s){d.data=d.data||[];try{d.data.push({name:"www.1plusx.com",ext:s})}catch(e){(0,t.vV)("Triplelift: error adding 1plusX segments: ",e)}}return ts(r,a),ts(i,d),(0,t.Im)(r)||(n.context=r),(0,t.Im)(i)||(n.user=i),n}(r);i.imp=e.map(function(e,n){let r={id:n,tagid:e.params.inventoryCode,floor:es(e)};return Xo(e)&&(r.video=function(e){let n=Go(Go({},e.params.video),e.mediaTypes.video);try{n.w||(n.w=n.playerSize[0][0]),n.h||(n.h=n.playerSize[0][1])}catch(e){(0,t.JE)("Video size not defined",e)}return n.playbackmethod&&Number.isInteger(n.playbackmethod)&&(n.playbackmethod=Array.from(String(n.playbackmethod),Number)),delete n.playerSize,n}(e)),e.mediaTypes.banner&&!Yo(e)&&(r.banner={format:(i=e.sizes,i.filter(ns).map(function(e){return{w:e[0],h:e[1]}}))}),(0,t.Im)(e.ortb2Imp)||(r.fpd=function(e){const n={},r={};return ts(r,e.ext),(0,t.Im)(r)||(n.context=r),n}(e.ortb2Imp),(0,t.Im)(e.ortb2Imp.ext)||(r.ext=Go({},e.ortb2Imp.ext))),r;var i});let a=[];e[0].userIdAsEids&&(a=n.A(e[0],"userIdAsEids"),i.user={ext:{eids:a}});let d=function(e,n){let r={};return(0,t.Im)(e)||(r.schain=Go({},e)),(0,t.Im)(n)||(r.fpd=Go({},n)),r}(o,s);return(0,t.Im)(d)||(i.ext=d),r?.ortb2?.regs?.gpp&&(i.regs=Object.assign({},r.ortb2.regs)),r?.ortb2&&(i.ext.ortb2=Object.assign({},r.ortb2)),i}(e,r);return i=Lo(i,"lib","prebid"),i=Lo(i,"v","8.52.2"),r&&r.refererInfo&&(i=Lo(i,"referrer",r.refererInfo.page)),r&&r.timeout&&(i=Lo(i,"tmax",r.timeout)),r&&r.gdprConsent&&(Ho=void 0===r.gdprConsent.gdprApplies||r.gdprConsent.gdprApplies,i=Lo(i,"gdpr",Ho.toString()),void 0!==r.gdprConsent.consentString&&(Jo=r.gdprConsent.consentString,i=Lo(i,"cmp_cs",Jo))),r&&r.uspConsent&&(i=Lo(i,"us_privacy",r.uspConsent)),r&&r.fledgeEnabled&&(i=Lo(i,"fledge",r.fledgeEnabled)),!0===v.$W.getConfig("coppa")&&(i=Lo(i,"coppa",!0)),i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),(0,t.OG)("tlCall request built: "+i),{method:"POST",url:i,data:o,bidderRequest:r}},interpretResponse:function(e,{bidderRequest:n}){let r=e.body.bids||[];const i=e.body.paapi||[];if(r=r.map(e=>function(e,t){let n={},r=t.width||1,i=t.height||1,o=t.deal_id||"",s=t.crid||"",a=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(n={requestId:a.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:s,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},Xo(a)&&"video"===t.media_type&&(n.vastXml=t.ad,n.mediaType="video",n.ttl=3600),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(Xo(a)&&"video"===t.media_type?n.meta.mediaType="video":n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native"),s&&(n.meta.networkId=s.slice(0,s.indexOf("_")))),n}(n,e)),i.length>0){const e=i.map(e=>({bidId:n.bids[e.imp_id].bidId,config:e.auctionConfig}));return(0,t.OG)("Response with FLEDGE:",{bids:r,fledgeAuctionConfigs:e}),{bids:r,fledgeAuctionConfigs:e}}return r},getUserSyncs:function(e,t,n,r,i){let o=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(!o)return;let s="https://eb2.3lift.com/sync?";return"image"===o&&(s=Lo(s,"px",1),s=Lo(s,"src","prebid")),(null!==Jo||Ho)&&(s=Lo(s,"gdpr",Ho),s=Lo(s,"cmp_cs",Jo)),r&&(s=Lo(s,"us_privacy",r)),i&&(i.gppString&&(s=Lo(s,"gpp",i.gppString)),i.applicableSections&&0!==i.applicableSections.length&&(s=Lo(s,"gpp_sid",i.applicableSections.filter(e=>Number.isInteger(e)).join(",")))),[{type:o,url:s}]}};function Xo(e){return Zo(e)&&(Yo(e)||function(e){return Zo(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function Yo(e){return Zo(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function Zo(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function es(e){let n=null;if("function"==typeof e.getFloor)try{const t=e.getFloor({currency:"USD",mediaType:Xo(e)?"video":"banner",size:"*"});"object"!=typeof t||"USD"!==t.currency||isNaN(parseFloat(t.floor))||(n=parseFloat(t.floor))}catch(e){(0,t.vV)("Triplelift: getFloor threw an error: ",e)}return null!==n?n:e.params.floor}function ts(e,n){(0,t.Im)(n)||Object.keys(n).forEach(t=>{null!=n[t]&&(e[t]=n[t])})}function ns(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,Qt.a$)(Qo),(0,e.E)("tripleliftBidAdapter");const rs=new Map;function is(e){const n={};function r(e){const t=JSON.stringify([e.source?.toLowerCase(),e.ext]);n.hasOwnProperty(t)?n[t].uids.push(...e.uids):n[t]=e}return Object.entries(e).forEach(([e,n])=>{n=Array.isArray(n)?n:[n],("pubProvidedId"===e?(0,t.Go)(n):n.map(n=>function(e,n){const r=rs.get(n);if(r&&e){let n={};n.source=(0,t.fp)(r.getSource)?r.getSource(e):r.source;const i=(0,t.fp)(r.getValue)?r.getValue(e):e;if((0,t.O8)(i)){const o={id:i,atype:r.atype};if((0,t.fp)(r.getUidExt)){const t=r.getUidExt(e);t&&(o.ext=t)}if(n.uids=[o],(0,t.fp)(r.getEidExt)){const t=r.getEidExt(e);t&&(n.ext=t)}return n}}return null}(n,e))).filter(e=>null!=e).forEach(r)}),Object.values(n)}const os=(0,w.A_)("sync",()=>{}),ss="User ID",as=Z.X0,ds=Z.qk,cs="_pbjs_id_optout",us=(0,Z.CK)("userId"),ps={isAllowed:me.io};let ls,fs,ms,gs,bs,hs=!1,ys=[],vs=[],_s={},Is=[];const ws=(()=>{let e;return()=>(null==e&&(e=(0,ne.K7)()),e)})();function As(e){return ws().fork().renameWith(t=>[`userId.mod.${t}`,`userId.mods.${e}.${t}`])}function Os(e,t){t=t||e.storageMgr;const n="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,r=e.config.storage.name;return function(e,i,o){t.setCookie(r+(e||""),i,o,"Lax",n)}}function Es(e,n){const r=e.config.storage;try{const i=new Date(Date.now()+864e5*r.expires).toUTCString(),o=(0,t.Qd)(n)?JSON.stringify(n):n;e.enabledStorageTypes.forEach(t=>{switch(t){case as:!function(e,t,n){const r=e.config.storage,i=Os(e);i(null,t,n),i("_cst",Ls(),n),"number"==typeof r.refreshInSeconds&&i("_last",(new Date).toUTCString(),n)}(e,o,i);break;case ds:!function(e,t,n){const r=e.config.storage,i=e.storageMgr;i.setDataInLocalStorage(`${r.name}_exp`,n),i.setDataInLocalStorage(`${r.name}_cst`,Ls()),i.setDataInLocalStorage(r.name,encodeURIComponent(t)),"number"==typeof r.refreshInSeconds&&i.setDataInLocalStorage(`${r.name}_last`,(new Date).toUTCString())}(e,o,i)}})}catch(e){(0,t.vV)(e)}}function xs(e,n=void 0){const r=e.config.storage,i=n?`${r.name}_${n}`:r.name;let o;try{e.enabledStorageTypes.find(t=>{switch(t){case as:o=function(e,t){return e.storageMgr.getCookie(t)}(e,i);break;case ds:o=function(e,t){const n=e.storageMgr,r=e.config.storage,i=n.getDataFromLocalStorage(`${r.name}_exp`);return""===i?n.getDataFromLocalStorage(t):i&&new Date(i).getTime()-Date.now()>0?decodeURIComponent(n.getDataFromLocalStorage(t)):void 0}(e,i)}return!!o}),"string"==typeof o&&"{"===o.trim().charAt(0)&&(o=JSON.parse(o))}catch(e){(0,t.vV)(e)}return o}function Ts(e,n,r){n=ws().fork().startTiming("userId.callbacks.total").stopBefore(n);const i=(0,t.U6)(()=>{clearTimeout(void 0),n()},e.length);e.forEach(function(e){const n=As(e.submodule.name).startTiming("callback").stopBefore(i);try{e.callback(function(i){i?(e.config.storage&&Es(e,i),e.idObj=e.submodule.decode(i,e.config),Vs(Cs(r))):(0,t.fH)(`${ss}: ${e.submodule.name} - request id responded with an empty value`),n()},xs.bind(null,e))}catch(r){(0,t.vV)(`Error in userID module '${e.submodule.name}':`,r),n()}e.callback=void 0})}function Cs(e){return Array.isArray(e)&&e.length?ks(e):{}}function Ss(e,n,r){return Object.fromEntries(Object.entries(e.reduce((e,i)=>{const o=n(i);return o&&Object.keys(o).forEach(n=>{const s=_s[n]?.indexOf(r(i)),a={priority:(0,t.Et)(s)?s:-1,value:o[n]};if(e[n]){const t=a.priority>e[n].priority?a:e[n];e[n]=t}else e[n]=a}),e},{})).map(([e,t])=>[e,t.value]))}function ks(e){return Ss(e.filter(e=>(0,t.Qd)(e.idObj)&&Object.keys(e.idObj).length),e=>e.idObj,e=>e.submodule.name)}const Ds={};let Rs;function js(e=Us()||[]){const r=gs&&e.find(e=>e.source===gs);if(r&&"string"==typeof(0,n.A)(r,"uids.0.id")){const e=r.uids[0].id.replace(/[\W_]/g,"");if(e.length>=32&&e.length<=150)return e;(0,t.JE)(`User ID - Googletag Publisher Provided ID for ${gs} is not between 32 and 150 characters - ${e}`)}}const Ps=(0,ne.Ak)("userId",function(n,r,{delay:i=H.k.timeout,getIds:o=Ws}={}){H.k.race([o().catch(()=>null),i(ms)]).then(()=>{(function(e,n){[e].some(e=>!Array.isArray(e)||!e.length)||e.forEach(e=>{e.bids&&(0,t.cy)(e.bids)&&e.bids.forEach(e=>{const r=function(e,n){return Array.isArray(e)&&e.length&&n?ks(e.filter(e=>!e.config.bidders||!(0,t.cy)(e.config.bidders)||(0,a.mK)(e.config.bidders,n))):{}}(n,e.bidder);Object.keys(r).length&&(e.userId=r,e.userIdAsEids=is(r))})})})(r.adUnits||(0,e.m)().adUnits,ls),ws().join((0,ne.BO)(r.metrics),{propagate:!1,includeGroups:!0}),n.call(this,r)})});function Bs(){return Cs(ls)}function Us(){return is(Bs())}function $s(e){return is(function(e,n){if(!Array.isArray(e)||!e.length)return{};const r=ks(e),i=Object.keys(r).find(e=>{const r=rs.get(e);return r?.source===n||(0,t.fp)(r?.getSource)&&r.getSource()===n});return i?{[i]:r[i]}:[]}(ls,e))[0]}function qs(e,n,r){return Rs().then(()=>{let i={};if((0,t.fp)(r)){(0,t.fH)(`${ss} - Getting encrypted signal from custom function : ${r.name} & source : ${e} `);const n=r(e);i[e]=n?Ns(n):null}else{const r=$s(e);(0,t.fH)(`${ss} - Getting encrypted signal for eids :${JSON.stringify(r)}`),(0,t.Im)(r)||(i[r.source]=!0===n?Ns(r):r.uids[0].id)}return(0,t.fH)(`${ss} - Fetching encrypted eids: ${i[e]}`),i[e]})}function Ns(e,t=1){let n="";return 1===t&&(n="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e)),`${t}||${n}`}function Ms(){if(!(0,t.II)())return;window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];const e=v.$W.getConfig("userSync.encryptedSignalSources");if(e){const t=e.registerDelay||0;setTimeout(()=>{e.sources&&e.sources.forEach(({source:e,encrypt:t,customFunc:n})=>{e.forEach(e=>{window.googletag.secureSignalProviders.push({id:e,collectorFunction:()=>qs(e,t,n)})})})},t)}else(0,t.JE)(`${ss} - ESP : encryptedSignalSources config not defined under userSync Object`)}function zs({submoduleNames:e}={},n){return Rs({refresh:!0,submoduleNames:e}).then(()=>(n&&(0,t.fp)(n)&&n(),Bs()))}function Ws(){return Rs().then(()=>Bs(),e=>e===Ds?Promise.resolve().then(Ws):((0,t.vV)("Error initializing userId",e),H.k.reject(e)))}function Ls(){let e=Number(xe.SL.hash);const t=[];for(;e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}function Vs(e=Bs()){if(e&&gs){const n=js(is(e));n&&((0,t.II)()?window.googletag.pubads().setPublisherProvidedId(n):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setPublisherProvidedId(n)})))}}function Gs(e,r,i=!1){return ws().fork().measureTime("userId.init.modules",function(){if(!r.length)return[];if(r.forEach(e=>Ks(e)),!(r=r.filter(e=>(!e.config.storage||!!e.enabledStorageTypes.length)&&ps.isAllowed(be.yl,(0,ge.s)(he.fW,e.config.name)))).length)return(0,t.JE)(`${ss} - no ID module configured`),[];const o=r.reduce((e,n)=>As(n.submodule.name).measureTime("init",()=>{try{(function(e,n,r){const i=xe.mW.getConsentData();if(e.config.storage){let r,o=xs(e),s=!1;if("number"==typeof e.config.storage.refreshInSeconds){const t=new Date(xs(e,"last"));s=t&&Date.now()-t.getTime()>1e3*e.config.storage.refreshInSeconds}if(!o||s||n||function(e){const t=xs(e,"cst");return!t||t!==Ls()}(e)){const t=Object.assign({enabledStorageTypes:e.enabledStorageTypes},e.config);r=e.submodule.getId(t,i,o)}else"function"==typeof e.submodule.extendId&&(r=e.submodule.extendId(e.config,i,o));(0,t.Qd)(r)&&(r.id&&(Es(e,r.id),o=r.id),"function"==typeof r.callback&&(e.callback=r.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{const n=e.submodule.getId(e.config,i,void 0);(0,t.Qd)(n)&&("function"==typeof n.callback&&(e.callback=n.callback),n.id&&(e.idObj=e.submodule.decode(n.id,e.config)))}Vs(Cs(r))})(n,i,r),e.push(n)}catch(e){(0,t.vV)(`Error in userID module '${n.submodule.name}':`,e)}return e}),[]);return o.length&&function(e){let r=(0,t.YI)().setEidPermissions;"function"==typeof r&&(0,t.cy)(e)&&r(function(e){let r=[];return e.filter(e=>(0,t.Qd)(e.idObj)&&Object.keys(e.idObj).length).forEach(e=>{Object.keys(e.idObj).forEach(t=>{const i=rs.get(t)||{};(0,n.A)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&i.source&&r.push({source:i.source,bidders:e.config.bidders})})}),r}(e))}(o),o.forEach(Fs.bind(null,e)),o})}function Fs(e,t){let n=!1;for(let r=0;r<e.length;r++)if(t.config.name.toLowerCase()===e[r].config.name.toLowerCase()){n=!0,e[r]=t;break}n||e.push(t)}function Hs(e){return e?.storage?.type?.trim().split(/\s*&\s*/)||[]}const Js=new Set([ds,as]);function Ks(e){if(e.enabledStorageTypes)return;const n=Hs(e.config);e.enabledStorageTypes=n.filter(n=>{switch(n){case ds:return function(e){return!(!e.storageMgr.localStorageIsEnabled()||us.getDataFromLocalStorage(cs)&&((0,t.fH)(`${ss} - opt-out localStorage found, storage disabled`),1))}(e);case as:return function(e){return!(!e.storageMgr.cookiesAreEnabled()||us.getCookie(cs)&&((0,t.fH)(`${ss} - opt-out cookie found, storage disabled`),1))}(e)}return!1})}function Qs(){!function(e){rs.clear(),Object.entries(Ss(e,e=>e.eids,e=>e.name)).forEach(([e,t])=>rs.set(e,t))}(Is);const n=function(e){return Array.isArray(e)?e.reduce((e,n)=>(!n||(0,t.xQ)(n.name)||(n.storage&&!(0,t.xQ)(n.storage.type)&&!(0,t.xQ)(n.storage.name)&&function(e){return Hs(e).every(e=>Js.has(e))}(n)||(0,t.Qd)(n.value)?e.push(n):n.storage||n.value||e.push(n)),e),[]):[]}(vs);if(!n.length)return;const r=Is.filter(e=>!(0,a.I6)(ys,t=>t.name===e.name));ys.splice(0,ys.length),r.map(e=>{const t=(0,a.I6)(n,t=>t.name&&(t.name.toLowerCase()===e.name.toLowerCase()||e.aliasName&&t.name.toLowerCase()===e.aliasName.toLowerCase()));return t&&e.name!==t.name&&(t.name=e.name),t?{submodule:e,config:t,callback:void 0,idObj:void 0,storageMgr:(0,Z.vM)({moduleType:he.fW,moduleName:t.name})}:null}).filter(e=>null!==e).forEach(e=>ys.push(e)),!hs&&ys.length&&((0,e.m)().requestBids.before(Ps,40),ee.Ay.callDataDeletionRequest.before(Xs),os.after(e=>e(js())),(0,t.fH)(`${ss} - usersync config updated for ${ys.length} submodules: `,ys.map(e=>e.submodule.name)),hs=!0)}function Xs(e,...n){(0,t.fH)("UserID: received data deletion request; deleting all stored IDs..."),ys.forEach(e=>{if("function"==typeof e.submodule.onDataDeletionRequest)try{e.submodule.onDataDeletionRequest(e.config,e.idObj,...n)}catch(n){(0,t.vV)(`Error calling onDataDeletionRequest for ID submodule ${e.submodule.name}`,n)}!function(e){Ks(e),e.enabledStorageTypes.forEach(n=>{switch(n){case as:!function(e){const n=Os(e,us),r=new Date(Date.now()-864e5).toUTCString();["","_last","_cst"].forEach(e=>{try{n(e,"",r)}catch(e){(0,t.vV)(e)}})}(e);break;case ds:!function(e){["","_last","_exp","_cst"].forEach(n=>{try{us.removeDataFromLocalStorage(e.config.storage.name+n)}catch(e){(0,t.vV)(e)}})}(e)}})}(e)}),e.apply(this,n)}function Ys(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(n,{delay:r=H.k.timeout}={}){gs=void 0,ys=[],vs=[],hs=!1,ls=[],Rs=function({delay:e=H.k.timeout}={}){const n=(0,H.v)(),r=(0,H.v)();let i,o,a=!1;function d(e){return o=ws().fork(),null!=i&&i.reject(Ds),i=(0,H.v)(),H.k.race([e,i.promise]).finally(o.startTiming("userId.total"))}let c=ls,u=ys;function p(e){return function(...t){if(c===ls&&u===ys)return e(...t)}}function l(){return xe.SL.promise.finally(o.startTiming("userId.init.consent"))}let f=d(H.k.all([w.Gc,n.promise]).then(l).then(p(()=>{Gs(c,u)})).then(()=>r.promise.finally(o.startTiming("userId.callbacks.pending"))).then(p(()=>{const e=c.filter(e=>(0,t.fp)(e.callback));if(e.length)return new H.k(t=>Ts(e,t,c))})));return function({refresh:t=!1,submoduleNames:i=null,ready:o=!1}={}){return o&&!a&&(a=!0,n.resolve(),ms>0?r.resolve():te.on(s.qY.AUCTION_END,function t(){te.AU(s.qY.AUCTION_END,t),e(fs).then(r.resolve)})),t&&a&&(f=d(f.catch(()=>null).then(l).then(p(()=>{const e=Gs(c,u.filter(e=>null==i||i.includes(e.submodule.name)),!0).filter(e=>null!=e.callback);if(e.length)return new H.k(t=>Ts(e,t,c))})))),f}}({delay:r}),null!=bs&&bs(),Is=[],bs=n.getConfig("userSync",e=>{const n=e.userSync;n&&(gs=n.ppid,n.userIds&&(vs=n.userIds,fs=(0,t.Et)(n.syncDelay)?n.syncDelay:500,ms=(0,t.Et)(n.auctionDelay)?n.auctionDelay:0,Qs(),function(e,n){if(e){const r={},i=new Map(n.map(e=>e.submodule.aliasName?[e.submodule.aliasName,e.submodule.name]:[]));Object.keys(e).forEach(n=>{const o=(0,t.cy)(e[n])?[...e[n]].reverse():[];r[n]=o.map(e=>i.has(e)?i.get(e):e)}),_s=r}else _s={}}(n.idPriority,ys),Rs({ready:!0})))}),(0,e.m)().getUserIds=Bs,(0,e.m)().getUserIdsAsEids=Us,(0,e.m)().getEncryptedEidsForSource=Ys(qs),(0,e.m)().registerSignalSources=Ms,(0,e.m)().refreshUserIds=Ys(zs),(0,e.m)().getUserIdsAsync=Ys(Ws),(0,e.m)().getUserIdsAsEidBySource=$s}(v.$W),(0,w.xG)("userId",function(e){e.findRootDomain=oe,(0,a.I6)(Is,t=>t.name===e.name)||(Is.push(e),xe.o2.register(he.fW,e.name,e.gvlid),Qs(),Rs({refresh:!0,submoduleNames:[e.name]}))},{postInstallAllowed:!0}),rt({type:Qe,name:"userExtEids",fn:function(e,t,i){const o=(0,n.A)(i,"bidRequests.0.userIdAsEids");o&&Object.keys(o).length>0&&r(e,"user.ext.eids",o)}}),(0,e.E)("userId");const Zs=(0,Z.vM)({moduleType:he.fW,moduleName:"sharedId"}),ea="cookie",ta="html5",na="_pubcid_optout",ra="PublisherCommonId";function ia(e,t){if(t===ea)return Zs.getCookie(e);if(t===ta&&Zs.hasLocalStorage()){const t=Zs.getDataFromLocalStorage(`${e}_exp`);if(!t)return Zs.getDataFromLocalStorage(e);if(new Date(t).getTime()-Date.now()>0)return Zs.getDataFromLocalStorage(e)}}function oa(e,t){return function(n,r){t?sa(t,e,()=>{n(r()||e)})():n(e)}}function sa(e,n="",r){if(!e)return;const i=(0,t.Dl)(e);i.search.id=encodeURIComponent("pubcid:"+n);const o=(0,t.c$)(i);return function(){(0,t.z$)(o,r)}}function aa(){return!!(Zs.cookiesAreEnabled()&&ia(na,ea)||Zs.hasLocalStorage()&&ia(na,ta))}const da={name:"sharedId",aliasName:"pubCommonId",gvlid:xe.B1,decode(e,n){if(!aa())return(0,t.fH)(" Decoded value PubCommonId "+e),{pubcid:e};(0,t.fH)("PubCommonId decode: Has opted-out")},getId:function(e={},n,r){if(aa())return void(0,t.fH)("PubCommonId: Has opted-out");if(xe.et.getCoppa())return void(0,t.fH)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");const{params:{create:i=!0,pixelUrl:o}={}}=e;let s=r;if(!s){try{"object"==typeof window[ra]&&(s=window[ra].getId())}catch(e){}s||(s=i&&(0,t.N9)()?(0,t.lk)():void 0)}return{id:s,callback:oa(s,o)}},extendId:function(e={},n,r){if(aa())return(0,t.fH)("PubCommonId: Has opted-out"),{id:void 0};if(xe.et.getCoppa())return void(0,t.fH)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");const{params:{extend:i=!1,pixelUrl:o}={}}=e;return i?o?{callback:sa(o,r)}:{id:r}:void 0},domainOverride:function(e){return function(){const t=document.domain.split("."),n=`_gd${Date.now()}_sharedId`;for(let r,i,o=0;o<t.length;o++){const s=t.slice(o).join(".");if(e.setCookie(n,"1",void 0,void 0,s),i=e.getCookie(n),e.setCookie(n,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,s),"1"!==i)return r;r=s}}}(Zs),eids:{pubcid:{source:"pubcid.org",atype:1}}};(0,w.bz)("userId",da),(0,e.E)("sharedIdSystem");var ca=__webpack_require__(330);function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function la(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const fa="id5id",ma=`${fa}_privacy`,ga="html5",ba="User ID - ID5 submodule: ",ha="id5-sync.com",ya=["pbjs-id5id","id5id.1st","id5id"],va=(0,Z.vM)({moduleType:he.fW,moduleName:"id5Id"}),_a={name:"id5Id",gvlid:131,decode(e,i){let o,s={};if(!e||"string"!=typeof e.universal_uid)return;o=e.universal_uid,s=e.ext||s;let a={id5id:{uid:o,ext:s}};switch((0,t.Qd)(s.euid)&&(a.euid={uid:s.euid.uids[0].id,source:s.euid.source,ext:{provider:ha}}),(0,n.A)(e,"ab_testing.result")){case"control":(0,t.fH)(ba+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),r(a,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,t.vV)(ba+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,t.fH)(ba+"A/B Testing - user is NOT in the Control Group"),r(a,"id5id.ext.abTestingControlGroup",!1)}return(0,t.fH)(ba+"Decoded ID",a),a},getId(e,n,r){if(Ra(e)){if($a(n))return{callback:function(i){new wa(e,n,r,xe.t6.getConsentData(),xe.ad.getConsentData()).execute().then(e=>{i(e)}).catch(e=>{(0,t.vV)(ba+"getId fetch encountered an error",e),i()})}};(0,t.fH)(ba+"Skipping ID5 local storage write because no consent given.")}},extendId:(e,n,r)=>$a(n)?(Ba(Ra(e)?e.params.partner:0),(0,t.fH)(ba+"using cached ID",r),r):((0,t.fH)(ba+"No consent given for ID5 local storage writing, skipping nb increment."),r),eids:{id5id:{getValue:function(e){return e.uid},source:ha,atype:1,getUidExt:function(e){if(e.ext)return e.ext}},euid:{getValue:function(e){return e.uid},getSource:function(e){return e.source},atype:3,getUidExt:function(e){if(e.ext)return e.ext}}}};var Ia=new WeakSet;class wa{constructor(e,t,n,r,i){var o;(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(this,o=Ia),o.add(this),this.submoduleConfig=e,this.gdprConsentData=t,this.cacheIdObj=n,this.usPrivacyData=r,this.gppData=i}async execute(){const e=la(Ia,this,Ta).call(this);if(!la(Ia,this,Aa).call(this))return la(Ia,this,xa).call(this,e);try{return await la(Ia,this,Oa).call(this,e)}catch(n){return(0,t.vV)(ba+"Error while performing ID5 external module flow. Continuing with regular flow.",n),la(Ia,this,xa).call(this,e)}}}function Aa(){return"string"==typeof this.submoduleConfig.params.externalModuleUrl}async function Oa(e){await async function(e){return new H.k((t,n)=>{if(window.id5Prebid)t();else try{(0,F.R)(e,"id5",t)}catch(e){n(e)}})}(this.submoduleConfig.params.externalModuleUrl);const t=await e;return la(Ia,this,Ea).call(this).fetchId5Id(t,this.submoduleConfig.params,(0,re.EN)(),this.gdprConsentData,this.usPrivacyData,this.gppData)}function Ea(){return window.id5Prebid&&window.id5Prebid.integration}async function xa(e){const t=await e,n=await la(Ia,this,Ca).call(this,t.extensionsCall),r=await la(Ia,this,Sa).call(this,t.fetchCall,n);return la(Ia,this,Da).call(this,r)}async function Ta(){let e=this.submoduleConfig.params.configUrl||"https://id5-sync.com/api/config/prebid";const n=await(0,ca.hd)(e,{method:"POST",body:JSON.stringify(pa(pa({},this.submoduleConfig),{},{bounce:!0})),credentials:"include"});if(!n.ok)throw new Error("Error while calling config endpoint: ",n);const r=await n.json();return(0,t.fH)(ba+"config response received from the server",r),r}async function Ca(e){if(void 0===e)return;const n=e.url,r=e.method||"GET",i="GET"===r?void 0:JSON.stringify(e.body||{}),o=await(0,ca.hd)(n,{method:r,body:i});if(!o.ok)throw new Error("Error while calling extensions endpoint: ",o);const s=await o.json();return(0,t.fH)(ba+"extensions response received from the server",s),s}async function Sa(e,n){const r=e.url,i=e.overrides||{},o=JSON.stringify(pa(pa(pa({},la(Ia,this,ka).call(this)),i),{},{extensions:n})),s=await(0,ca.hd)(r,{method:"POST",body:o,credentials:"include"});if(!s.ok)throw new Error("Error while calling fetch endpoint: ",s);const a=await s.json();return(0,t.fH)(ba+"fetch response received from the server",a),a}function ka(){const e=this.submoduleConfig.params,n=this.gdprConsentData&&"boolean"==typeof this.gdprConsentData.gdprApplies&&this.gdprConsentData.gdprApplies?1:0,r=(0,re.EN)(),i=this.cacheIdObj&&this.cacheIdObj.signature?this.cacheIdObj.signature:function(){let e;return ya.forEach(function(n){va.getCookie(n)&&(e=(0,t.$l)(va.getCookie(n))||e)}),e&&e.signature||""}(),o=function(e){const t=Ba(e);return Pa(e,0),t}(e.partner),s={partner:e.partner,gdpr:n,nbPage:o,o:"pbjs",tml:r.topmostLocation,ref:r.ref,cu:r.canonicalUrl,top:r.reachedTop?1:0,u:r.stack[0]||window.location.href,v:"8.52.2",storage:this.submoduleConfig.storage,localStorage:va.localStorageIsEnabled()?1:0};!n||void 0===this.gdprConsentData.consentString||(0,t.Im)(this.gdprConsentData.consentString)||(0,t.xQ)(this.gdprConsentData.consentString)||(s.gdpr_consent=this.gdprConsentData.consentString),void 0===this.usPrivacyData||(0,t.Im)(this.usPrivacyData)||(0,t.xQ)(this.usPrivacyData)||(s.us_privacy=this.usPrivacyData),this.gppData&&(s.gpp_string=this.gppData.gppString,s.gpp_sid=this.gppData.applicableSections),void 0===i||(0,t.xQ)(i)||(s.s=i),void 0===e.pd||(0,t.xQ)(e.pd)||(s.pd=e.pd),void 0===e.provider||(0,t.xQ)(e.provider)||(s.provider=e.provider);const a=e.abTesting||{enabled:!1};return a.enabled&&(s.ab_testing={enabled:!0,control_group_pct:a.controlGroupPct}),s}function Da(e){try{e.privacy&&Ua(ma,JSON.stringify(e.privacy),30)}catch(e){(0,t.vV)(ba+"Error while writing privacy info into local storage.",e)}return e}function Ra(e){if(!e||!e.params||!e.params.partner)return(0,t.vV)(ba+"partner required to be defined"),!1;const n=e.params.partner;if("string"==typeof n||n instanceof String){let r=parseInt(n);if(isNaN(r)||r<0)return(0,t.vV)(ba+"partner required to be a number or a String parsable to a positive integer"),!1;e.params.partner=r}else if("number"!=typeof n)return(0,t.vV)(ba+"partner required to be a number or a String parsable to a positive integer"),!1;return e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==ga&&(0,t.JE)(ba+`storage type recommended to be '${ga}'. In a future release this may become a strict requirement`),e.storage.name!==fa&&(0,t.JE)(ba+`storage name recommended to be '${fa}'. In a future release this may become a strict requirement`),!0):((0,t.vV)(ba+"storage required to be set"),!1)}function ja(e){return`${fa}_${e}_nb`}function Pa(e,t){Ua(ja(e),t,30)}function Ba(e){const t=function(e){let t=function(e){const t=va.getDataFromLocalStorage(`${e}_exp`);return""===t||t&&new Date(t).getTime()-Date.now()>0?va.getDataFromLocalStorage(e):(va.removeDataFromLocalStorage(e),null)}(ja(e));return t?parseInt(t):0}(e)+1;return Pa(e,t),t}function Ua(e,t,n){va.setDataInLocalStorage(`${e}_exp`,function(e){return new Date(Date.now()+864e5*e).toUTCString()}(n)),va.setDataInLocalStorage(`${e}`,t)}function $a(e){const t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies,r=(0,n.A)(e,"vendorData.purpose.consents.1"),i=(0,n.A)(e,`vendorData.vendor.consents.${131..toString()}`);return!!(!t||r&&i)}(0,w.bz)("userId",_a),(0,e.E)("id5IdSystem");const qa="identityLink",Na=(0,Z.vM)({moduleType:he.fW,moduleName:qa}),Ma="_lr_env",za={name:qa,gvlid:97,decode:e=>({idl_env:e}),getId(e,n){const r=e&&e.params||{};if(!r||"string"!=typeof r.pid)return void t.vV("identityLink: requires partner id to be defined");const i=n&&"boolean"==typeof n.gdprApplies&&n.gdprApplies?1:0,o=i?n.consentString:"";if(i&&(!o||""===o))return void t.fH("identityLink: Consent string is required to call envelope API.");const s=xe.ad.getConsentData(),a=!(!s||!s.gppString)&&s.gppString,d=!!(s&&s.gppString&&s.applicableSections.length>0&&-1!==s.applicableSections[0])&&s.applicableSections[0],c=a&&d,u=`https://api.rlcdn.com/api/identity/envelope?pid=${r.pid}${i?"&ct=4&cv="+o:""}${c?"&gpp="+a+"&gpp_sid="+d:""}`;let p;return p=function(e){if(window.ats&&window.ats.retrieveEnvelope)t.fH("identityLink: ATS exists!"),window.ats.retrieveEnvelope(function(n){n?(t.fH("identityLink: An envelope can be retrieved from ATS!"),La(!0),e(JSON.parse(n).envelope)):Wa(u,e,r)});else{let n=function(){let e=Na.getCookie(Ma)||Na.getDataFromLocalStorage(Ma);return e?window.atob(e):void 0}();n?(t.fH("identityLink: LiveRamp envelope successfully retrieved from storage!"),e(JSON.parse(n).envelope)):Wa(u,e,r)}},{callback:p}},eids:{idl_env:{source:"liveramp.com",atype:3}}};function Wa(e,n,r){const i={success:e=>{let r;if(e)try{r=JSON.parse(e)}catch(e){t.fH(e)}n(r&&r.envelope?r.envelope:"")},error:e=>{t.fH("identityLink: identityLink: ID fetch encountered an error",e),n()}};r.notUse3P||Na.getCookie("_lr_retry_request")||(function(){let e=new Date;e.setTime(e.getTime()+36e5),Na.setCookie("_lr_retry_request","true",e.toUTCString())}(),t.fH("identityLink: A 3P retrieval is attempted!"),La(!1),(0,ca.RD)(e,i,void 0,{method:"GET",withCredentials:!0}))}function La(e){let t=new Date;t.setTime(t.getTime()+2592e6),Na.setCookie("_lr_env_src_ats",e,t.toUTCString())}(0,w.bz)("userId",za),(0,e.E)("identityLinkIdSystem");const Va={code:"connectad",gvlid:138,aliases:["connectadrealtime"],supportedMediaTypes:[I.D4],isBidRequestValid:function(e){return!(!e.params.networkId||!e.params.siteId)},buildRequests:function(e,t){let n={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return n;const i=Object.assign({placements:[],time:Date.now(),user:{},url:t.refererInfo?.page||window.location.href,referrer:t.refererInfo?.ref,referrer_info:t.refererInfo?.legacy,screensize:[window.screen.width,window.screen.height].join("x"),dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,language:navigator.language,ua:navigator.userAgent,pversion:"8.52.2"});if(!0===v.$W.getConfig("coppa")&&r(i,"user.coppa",1),e[0].schain&&r(i,"source.ext.schain",e[0].schain),t.gdprConsent){let e;"boolean"==typeof t.gdprConsent.gdprApplies&&(e=t.gdprConsent.gdprApplies?1:0),r(i,"user.ext.gdpr",e),r(i,"user.ext.consent",t.gdprConsent.consentString)}return t.uspConsent&&r(i,"user.ext.us_privacy",t.uspConsent),e[0].userIdAsEids&&r(i,"user.ext.eids",e[0].userIdAsEids),e.map(e=>{const t=Object.assign({id:e.transactionId,divName:e.bidId,pisze:e.mediaTypes.banner.sizes[0]||e.sizes[0],sizes:e.mediaTypes.banner.sizes,adTypes:Ha(e.mediaTypes.banner.sizes||e.sizes),bidfloor:Fa(e),siteId:e.params.siteId,networkId:e.params.networkId});t.networkId&&t.siteId&&i.placements.push(t)}),n.data=JSON.stringify(i),n.bidRequest=e,n.url="https://i.connectad.io/api/v2",n},interpretResponse:function(e,t,n){let r,i,o,s,a=[];i=t.bidRequest,e=(e||{}).body;for(let t=0;t<i.length;t++)if(r={},s=i[t],o=s.bidId,e){const t=e.decisions&&e.decisions[o],n=t&&t.pricing&&t.pricing.clearPrice;t&&n&&(r.requestId=o,r.cpm=n,r.width=t.width,r.height=t.height,r.dealid=t.dealid||null,r.meta={advertiserDomains:t&&t.adomain?t.adomain:[]},r.ad=Ja(t),r.currency="USD",r.creativeId=t.adId,r.ttl=360,r.netRevenue=!0,a.push(r))}return a},transformBidParams:function(e,t){return cn({siteId:"number",networkId:"number"},e)},getUserSyncs:function(e,n,r,i){let o="https://cdn.connectad.io/connectmyusers.php?";if(r&&(o=Lo(o,"gdpr",r.gdprApplies?1:0)),r&&"string"==typeof r.consentString&&(o=Lo(o,"gdpr_consent",r.consentString)),i&&(o=Lo(o,"us_privacy",i)),!0===v.$W.getConfig("coppa")&&(o=Lo(o,"coppa",1)),e.iframeEnabled)return[{type:"iframe",url:o}];(0,t.JE)("Bidder ConnectAd: Please activate iFrame Sync")}},Ga=[null,"120x90","200x200","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250","980x120","980x150","320x150","300x300","200x600","320x500","320x320"];function Fa(e){let t={};return"function"==typeof e.getFloor&&(t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})),t.floor||e.params.bidfloor||e.params.floorprice||0}function Ha(e){const t=[];return e.forEach(function(e){const n=Ga.indexOf(e[0]+"x"+e[1]);n>=0&&t.push(n)}),t}function Ja(e){return e.contents&&e.contents[0]&&e.contents[0].body}function Ka(e){if(!e)return;let t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){let n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Ga[77]="970x90",Ga[123]="970x250",Ga[43]="300x600",Ga[286]="970x66",Ga[3230]="970x280",Ga[429]="486x60",Ga[374]="700x500",Ga[934]="300x1050",Ga[1578]="320x100",Ga[331]="320x250",Ga[3301]="320x267",Ga[2730]="728x250",(0,Qt.a$)(Va),(0,e.E)("connectadBidAdapter");const Ya="https://ms-cookie-sync.presage.io",Za="1.6.0";function ed(){const e=window.top.document.documentElement.clientWidth?window.top.document.documentElement.clientWidth:0,t=window.top.innerWidth?window.top.innerWidth:0,n=window.top.outerWidth?window.top.outerWidth:0,r=window.top.screen.width?window.top.screen.width:0;return e||t||n||r}function td(){const e=window.top.document.documentElement.clientHeight?window.top.document.documentElement.clientHeight:0,t=window.top.innerHeight?window.top.innerHeight:0,n=window.top.outerHeight?window.top.outerHeight:0,r=window.top.screen.height?window.top.screen.height:0;return e||t||n||r}function nd(e){if(!(0,t.fp)(e.getFloor))return 0;let n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"});return"USD"===n.currency?n.floor:0}function rd(){try{return(0,t.mb)()}catch(e){return(0,t.l4)()}}const id={code:"ogury",gvlid:31,supportedMediaTypes:[I.D4],isBidRequestValid:function(e){const t=Ka(e),n=Boolean(t)&&t.length>0,r=!!e.params.adUnitId,i=!!e.params.assetKey;return n&&r&&i},getUserSyncs:function(e,t,n,r){const i=n&&n.consentString||"";return e.iframeEnabled?[{type:"iframe",url:`${Ya}/user-sync.html?gdpr_consent=${i}&source=prebid`}]:e.pixelEnabled?[{type:"image",url:`${Ya}/v1/init-sync/bid-switch?iab_string=${i}&source=prebid`},{type:"image",url:`${Ya}/ttd/init-sync?iab_string=${i}&source=prebid`},{type:"image",url:`${Ya}/xandr/init-sync?iab_string=${i}&source=prebid`}]:[]},buildRequests:function(e,t){const n={id:t.bidderRequestId,tmax:Math.min(1e3,t.timeout),at:1,regs:{ext:{gdpr:t.gdprConsent&&t.gdprConsent.gdprApplies?1:0}},site:{domain:location.hostname,page:location.href},user:{ext:{consent:""}},imp:[],ext:{adapterversion:Za,prebidversion:"8.52.2"},device:{w:ed(),h:td(),pxratio:window.devicePixelRatio}};return t.gdprConsent&&t.gdprConsent.consentString&&(n.user.ext.consent=t.gdprConsent.consentString),e.forEach(e=>{const t=Ka(e).map(e=>({w:e[0],h:e[1]}));if(e.mediaTypes&&e.mediaTypes.hasOwnProperty("banner")){n.site.id=e.params.assetKey;const r=nd(e);e.userId&&(n.user.ext.uids=e.userId),e.userIdAsEids&&(n.user.ext.eids=e.userIdAsEids),n.imp.push(Xa(Xa({id:e.bidId,tagid:e.params.adUnitId},r&&{bidfloor:r}),{},{banner:{format:t},ext:Xa(Xa({},e.params),{},{timeSpentOnPage:document.timeline&&document.timeline.currentTime?document.timeline.currentTime:0})}))}}),{method:"POST",url:"https://mweb-hb.presage.io/api/header-bidding-request",data:n,options:{contentType:"application/json"}}},interpretResponse:function(e){if(!e||!e.body||"object"!=typeof e.body||0===Object.keys(e.body).length)return(0,t.JE)("no response or body is malformed"),[];const n=[];return e.body.seatbid.forEach(e=>{e.bid.forEach(e=>{let t={requestId:e.impid,cpm:e.price,currency:"USD",width:e.w,height:e.h,creativeId:e.id,netRevenue:!0,ttl:60,ext:e.ext,meta:{advertiserDomains:e.adomain},nurl:e.nurl,adapterVersion:Za,prebidVersion:"8.52.2"};t.ad=e.adm,n.push(t)})}),n},getFloor:nd,onBidWon:function(e){rd().OG_PREBID_BID_OBJECT=Xa({},e&&Xa({},e)),e&&e.nurl&&(0,ca.RD)(e.nurl,null)},getWindowContext:rd,onTimeout:function(e){(0,ca.RD)("https://ms-ads-monitoring-events.presage.io/bid_timeout",null,JSON.stringify(Xa(Xa({},e[0]),{},{location:window.location.href})),{method:"POST",contentType:"application/json"})}};(0,Qt.a$)(id),(0,e.E)("oguryBidAdapter");const od="medianet",sd="trustedstack";let ad=(0,re.EN)(),dd={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],dd.urlData={domain:ad.domain,page:ad.page,isTop:ad.reachedTop};const cd=[{code:sd,gvlid:1288}];function ud(){try{return window.top.document.referrer}catch(e){return document.referrer}}function pd(e,t){const n=t.refererInfo;let r={domain:(e=e||{}).domain||n.domain,page:e.page||n.page,ref:e.ref||ud(),topMostLocation:n.topmostLocation,isTop:e.isTop||n.reachedTop};return Object.assign(r,function(){if(dd.pageMeta)return dd.pageMeta;let e=ld('link[rel="canonical"]',"href"),t=ld('meta[property="og:url"]',"content"),n=ld('meta[name="twitter:url"]',"content");return dd.pageMeta=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),dd.pageMeta}())}function ld(e,n){let r=function(e,n){try{let r=(0,t.mb)().document.querySelector(e);if(null!==r&&r[n])return r[n]}catch(e){}}(e,n);return r&&function(e){let n=(0,t.mb)().document.createElement("a");return n.href=e,n.href}(r)}function fd(e,t){return e.filter(e=>e.type===t)}function md(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function gd(r,i){const o=(0,n.A)(r,"params"),s=(0,n.A)(i,"gdprConsent"),a=(0,n.A)(i,"uspConsent"),d=(0,n.A)(r,"userId"),c=(0,n.A)(r,"schain")||{},u=wd.getWindowSize(),p=!(!s||!s.gdprApplies),l=!!a,f=!!v.$W.getConfig("coppa");return Object.assign({},{customer_id:o.cid},{prebid_version:(0,e.m)().version},{gdpr_applies:p},p&&{gdpr_consent_string:s.consentString||""},{usp_applies:l},l&&{usp_consent_string:a||""},{coppa_applies:f},-1!==u.w&&-1!==u.h&&{screen:u},d&&{user_id:d},(0,e.m)().medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,t.Im)(c)&&{schain:c})}function bd(e,t,n,r){let i=e.getFloor({currency:"USD",mediaType:t,size:n});n.length>1&&(i.size=n),i.mediaType=t,r.push(i)}function hd(e){return e.reduce((e,t)=>t.h*t.w<e.h*e.w?t:e)}function yd(e,t){let n=t.w*t.h,r=wd.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0===n||-1===r.w||-1===r.h?0:(o=e,s=i,a={x:0,y:0},d={x:r.w,y:r.h},(o.x>d.x||s.x<a.x||o.y>d.y||s.y<a.y?0:(Math.min(s.x,d.x)-Math.max(o.x,a.x))*(Math.min(s.y,d.y)-Math.max(o.y,a.y)))/n);var o,s,a,d}function vd(r,i){i=(0,t.cy)(i)&&i||[];let o={logid:"kfk",evtid:"projectevents",project:"prebid"};return o.acid=(0,n.A)(i,"0.auctionId")||"",o.cid=(0,e.m)().medianetGlobals.cid||"",o.crid=i.map(e=>(0,n.A)(e,"params.0.crid")||e.adUnitCode).join("|"),o.adunit_count=i.length||0,o.dn=dd.urlData.domain||"",o.requrl=dd.urlData.page||"",o.istop=dd.urlData.isTop||"",o.event=r.name||"",o.value=r.value||"",o.rd=r.related_data||"",o}function _d(e,n){let r={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:vd(e,n)};(0,t.z$)((0,t.c$)(r))}function Id(e){const t=(0,n.A)(e,"context")||"",r=(0,n.A)(e,"vto");"outstream"==t&&r&&(e.renderer=function(){const e=Kt.A4.install({url:"https://prebid.media.net/video/bundle.js"});return e.setRender(function(e){window.mnet.queue.push(function(){const t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},n=e.dfp_id,r=Lr(n).divId||n;window.mnet.mediaNetoutstreamPlayer(e,r,t)})}),e}())}(0,e.m)().medianetGlobals=(0,e.m)().medianetGlobals||{};const wd={code:od,gvlid:142,aliases:cd,supportedMediaTypes:[I.D4,I.s6,I.G_],isBidRequestValid:function(n){return n.params?n.params.cid&&(0,t.O8)(n.params.cid)&&!(0,t.xQ)(n.params.cid)?(Object.assign((0,e.m)().medianetGlobals,!(0,e.m)().medianetGlobals.cid&&{cid:n.params.cid}),!0):((0,t.vV)(`${od} : cid should be a string`),!1):((0,t.vV)(`${od} : Missing bid parameters`),!1)},buildRequests:function(e,r){let i=function(e,r){return{site:pd(e[0].params.site,r),ext:gd(e[0],r),id:e[0].auctionId,imp:e.map(e=>function(e,r){let i={id:e.bidId,transactionId:e.ortb2Imp?.ext?.tid,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(i.ortb2Imp=e.ortb2Imp);let o=(0,n.A)(e,"mediaTypes.banner.sizes")||[];const s=(0,n.A)(e,"mediaTypes.video")||{},a=(0,n.A)(e,"params.video")||{},d=Object.assign({},a,s);var c;if((0,t.Im)(d)||(i.video=d),o.length>0&&(i.banner=(c=o,(0,t.cy)(c)&&2===c.length&&!(0,t.cy)(c[0])?[md(c)]:c.map(e=>md(e)))),e.nativeParams)try{i.native=JSON.stringify(e.nativeParams)}catch(e){(0,t.vV)(`${od} : Incorrect JSON : bidRequest.nativeParams`)}e.params.crid&&(i.tagid=e.params.crid.toString());let u=parseFloat(e.params.bidfloor||e.params.bidFloor);u&&(i.bidfloor=u);const p=function(e){let n=document.getElementById(e);if(!n&&-1!==e.indexOf("/")){const{divId:r}=Lr(e);(0,t.O8)(r)&&(n=document.getElementById(r))}if(n&&n.getBoundingClientRect){const e=n.getBoundingClientRect();let t={};return t.top_left={y:e.top,x:e.left},t.bottom_right={y:e.bottom,x:e.right},t}return null}(e.adUnitCode);if(p&&i.banner&&0!==i.banner.length){let e=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(p);i.ext.coordinates=e,i.ext.viewability=yd(p.top_left,hd(i.banner)),yd(e.top_left,hd(i.banner))>.5?i.ext.visibility=1:i.ext.visibility=2}else i.ext.visibility=0;const l=function(e){let t=[];return"function"==typeof e.getFloor&&[I.D4,I.G_,I.s6].forEach(n=>{e.mediaTypes.hasOwnProperty(n)&&(n==I.D4?e.mediaTypes.banner.sizes.forEach(r=>{bd(e,n,r,t)}):bd(e,n,"*",t))}),t}(e);return l&&l.length>0&&(i.bidfloors=l),r.fledgeEnabled&&(i.ext.ae=e?.ortb2Imp?.ext?.ae),i}(e,r)),ortb2:r.ortb2,tmax:r.timeout}}(e=(0,o.Xj)(e),r);return{method:"POST",url:(s=r.bidderCode,a=i.ext.customer_id,(s===sd?"https://prebid.trustedstack.com/rtb/trustedstack":"https://prebid.media.net/rtb/prebid")+"?cid="+encodeURIComponent(a)),data:JSON.stringify(i)};var s,a},interpretResponse:function(e,r){let i=[];if(!e||!e.body)return(0,t.fH)(`${od} : response is empty`),i;let o=e.body.bidList;(0,t.cy)(o)&&0!==o.length?(i=o.filter(e=>function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)),i.forEach(Id)):(0,t.fH)(`${od} : no bids`);const s=(0,n.A)(e,"body.ext.paApiAuctionConfigs")||[],a=(0,n.A)(e,"body.ext.igi")||[];return 0===s.length&&0===a.length?i:(a.length>0&&s.push(...a.map(({igs:e})=>e||[]).flat()),{bids:i,fledgeAuctionConfigs:s})},getUserSyncs:function(e,n){let r=(i=n,!(0,t.Im)(i)&&i[0].body&&i[0].body.ext&&(0,t.cy)(i[0].body.ext.csUrl)?i[0].body.ext.csUrl:[]);var i;return e.iframeEnabled?fd(r,"iframe"):e.pixelEnabled?fd(r,"image"):void 0},onTimeout:e=>{try{_d({name:"client_timeout",value:e.length,related_data:e[0].timeout||v.$W.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:e=>{try{_d({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},clearMnData:function(){dd={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,Qt.a$)(wd),(0,e.E)("medianetBidAdapter");const Ad="USD",Od={image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1},cta:{required:!1}},Ed={code:"adyoulike",gvlid:259,supportedMediaTypes:[I.D4,I.s6,I.G_],aliases:["ayl"],isBidRequestValid:function(e){const t=kd(Sd(e)),n=t.width>0&&t.height>0;return e.params&&e.params.placement&&(n||e.mediaTypes&&e.mediaTypes.native)},buildRequests:function(e,t){e=(0,o.Xj)(e);let r,i=!1;const s={Version:"1.0",Bids:e.reduce((e,t)=>{let o=(d=t,(0,n.A)(d,"mediaTypes.banner")?I.D4:(0,n.A)(d,"mediaTypes.video")?I.G_:(0,n.A)(d,"mediaTypes.native")?I.s6:void 0),s=Sd(t),a=kd(s);var d;if(e[t.bidId]={},e[t.bidId].PlacementID=t.params.placement,e[t.bidId].TransactionID=t.ortb2Imp?.ext?.tid,e[t.bidId].Width=a.width,e[t.bidId].Height=a.height,e[t.bidId].AvailableSizes=s.join(","),"function"==typeof t.getFloor&&(e[t.bidId].Pricing=function(e,t,n){const r=e.getFloor({currency:Ad,mediaType:n,size:[t.width,t.height]});if(!isNaN(r.floor)&&r.currency===Ad)return r.floor}(t,a,o)),t.schain&&(e[t.bidId].SChain=t.schain),!r&&t.userIdAsEids&&t.userIdAsEids.length&&(r=t.userIdAsEids),o===I.s6){let n=t.mediaTypes.native;"image"===n.type&&(n=Object.assign({},Od,n)),n.clickUrl={required:!0},e[t.bidId].Native=n}if(o===I.G_){i=!0,e[t.bidId].Video=t.mediaTypes.video;const n=t.mediaTypes.video.playerSize;Array.isArray(n)&&!Array.isArray(n[0])&&(e[t.bidId].Video.playerSize=[n])}return e},{}),PageRefreshed:xd()};t.gdprConsent&&(s.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies?t.gdprConsent.gdprApplies:null}),t.uspConsent&&(s.uspConsent=t.uspConsent),t.ortb2&&(s.ortb2=t.ortb2),r&&(s.eids=r),s.pbjs_version="8.52.2";const a=JSON.stringify(s);return{method:"POST",url:Td(e,t,i),data:a,options:{withCredentials:!0}}},interpretResponse:function(e,t){const r=[];var i={};if(!e||!e.body)return r;try{i=JSON.parse(t.data).Bids}catch(e){}return e.body.forEach(e=>{const t=function(e,t){if(!e||!e.Ad&&!e.Native&&!e.Vast)return;const r=t&&t[e.BidID];r&&(e.Width&&"0"!==e.Width||(e.Width=r.Width),e.Height&&"0"!==e.Height||(e.Height=r.Height));const i={requestId:e.BidID,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:Ad,meta:e.Meta||{advertiserDomains:[]}},o=e.Vast;return o?(i.width=e.Width,i.height=e.Height,i.vastXml=window.atob(o),i.mediaType="video"):r.Native?(i.native=function(e,t){if("object"==typeof e.Native)return e.Native;const r={};var i={},o={};if("string"==typeof e.Ad){i=JSON.parse(e.Ad.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),o=i.Content.Preview.Text;var s=i.TrackingPrefix+"/pixel?event_kind=IMPRESSION&attempt="+i.Attempt,a=i.TrackingPrefix+"/pixel?event_kind=INSERTION&attempt="+i.Attempt;i.Campaign&&(s+="&campaign="+i.Campaign,a+="&campaign="+i.Campaign),r.clickUrl=i.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+i.Attempt+"&campaign="+i.Campaign+"&url="+encodeURIComponent(i.Content.Landing.Url),i.OnEvents?(r.clickTrackers=jd(i.OnEvents.CLICK),r.impressionTrackers=jd(i.OnEvents.IMPRESSION),r.javascriptTrackers=jd(i.OnEvents.IMPRESSION,!0)):r.impressionTrackers=[],r.impressionTrackers.push(s,a)}return Object.keys(t).map(function(s,a){switch(s){case"title":r[s]=o.TITLE;break;case"body":r[s]=o.DESCRIPTION;break;case"cta":r[s]=o.CALLTOACTION;break;case"sponsoredBy":r[s]=i.Content.Preview.Sponsor.Name;break;case"image":const a=t.image.sizes||[];a.length||(a[0]=e.Width||300,a[1]=e.Height||250);const d=Rd(i,(0,n.A)(i,"Content.Preview.Thumbnail.Image"),a[0],a[1]);d&&(r[s]={url:d,width:a[0],height:a[1]});break;case"icon":const c=t.icon.sizes||[];c.length||(c[0]=50,c[1]=50);const u=Rd(i,(0,n.A)(i,"Content.Preview.Sponsor.Logo.Resource"),c[0],c[1]);u&&(r[s]={url:u,width:c[0],height:c[1]});break;case"privacyIcon":r[s]=Rd(i,(0,n.A)(i,"Content.Preview.Credit.Logo.Resource"),25,25);break;case"privacyLink":r[s]=(0,n.A)(i,"Content.Preview.Credit.Url")}}),r}(e,r.Native),i.mediaType="native"):(i.width=e.Width,i.height=e.Height,i.ad=e.Ad),i}(e,i);t&&r.push(t)}),r},getUserSyncs:function(e,t,n,r,i){if(!e.iframeEnabled)return[];let o="";return n&&(o+="&gdpr="+(n.gdprApplies?1:0),o+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),!0===v.$W.getConfig("coppa")&&(o+="&coppa=1"),r&&(o+="&us_privacy="+encodeURIComponent(r)),i?.gppString&&i?.applicableSections?.length&&(o+="&gpp="+encodeURIComponent(i.gppString),o+="&gpp_sid="+encodeURIComponent(i?.applicableSections?.join(","))),[{type:"iframe",url:`https://visitor.omnitagjs.com/visitor/isync?uid=19340f4f097d16f41f34fc0274981ca4${o}`}]}};function xd(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function Td(e,n,r){let i=function(e){let t=(0,a.I6)(e,e=>e.params.DC);return t?"-"+t.params.DC:""}(e);const o=r?"/hb-api/prebid-video/v1":"/hb-api/prebid/v1";return(0,t.c$)({protocol:"https",host:`hb-api${i}.omnitagjs.com`,pathname:o,search:Cd(n)})}function Cd(e){const t={};if(e){const n=e.refererInfo;n&&(n.location&&(t.RefererUrl=encodeURIComponent(n.location),n.reachedTop||(t.SafeFrame=!0)),t.PageUrl=encodeURIComponent(n.topmostLocation),t.PageReferrer=encodeURIComponent(n.location));const r=e.ortb2?.site;r&&(t.PageUrl=encodeURIComponent(r.page||n?.topmostLocation),t.PageReferrer=encodeURIComponent(r.ref||n?.location))}const n=e?.refererInfo?.canonicalUrl;return n&&(t.CanonicalUrl=encodeURIComponent(n)),t}function Sd(e){let n=e.sizes||[];return e.mediaTypes&&e.mediaTypes.banner&&(n=e.mediaTypes.banner.sizes||[]),e.params&&Array.isArray(e.params.size)&&(n=e.params.size,Array.isArray(n[0])||(n=[n])),(0,t.kK)(n)}function kd(e){const t={},n=e[0];if("string"!=typeof n)return t;const r=n.toUpperCase().split("X"),i=parseInt(r[0],10);i&&(t.width=i);const o=parseInt(r[1],10);return o&&(t.height=o),t}function Dd(e){return e?"https://blobs.omnitagjs.com/blobs/"+e.substr(16,2)+"/"+e.substr(16)+"/"+e:""}function Rd(e,t,n,r){let i="";if(t&&t.Kind)switch(t.Kind){case"INTERNAL":i=Dd(t.Data.Internal.BlobReference.Uid);break;case"EXTERNAL":const o=e.DynamicPrefix;let s=t.Data.External.Url;if(s=s.replace(/\[height\]/i,""+r),s=s.replace(/\[width\]/i,""+n),s.indexOf(o)>=0){const e=/.*url=([^&]*)/gm.exec(s);i=e?e[1]:"",i||(i=Dd(/.*key=([^&]*)/gm.exec(s)[1]))}else i=s}return i}function jd(e,t){const n=[];return e?(e.map((e,r)=>{(t&&"JAVASCRIPT_URL"===e.Kind||!t&&"PIXEL_URL"===e.Kind)&&n.push(e.Url)}),n):n}function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pd(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(Ed),(0,e.E)("adyoulikeBidAdapter");const Ud={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[I.D4,I.G_],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;const t=["asi","sid","hp","rid","name","domain"];return`${e.ver},${e.complete}!`+e.nodes.map(e=>t.map(t=>e[t]?encodeURIComponent(e[t]):"").join(",")).join("!")},adaptBannerSizes:function(e){return e.map(e=>({w:e[0],h:e[1]}))},fillPayloadForVideoBidRequest:function(e,n,r){const i=n.playerSize[0],o={maxbitrate:"vbrmax",maxduration:"vdmax",minbitrate:"vbrmin",minduration:"vdmin",placement:"vpt",plcmt:"vplcmt",skip:"skip"};e.mediaType=I.G_,e.isVideo="instream"===n.context,e.videoData={};for(const[t,r]of Object.entries(o))e.videoData=Bd(Bd({},e.videoData),this.getValuableProperty(r,n[t]));e.videoData=Bd(Bd(Bd(Bd(Bd(Bd(Bd({},e.videoData),this.getValuableProperty("playerWidth",i[0])),this.getValuableProperty("playerHeight",i[1])),this.getValuableProperty("adBreak",this.getStartDelayForVideoBidRequest(n,r))),this.getValuableProperty("videoProtocol",this.getProtocolForVideoBidRequest(n,r))),(0,t.Uu)(n.api)&&n.api.length?{iabframeworks:n.api.toString()}:{}),(0,t.Uu)(n.playbackmethod)&&n.playbackmethod.length?{vpmt:n.playbackmethod}:{})},getValuableProperty:function(e,n){return"string"==typeof e&&(0,t.Fq)(n)&&n?{[e]:n}:{}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(t?.startDelay)return t.startDelay;if(e?.startdelay){if(e.startdelay>0||-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 1},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,r){const i=v.$W.getConfig("currency.adServerCurrency"),o=(0,n.A)(r,"ortb2.user.data",v.$W.getAnyConfig("ortb2.user.data")),s=(0,n.A)(r,"ortb2.site.content.data",v.$W.getAnyConfig("ortb2.site.content.data"));return e.reduce((e,a)=>{let d={siteid:a.params.siteId,pageid:a.params.pageId,formatid:a.params.formatId,currencyCode:i,targeting:a.params.target&&""!==a.params.target?a.params.target:void 0,buid:a.params.buId&&""!==a.params.buId?a.params.buId:void 0,appname:a.params.appName&&""!==a.params.appName?a.params.appName:void 0,ckid:a.params.ckId||0,tagId:a.adUnitCode,pageDomain:r&&r.refererInfo&&r.refererInfo.page?r.refererInfo.page:void 0,transactionId:a.ortb2Imp?.ext?.tid,timeout:v.$W.getConfig("bidderTimeout"),bidId:a.bidId,prebidVersion:"8.52.2",schain:Ud.serializeSupplyChain(a.schain),sda:o,sdc:s};const c=(0,n.A)(a,"ortb2Imp.ext.gpid")||(0,n.A)(a,"ortb2Imp.ext.data.pbadslot");c&&(d.gpid=c),r&&(r.gdprConsent&&(d.addtl_consent=r.gdprConsent.addtlConsent,d.gdpr_consent=r.gdprConsent.consentString,d.gdpr=r.gdprConsent.gdprApplies),r.gppConsent&&(d.gpp=r.gppConsent.gppString,d.gpp_sid=r.gppConsent.applicableSections),r.uspConsent&&(d.us_privacy=r.uspConsent)),a&&a.userIdAsEids&&(d.eids=a.userIdAsEids),r&&r.uspConsent&&(d.us_privacy=r.uspConsent);const u=(0,n.A)(a,"mediaTypes.banner"),p=(0,n.A)(a,"mediaTypes.video"),l=p&&("instream"===p.context||"outstream"===p.context);if(u||l){let n;if(u){if(n=I.D4,d.sizes=Ud.adaptBannerSizes(u.sizes),l){let n=(0,t.Go)(d);Ud.fillPayloadForVideoBidRequest(n,p,a.params.video),n.bidfloor=a.params.bidfloor||Ud.getBidFloor(a,i,I.G_),e.push(Ud.createServerRequest(n,a.params.domain))}}else n=I.G_,Ud.fillPayloadForVideoBidRequest(d,p,a.params.video);d.bidfloor=a.params.bidfloor||Ud.getBidFloor(a,i,n),e.push(Ud.createServerRequest(d,a.params.domain))}else e.push({});return e},[])},interpretResponse:function(e,n){const r=[];let i=e.body;try{if(i&&!i.isNoAd&&(i.ad||i.adUrl)){const e=JSON.parse(n.data);let t={requestId:e.bidId,cpm:i.cpm,width:i.width,height:i.height,creativeId:i.creativeId,dealId:i.dealId,currency:i.currency,netRevenue:i.isNetCpm,ttl:i.ttl,dspPixels:i.dspPixels,meta:{advertiserDomains:i.adomain?i.adomain:[]}};e.mediaType===I.G_?(t.mediaType=I.G_,t.vastUrl=i.adUrl,t.vastXml=i.ad,t.content=i.ad):(t.adUrl=i.adUrl,t.ad=i.ad),r.push(t)}}catch(e){(0,t.vV)("Error while parsing smart server response",e)}return r},getBidFloor:function(e,n,r){if(!(0,t.fp)(e.getFloor))return 0;const i=e.getFloor({currency:n||"USD",mediaType:r,size:"*"});return(0,t.Qd)(i)&&!isNaN(i.floor)?i.floor:0},getUserSyncs:function(e,t){const n=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?n.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach(function(e){n.push({type:"image",url:e})}),n}};(0,Qt.a$)(Ud),(0,e.E)("smartadserverBidAdapter");const{getConfig:$d}=v.$W,qd={code:"adf",aliases:[{code:"adformOpenRTB",gvlid:50},{code:"adform",gvlid:50}],gvlid:50,supportedMediaTypes:[I.s6,I.D4,I.G_],isBidRequestValid:e=>{const t=e.params||{},{mid:n,inv:r,mname:i}=t;return!!(n||r&&i)},buildRequests:(e,i)=>{let o,s;const a=i.ortb2||{};let{user:d}=a;"object"==typeof $d("app")?(o=$d("app")||{},a.app&&(0,t.D9)(o,a.app)):(s=$d("site")||{},a.site&&(0,t.D9)(s,a.site),s.page||(s.page=i.refererInfo.page));const c=$d("device")||{};c.w=c.w||window.innerWidth,c.h=c.h||window.innerHeight,c.ua=c.ua||navigator.userAgent;const u=Nd(e,"params.adxDomain")||"adx.adform.net",p=Nd(e,"params.pt")||Nd(e,"params.priceType")||"net",l=i.ortb2?.source?.tid,f=Nd(e,"params.test"),m=$d("currency.adServerCurrency"),g=m&&[m],b=Nd(e,"userIdAsEids"),h=Nd(e,"schain"),y=a.regs?.ext?.dsa,_=e.map((e,r)=>{e.netRevenue=p;const i=e.getFloor?e.getFloor({currency:m||"USD",size:"*",mediaType:"*"}):{},o=i.floor,s=i.currency,{mid:a,inv:d,mname:c}=e.params,u=e.ortb2Imp?.ext?.data,l={id:r+1,tagid:a,bidfloor:o,bidfloorcur:s,ext:{data:u,bidder:{inv:d,mname:c}}};if(e.nativeOrtbRequest&&e.nativeOrtbRequest.assets){let n=e.nativeOrtbRequest.assets,r=[];for(let e=0;e<n.length;e++){let i=(0,t.Go)(n[e]),o=i.img;if(o){let e=o.ext&&o.ext.aspectratios;if(e){let t=parseInt(e[0].split(":")[0],10),n=parseInt(e[0].split(":")[1],10);o.wmin=o.wmin||0,o.hmin=n*o.wmin/t|0}}r.push(i)}l.native={request:{assets:r}}}const f=(0,n.A)(e,"mediaTypes.banner");if(f&&f.sizes){const e=(0,t.kK)(f.sizes).map(e=>{const[t,n]=e.split("x");return{w:parseInt(t,10),h:parseInt(n,10)}});l.banner={format:e}}const g=(0,n.A)(e,"mediaTypes.video");return g&&(l.video=g),l}),I={id:i.bidderRequestId,site:s,app:o,user:d,device:c,source:{tid:l,fd:1},ext:{pt:p},cur:g,imp:_};return f&&(I.is_debug=!!f,I.test=1),v.$W.getConfig("coppa")&&r(I,"regs.coppa",1),void 0!==(0,n.A)(i,"gdprConsent.gdprApplies")&&(r(I,"user.ext.consent",i.gdprConsent.consentString),r(I,"regs.ext.gdpr",1&i.gdprConsent.gdprApplies)),i.uspConsent&&r(I,"regs.ext.us_privacy",i.uspConsent),b&&r(I,"user.ext.eids",b),h&&r(I,"source.ext.schain",h),y&&r(I,"regs.ext.dsa",y),{method:"POST",url:"https://"+u+"/adx/openrtb",data:JSON.stringify(I),bids:e}},interpretResponse:function(e,{bids:t}){if(!e.body)return;const{seatbid:r,cur:i}=e.body,o=(s=r.map(e=>e.bid),[].concat(...s)).reduce((e,t)=>(e[t.impid-1]=t,e),[]);var s;return t.map((e,t)=>{const r=o[t];if(r){const t=(0,n.A)(r,"ext.prebid.type"),o=(0,n.A)(r,"ext.dsa"),s={requestId:e.bidId,cpm:r.price,creativeId:r.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:i,mediaType:t,width:r.w,height:r.h,dealId:r.dealid,meta:{mediaType:t,advertiserDomains:r.adomain,dsa:o}};return r.native?s.native={ortb:r.native}:t===I.G_?(s.vastXml=r.adm,r.nurl&&(s.vastUrl=r.nurl)):s.ad=r.adm,e.renderer||t!==I.G_||"outstream"!==(0,n.A)(e,"mediaTypes.video.context")||(s.renderer=Kt.A4.install({id:e.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js",adUnitCode:e.adUnitCode}),s.renderer.setRender(Md)),s}}).filter(Boolean)}};function Nd(e,t){for(let r,i=0;i<e.length;i++)if(r=(0,n.A)(e[i],t),r)return r}function Md(e){e.renderer.push(()=>{window.Adform.renderOutstream(e)})}(0,Qt.a$)(qd),(0,e.E)("adfBidAdapter");const zd="ttd";function Wd(e){return{ttdprebid:{ver:"TTD-PREBID-2023.09.05",pbjs:"8.52.2",keywords:e.site?.keywords?e.site.keywords.split(",").map(e=>e.trim()):[]}}}function Ld(e){let n={};return e.gdprConsent&&"boolean"==typeof e.gdprConsent.gdprApplies&&r(n,"ext.gdpr",e.gdprConsent.gdprApplies?1:0),e.uspConsent&&r(n,"ext.us_privacy",e.uspConsent),!0===v.$W.getConfig("coppa")&&(n.coppa=1),e.ortb2?.regs&&t.D9(n,e.ortb2.regs),n}function Vd(e,t){let n={tid:t?.ortb2?.source?.tid};return e[0].schain&&r(n,"ext.schain",e[0].schain),n}function Gd(e){const n=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage;let r={ua:navigator.userAgent,dnt:t.l9()?1:0,language:n,connectiontype:Fd()};return t.D9(r,e.device),r}function Fd(){const e=navigator.connection||navigator.webkitConnection;if(!e)return 0;switch(e.type){case"ethernet":return 1;case"wifi":return 2;case"cellular":switch(e.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 3}default:return 0}}function Hd(e,i){let o={};e.gdprConsent&&r(o,"ext.consent",e.gdprConsent.consentString),t.O8(n.A(e,"bids.0.userId.tdid"))&&(o.buyeruid=e.bids[0].userId.tdid);var s=n.A(e,"bids.0.userIdAsEids");return s&&s.length&&r(o,"ext.eids",s),t.D9(o,i.user),o}function Jd(e,i){var o=t.D9({page:n.A(e,"refererInfo.page"),ref:n.A(e,"refererInfo.ref"),publisher:{id:n.A(e,"bids.0.params.publisherId")}},i.site),s=e.refererInfo.domain;return s&&r(o,"publisher.domain",s),o}const Kd={code:zd,gvlid:21,aliases:["thetradedesk"],supportedMediaTypes:[I.D4,I.G_],isBidRequestValid:function(e){if(!e||!e.params)return t.JE(zd+": Missing bid parameters"),!1;if(!e.params.supplySourceId)return t.JE(zd+": Missing required parameter params.supplySourceId"),!1;if(!/^[\w+]+$/.test(e.params.supplySourceId))return t.JE(zd+": supplySourceId must only contain alphabetic characters"),!1;if(!e.params.publisherId)return t.JE(zd+": Missing required parameter params.publisherId"),!1;if(e.params.publisherId.length>32)return t.JE(zd+": params.publisherId must be 32 characters or less"),!1;if(e.params.bidfloor&&isNaN(parseFloat(e.params.bidfloor)))return!1;const r=n.A(e,"ortb2Imp.ext.gpid");if(!e.params.placementId&&!r)return t.JE(zd+": one of params.placementId or gpid (via the GPT module https://docs.prebid.org/dev-docs/modules/gpt-pre-auction.html) must be passed"),!1;const i=n.A(e,"mediaTypes.banner"),o=n.A(e,"mediaTypes.video");if(!i&&!o)return t.JE(zd+": one of mediaTypes.banner or mediaTypes.video must be passed"),!1;if(o){if(!o.maxduration||!t.Fq(o.maxduration))return t.JE(zd+": mediaTypes.video.maxduration must be set to the maximum video ad duration in seconds"),!1;if(!o.api||0===o.api.length)return t.JE(zd+": mediaTypes.video.api should be an array of supported api frameworks. See the Open RTB v2.5 spec for valid values"),!1;if(!o.mimes||0===o.mimes.length)return t.JE(zd+": mediaTypes.video.mimes should be an array of supported mime types"),!1;if(!o.protocols)return t.JE(zd+": mediaTypes.video.protocols should be an array of supported protocols. See the Open RTB v2.5 spec for valid values"),!1}return!0},buildRequests:function(e,r){const i=r.ortb2||{};let o={id:r.bidderRequestId,imp:e.map(e=>function(e){let r={id:e.bidId};const i=n.A(e,"ortb2Imp.ext.gpid")||e.params.placementId;i&&(r.tagid=i);const o=n.A(e,"mediaTypes.video");let s={};n.A(e,"mediaTypes.banner")&&(s[I.D4]=function(e){const r=function(e){return t.kK(e).filter(e=>e).map(e=>e.split("x")).map(e=>({width:parseInt(e[0]),height:parseInt(e[1])}))}(e.mediaTypes.banner.sizes).map(e=>({w:e.width,h:e.height})),i=parseInt(n.A(e,"mediaTypes.banner.pos")),o=n.A(e,"params.banner.expdir");let s={};i&&(s.pos=i),o&&Array.isArray(o)&&(s.expdir=o);const a=Object.assign({w:r[0].w,h:r[0].h,format:r},s),d=n.A(e,"ortb2Imp.battr");return d&&(a.battr=d),a}(e)),o&&(s[I.G_]=function(e){{let r=n.A(e,"mediaTypes.video.minduration");const i=n.A(e,"mediaTypes.video.maxduration"),o=n.A(e,"mediaTypes.video.playerSize"),s=n.A(e,"mediaTypes.video.api"),a=n.A(e,"mediaTypes.video.mimes"),d=n.A(e,"mediaTypes.video.placement"),c=n.A(e,"mediaTypes.video.plcmt"),u=n.A(e,"mediaTypes.video.protocols"),p=n.A(e,"mediaTypes.video.playbackmethod"),l=n.A(e,"mediaTypes.video.pos"),f=n.A(e,"mediaTypes.video.startdelay"),m=n.A(e,"mediaTypes.video.skip"),g=n.A(e,"mediaTypes.video.skipmin"),b=n.A(e,"mediaTypes.video.skipafter"),h=n.A(e,"mediaTypes.video.minbitrate"),y=n.A(e,"mediaTypes.video.maxbitrate");r&&t.Fq(r)||(r=0);let v={minduration:r,maxduration:i,api:s,mimes:a,placement:d,protocols:u};void 0!==o&&(t.cy(o[0])?(v.w=parseInt(o[0][0]),v.h=parseInt(o[0][1])):t.Et(o[0])&&(v.w=parseInt(o[0]),v.h=parseInt(o[1]))),p&&(v.playbackmethod=p),c&&(v.plcmt=c),l&&(v.pos=l),f&&t.Fq(f)&&(v.startdelay=f),!m||0!==m&&1!==m||(v.skip=m),g&&t.Fq(g)&&(v.skipmin=g),b&&t.Fq(b)&&(v.skipafter=b),h&&t.Fq(h)&&(v.minbitrate=h),y&&t.Fq(y)&&(v.maxbitrate=y);const _=n.A(e,"ortb2Imp.battr");return _&&(v.battr=_),v}}(e)),Object.assign(r,s);let a=function(e){if(e.params.bidfloor)return e.params.bidfloor;if(!t.fp(e.getFloor))return null;let n=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return t.Qd(n)&&!isNaN(n.floor)&&"USD"===n.currency?n.floor:null}(e);a&&(r.bidfloor=parseFloat(a),r.bidfloorcur="USD");const d=n.A(e,"ortb2Imp.secure");return r.secure=(0,t.Et)(d)?d:1,t.D9(r,e.ortb2Imp),r}(e)),site:Jd(r,i),device:Gd(i),user:Hd(r,i),at:1,cur:["USD"],regs:Ld(r),source:Vd(e,r),ext:Wd(i)};return i&&i.bcat&&(o.bcat=i.bcat),i&&i.badv&&(o.badv=i.badv),i&&i.app&&(o.app=i.app),i&&i.pmp&&(o.pmp=i.pmp),{method:"POST",url:"https://direct.adsrvr.org/bid/bidder/"+r.bids[0].params.supplySourceId,data:o,options:{withCredentials:!0}}},interpretResponse:function(e,r){let i=n.A(e,"body.seatbid");const o=n.A(e,"body.cur");if(!i||0===i.length)return[];let s=[],a=n.A(r,"data.imp");return i.forEach(e=>{e.bid.forEach(e=>{let n=a.find(t=>t.id===e.impid);const r=e.price||0;let i={requestId:e.impid,cpm:r,creativeId:e.crid,dealId:e.dealid||null,currency:o||"USD",netRevenue:!0,ttl:e.ttl||360,meta:{}};e.adomain&&e.adomain.length>0&&(i.meta.advertiserDomains=e.adomain),1===e.ext.mediatype?Object.assign(i,{width:e.w,height:e.h,ad:t.ZU(e.adm,r),mediaType:I.D4}):2===e.ext.mediatype&&(Object.assign(i,{width:n.video.w,height:n.video.h,mediaType:I.G_}),e.nurl?i.vastUrl=t.ZU(e.nurl,r):i.vastXml=t.ZU(e.adm,r)),s.push(i)})}),s},getUserSyncs:function(e,t,n={},r=""){const i=[];let o=`&gdpr=${n.gdprApplies?1:0}&gdpr_consent=${encodeURIComponent(n.consentString)}`,s=`https://match.adsrvr.org/track/usersync?us_privacy=${encodeURIComponent(r)}${o}`;return e.pixelEnabled?i.push({type:"image",url:s+"&ust=image"}):e.iframeEnabled&&i.push({type:"iframe",url:s+"&ust=iframe"}),i}};function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,Qt.a$)(Kd),(0,e.E)("ttdBidAdapter");const Yd={tdid:{source:"adserver.org",atype:1,getValue:function(e){return e.id?e.id:e},getUidExt:function(e){return Xd(Xd({},{rtiPartner:"TDID"}),e.ext)}}};function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}const ec="unifiedId",tc={name:ec,gvlid:21,decode:e=>e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0,getId(e){const n=e&&e.params||{};if(!n||"string"!=typeof n.partner&&"string"!=typeof n.url)return void(0,t.vV)("User ID - unifiedId submodule requires either partner or url to be defined");const r=n.url||`https://match.adsrvr.org/track/rid?ttd_pid=${n.partner}&fmt=json`;return{callback:function(e){const n={success:n=>{let r;if(n)try{r=JSON.parse(n)}catch(e){(0,t.vV)(e)}e(r)},error:n=>{(0,t.vV)(`${ec}: ID fetch encountered an error`,n),e()}};(0,ca.RD)(r,n,void 0,{method:"GET",withCredentials:!0})}}},eids:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Yd)};function nc(e){return!!("object"==typeof e&&null!==e&&e.advertising_token&&e.identity_expires&&e.refresh_from&&e.refresh_token&&e.refresh_expires)}(0,w.bz)("userId",tc),(0,e.E)("unifiedIdSystem");class rc{constructor(e,t,n,r){this._baseUrl=e.baseUrl,this._clientVersion=t,this._logInfo=n,this._logWarn=r}createArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}hasStatusResponse(e){return"object"==typeof e&&e&&e.status}isValidRefreshResponse(e){return this.hasStatusResponse(e)&&("optout"===e.status||"expired_token"===e.status||"success"===e.status&&e.body&&nc(e.body))}ResponseToRefreshResult(e){return this.isValidRefreshResponse(e)?"success"===e.status?{status:e.status,identity:e.body}:e:"Response didn't contain a valid status"}callRefreshApi(e){const t=this._baseUrl+"/v2/token/refresh";let n,r;const i=new Promise((e,t)=>{n=e,r=t});return this._logInfo("Sending refresh request",e),(0,ca.RD)(t,{success:t=>{try{if(e.refresh_response_key){this._logInfo("Decrypting refresh API response");const i=this.createArrayBuffer(atob(t));window.crypto.subtle.importKey("raw",this.createArrayBuffer(atob(e.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then(e=>{this._logInfo("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:i.slice(0,12),tagLength:128},e,i.slice(12)).then(e=>{const t=String.fromCharCode(...new Uint8Array(e));this._logInfo("Decrypted to:",t);const i=JSON.parse(t),o=this.ResponseToRefreshResult(i);"string"==typeof o?r(o):n(o)},e=>this._logWarn("Call to UID2 API failed",e))},e=>this._logWarn("Call to UID2 API failed",e))}else{this._logInfo("No response decryption key available, assuming unencrypted JSON");const e=JSON.parse(t),i=this.ResponseToRefreshResult(e);"string"==typeof i?r(i):n(i)}}catch(e){r(t)}},error:(e,t)=>{try{this._logInfo("Error status, assuming unencrypted JSON");const e=JSON.parse(t.responseText),i=this.ResponseToRefreshResult(e);"string"==typeof i?r(i):n(i)}catch(t){r(e)}}},e.refresh_token,{method:"POST",customHeaders:{"X-UID2-Client-Version":this._clientVersion}}),i}}class ic{constructor(e,t,n,r){this._storage=e,this._preferLocalStorage=t,this._storageName=n,this._logInfo=r}readCookie(e){return this._storage.cookiesAreEnabled()?this._storage.getCookie(e):null}readLocalStorage(e){return this._storage.localStorageIsEnabled()?this._storage.getDataFromLocalStorage(e):null}readModuleCookie(){return this.parseIfContainsBraces(this.readCookie(this._storageName))}writeModuleCookie(e){this._storage.setCookie(this._storageName,JSON.stringify(e),Date.now()+864e5)}readModuleStorage(){return this.parseIfContainsBraces(this.readLocalStorage(this._storageName))}writeModuleStorage(e){this._storage.setDataInLocalStorage(this._storageName,JSON.stringify(e))}readProvidedCookie(e){return JSON.parse(this.readCookie(e))}parseIfContainsBraces(e){return e?.includes("{")?JSON.parse(e):e}storeValue(e){this._preferLocalStorage?this.writeModuleStorage(e):this.writeModuleCookie(e)}getStoredValueWithFallback(){const e=this._preferLocalStorage?"local storage":"cookie",t=(this._preferLocalStorage?this.readModuleStorage:this.readModuleCookie).bind(this),n=(this._preferLocalStorage?this.writeModuleStorage:this.writeModuleCookie).bind(this),r=(this._preferLocalStorage?this.readModuleCookie:this.readModuleStorage).bind(this),i=t();if(i){if("string"==typeof i){const t=r();if(t&&"object"==typeof t)return this._logInfo(`${e} contained a basic token, but found a refreshable token fallback. Copying the fallback value to ${e}.`),n(t),t}}else{const t=r();if(t)return this._logInfo(`${e} was empty, but found a fallback value.`),"object"==typeof t&&(this._logInfo(`Copying the fallback value to ${e}.`),n(t)),t}return i}}function oc(e,t,n,r,i,o){return i("UID2 base url provided: ",e),new rc({baseUrl:e},n,i,o).callRefreshApi(t).then(e=>{i("Refresh endpoint responded with:",e);const n={originalToken:t,latestToken:e.identity};let o=r.getStoredValueWithFallback();return o?.originalIdentity&&(n.originalIdentity=o.originalIdentity),r.storeValue(n),n})}let sc;{const e=9;sc={isCSTGOptionsValid(e,t){if("object"!=typeof e||null===e)return t('CSTG is not being used, but is included in the Prebid.js bundle. You can reduce the bundle size by passing "--disable UID2_CSTG" to the Prebid.js build.'),!1;const n=e;if(!n.serverPublicKey&&!n.subscriptionId)return t("CSTG has been enabled but its parameters have not been set."),!1;if("string"!=typeof n.serverPublicKey)return t("CSTG opts.serverPublicKey must be a string"),!1;const r=/^(UID2|EUID)-X-[A-Z]-.+/;return r.test(n.serverPublicKey)?"string"!=typeof n.subscriptionId?(t("CSTG opts.subscriptionId must be a string"),!1):0!==n.subscriptionId.length||(t("CSTG opts.subscriptionId is empty"),!1):(t(`CSTG opts.serverPublicKey must match the regular expression ${r}`),!1)},getValidIdentity(e,t){if(e.emailHash)return n.isBase64Hash(e.emailHash)?{email_hash:e.emailHash}:void t("CSTG opts.emailHash is invalid");if(e.phoneHash)return n.isBase64Hash(e.phoneHash)?{phone_hash:e.phoneHash}:void t("CSTG opts.phoneHash is invalid");if(e.email){const r=n.normalizeEmail(e.email);return void 0===r?void t("CSTG opts.email is invalid"):{email:r}}return e.phone?n.isNormalizedPhone(e.phone)?{phone:e.phone}:void t("CSTG opts.phone is invalid"):void 0},isStoredTokenInvalid(e,t,n,r){if(t){if("optout"===t.latestToken)return!0;const r=Object.values(e)[0];if(!this.isStoredTokenFromSameIdentity(t,r))return n("CSTG supplied new identity - ignoring stored value.",t.originalIdentity,e),!0}return!1},async generateTokenAndStore(e,t,n,i,o,s){o("UID2 cstg opts provided: ",JSON.stringify(t));const a=new r({baseUrl:e,cstg:t},o,s),d=await a.generateToken(n);o("CSTG endpoint responded with:",d);const c={originalIdentity:this.encodeOriginalIdentity(n),latestToken:d.identity};return i.storeValue(c),c},isStoredTokenFromSameIdentity:(e,n)=>!!e.originalIdentity&&(0,t.PB)(n,e.originalIdentity.salt)===e.originalIdentity.identity,encodeOriginalIdentity(e){const n=Object.values(e)[0],r=Math.floor(Math.random()*Math.pow(2,32));return{identity:(0,t.PB)(n,r),salt:r}}};class n{static isBase64Hash(e){if(!e||44!==e.length)return!1;try{return btoa(atob(e))===e}catch(e){return!1}}static isNormalizedPhone(e){return/^\+[0-9]{10,15}$/.test(e)}static normalizeEmail(e){if(!e||!e.length)return;const t=e.trim().toLowerCase();if(t.indexOf(" ")>0)return;const n=this.splitEmailIntoAddressAndDomain(t);if(!n)return;const{address:r,domain:i}=n,o=this.isGmail(i),s=this.normalizeAddressPart(r,o,o);return s?`${s}@${i}`:void 0}static splitEmailIntoAddressAndDomain(e){const t=e.split("@");if(2===t.length&&!t.some(e=>""===e))return{address:t[0],domain:t[1]}}static isGmail(e){return e===this.GMAIL_DOMAIN}static dropExtension(e,t=this.EMAIL_EXTENSION_SYMBOL){return e.split(t)[0]}static normalizeAddressPart(e,t,n){let r=e;return t&&(r=r.replaceAll(this.EMAIL_DOT,"")),n&&(r=this.dropExtension(r)),r}}(0,i.A)(n,"EMAIL_EXTENSION_SYMBOL","+"),(0,i.A)(n,"EMAIL_DOT","."),(0,i.A)(n,"GMAIL_DOMAIN","gmail.com");class r{constructor(e,t,n){this._baseUrl=e.baseUrl,this._serverPublicKey=e.cstg.serverPublicKey,this._subscriptionId=e.cstg.subscriptionId,this._logInfo=t,this._logWarn=n}hasStatusResponse(e){return"object"==typeof e&&e&&e.status}isCstgApiSuccessResponse(e){return this.hasStatusResponse(e)&&"success"===e.status&&nc(e.body)}isCstgApiOptoutResponse(e){return this.hasStatusResponse(e)&&"optout"===e.status}isCstgApiClientErrorResponse(e){return this.hasStatusResponse(e)&&"client_error"===e.status&&"string"==typeof e.message}isCstgApiForbiddenResponse(e){return this.hasStatusResponse(e)&&"invalid_http_origin"===e.status&&"string"==typeof e.message}stripPublicKeyPrefix(t){return t.substring(e)}async generateCstgRequest(e){return"email_hash"in e||"phone_hash"in e?e:"email"in e?{email_hash:await s.hash(e.email)}:"phone"in e?{phone_hash:await s.hash(e.phone)}:void 0}async generateToken(e){const t=await this.generateCstgRequest(e);this._logInfo("Building CSTG request for",t);const n=await o.build(this.stripPublicKeyPrefix(this._serverPublicKey)),r=new TextEncoder,i=Date.now(),{iv:a,ciphertext:d}=await n.encrypt(r.encode(JSON.stringify(t)),r.encode(JSON.stringify([i]))),c=await s.exportPublicKey(n.clientPublicKey),u={payload:s.bytesToBase64(new Uint8Array(d)),iv:s.bytesToBase64(new Uint8Array(a)),public_key:s.bytesToBase64(new Uint8Array(c)),timestamp:i,subscription_id:this._subscriptionId};return this.callCstgApi(u,n)}async callCstgApi(e,t){const n=this._baseUrl+"/v2/token/client-generate";let r,i;const o=new Promise((e,t)=>{r=e,i=t});return this._logInfo("Sending CSTG request",e),(0,ca.RD)(n,{success:async(e,n)=>{try{const n=s.base64ToBytes(e),o=await t.decrypt(n.slice(0,12),n.slice(12)),a=(new TextDecoder).decode(o),d=JSON.parse(a);this.isCstgApiSuccessResponse(d)?r({status:"success",identity:d.body}):this.isCstgApiOptoutResponse(d)?r({status:"optout",identity:"optout"}):i(`API error: Response body was invalid for HTTP status 200: ${a}`)}catch(e){i(e)}},error:(e,t)=>{try{if(400===t.status){const e=JSON.parse(t.responseText);this.isCstgApiClientErrorResponse(e)?i(`Client error: ${e.message}`):i(`API error: Response body was invalid for HTTP status 400: ${t.responseText}`)}else if(403===t.status){const e=JSON.parse(t.responseText);this.isCstgApiForbiddenResponse(t)?i(`Forbidden: ${e.message}`):i(`API error: Response body was invalid for HTTP status 403: ${t.responseText}`)}else i(`API error: Unexpected HTTP status ${t.status}: ${e}`)}catch(t){i(e)}}},JSON.stringify(e),{method:"POST"}),o}}class o{constructor(e,t){this._clientPublicKey=e,this._sharedKey=t}static async build(e){const t=await s.generateKeyPair(o._namedCurve),n=await s.importPublicKey(e,this._namedCurve),r=await s.deriveKey(n,t.privateKey);return new o(t.publicKey,r)}async encrypt(e,t){const n=window.crypto.getRandomValues(new Uint8Array(12));return{iv:n,ciphertext:await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n,additionalData:t},this._sharedKey,e)}}async decrypt(e,t){return window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},this._sharedKey,t)}get clientPublicKey(){return this._clientPublicKey}}(0,i.A)(o,"_namedCurve","P-256");class s{static base64ToBytes(e){const t=atob(e);return Uint8Array.from(t,e=>e.codePointAt(0))}static bytesToBase64(e){const t=Array.from(e,e=>String.fromCodePoint(e)).join("");return btoa(t)}static async generateKeyPair(e){const t={name:"ECDH",namedCurve:e};return window.crypto.subtle.generateKey(t,!1,["deriveKey"])}static async importPublicKey(e,t){const n={name:"ECDH",namedCurve:t};return window.crypto.subtle.importKey("spki",this.base64ToBytes(e),n,!1,[])}static exportPublicKey(e){return window.crypto.subtle.exportKey("spki",e)}static async deriveKey(e,t){return window.crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}static async hash(e){const t=await window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e));return this.bytesToBase64(new Uint8Array(t))}}}function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}(0,e.E)("uid2IdSystem_shared");const dc="euid",cc="EUID: ";function uc(e,t){return function(...n){e(t+" ",...n)}}const pc=uc(t.fH,cc),lc=uc(t.JE,cc),fc=(0,Z.vM)({moduleType:he.fW,moduleName:dc}),mc={name:dc,gvlid:21,decode(e){const t=function(e){return"string"==typeof e?(pc("Found server-only token. Refresh is unavailable for this token."),{euid:{id:e}}):"optout"===e.latestToken?(pc("Found optout token.  Refresh is unavailable for this token."),{euid:{optout:!0}}):Date.now()<e.latestToken.identity_expires?{euid:{id:e.latestToken.advertising_token}}:null}(e);return pc("EUID decode returned",t),t},getId(e,r){if(!0!==r?.gdprApplies)return void(0,t.JE)("EUID is intended for use within the EU. The module will not run when GDPR does not apply.");if(!function(e){const t=!0===e?.gdprApplies,r=(0,n.A)(e,"vendorData.purpose.consents.1"),i=(0,n.A)(e,`vendorData.vendor.consents.${21..toString()}`);return!!(!t||r&&i)}(r))return void lc("Unable to use EUID module due to insufficient consent. The EUID module requires storage permission.");const o={apiBaseUrl:e?.params?.euidApiBase??"https://prod.euid.eu",paramToken:e?.params?.euidToken,serverCookieName:e?.params?.euidCookie,storage:e?.params?.storage??"localStorage",clientId:"PrebidJS-8.52.2-EUIDModule-1.1",internalStorage:"__euid_advertising_token"};o.cstg=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({serverPublicKey:e?.params?.serverPublicKey,subscriptionId:e?.params?.subscriptionId},function(e){const t=["emailHash","phoneHash","email","phone"];for(let n of t)if(e.hasOwnProperty(n))return{[n]:e[n]};return{}}(e?.params??{})),pc("EUID configuration loaded and mapped.",o);const s=function(e,t,n,r){let i=null;const o="cookie"!==e.storage,s=new ic(t,o,e.internalStorage,n);n(`Module is using ${o?"local storage":"cookies"} for internal storage.`);const a=sc&&sc.isCSTGOptionsValid(e.cstg,r);a?(n("Module is using client-side token generation."),i=null):e.paramToken?(i=e.paramToken,n("Read token from params",i)):e.serverCookieName&&(i=s.readProvidedCookie(e.serverCookieName),n("Read token from server-supplied cookie",i));let d=s.getStoredValueWithFallback();if(n("Loaded module-stored tokens:",d),d&&"string"==typeof d){if(!i&&!a)return n("Returning legacy cookie value."),{id:d};n("Discarding superseded legacy cookie."),d=null}if(i&&d&&d.originalToken?.advertising_token!==i.advertising_token&&(n("Server supplied new token - ignoring stored value.",d.originalToken?.advertising_token,i.advertising_token),d=null),a){const t=sc.getValidIdentity(e.cstg,r);if(t&&(d&&sc.isStoredTokenInvalid(t,d,n,r)&&(d=null),!d||Date.now()>d.latestToken.refresh_expires)){const i=sc.generateTokenAndStore(e.apiBaseUrl,e.cstg,t,s,n,r);return n("Generate token using CSTG"),{callback:e=>{i.then(t=>{n("Token generation responded, passing the new token on.",t),e(t)})}}}}const c=!d?.latestToken||i&&i.identity_expires>d.latestToken.identity_expires,u=c?i:d.latestToken;if(n("UID2 module selected latest token",c,u),!u||Date.now()>u.refresh_expires)return n("Newest available token is expired and not refreshable."),{id:null};if(Date.now()>u.identity_expires){const t=oc(e.apiBaseUrl,u,e.clientId,s,n,r);return n("Token is expired but can be refreshed, attempting refresh."),{callback:e=>{t.then(t=>{n("Refresh reponded, passing the updated token on.",t),e(t)})}}}Date.now()>u.refresh_from&&(n("Refreshing token in background with low priority."),oc(e.apiBaseUrl,u,e.clientId,s,n,r));const p={originalToken:i??d?.originalToken,latestToken:u};return a&&(p.originalIdentity=d?.originalIdentity),s.storeValue(p),{id:p}}(o,fc,pc,lc);return pc("EUID getId returned",s),s},eids:{euid:{source:"euid.eu",atype:3,getValue:function(e){return e.id}}}};(0,w.bz)("userId",mc),(0,e.E)("euidIdSystem"),Je.processQueue()}()})();