!function(n,e){var define;"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["teads-fellow-euZone1"]=e():n["teads-fellow-euZone1"]=e()}(this,(()=>(()=>{"use strict";var n,e,t={},o={};function i(n){var e=o[n];if(void 0!==e)return e.exports;var a=o[n]={exports:{}};return t[n](a,a.exports,i),a.exports}i.m=t,i.d=(n,e)=>{for(var t in e)i.o(e,t)&&!i.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},i.f={},i.e=n=>Promise.all(Object.keys(i.f).reduce(((e,t)=>(i.f[t](n,e),e)),[])),i.u=n=>n+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),i.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),n={},e="performance-tracker:",i.l=(t,o,a,r)=>{if(n[t])n[t].push(o);else{var c,s;if(void 0!==a)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==e+a){c=l;break}}c||(s=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.setAttribute("data-webpack",e+a),c.src=t),n[t]=[o];var p=(e,o)=>{c.onerror=c.onload=null,clearTimeout(v);var i=n[t];if(delete n[t],c.parentNode&&c.parentNode.removeChild(c),i&&i.forEach((n=>n(o))),e)return e(o)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),s&&document.head.appendChild(c)}},i.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n;i.g.importScripts&&(n=i.g.location+"");var e=i.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var t=e.getElementsByTagName("script");if(t.length)for(var o=t.length-1;o>-1&&(!n||!/^http(s?):/.test(n));)n=t[o--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=n})(),(()=>{var n={806:0};i.f.j=(e,t)=>{var o=i.o(n,e)?n[e]:void 0;if(0!==o)if(o)t.push(o[2]);else{var a=new Promise(((t,i)=>o=n[e]=[t,i]));t.push(o[2]=a);var r=i.p+i.u(e),c=new Error;i.l(r,(t=>{if(i.o(n,e)&&(0!==(o=n[e])&&(n[e]=void 0),o)){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",c.name="ChunkLoadError",c.type=a,c.request=r,o[1](c)}}),"chunk-"+e,e)}};var e=(e,t)=>{var o,a,[r,c,s]=t,d=0;if(r.some((e=>0!==n[e]))){for(o in c)i.o(c,o)&&(i.m[o]=c[o]);s&&s(i)}for(e&&e(t);d<r.length;d++)a=r[d],i.o(n,a)&&n[a]&&n[a][0](),n[a]=0},t=this.webpackChunkperformance_tracker=this.webpackChunkperformance_tracker||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var a={};i.r(a);const r="8.6.0_0f41e77",c="https://t.teads.tv/track",s="https://p.teads.tv/obtr",d="https://p.teads.tv/obwave",u="".concat(s,"/unifiedPixel"),l="https://cm.teads.tv/v2/advertiser",p="tag",v="outbrain",w="dicbo",f="dicbo_id",_="ob_click_id",g="dicbo_fetch",h="teads",m=100,y=132,b=164,C="teads",I=[1,3,4];let E=function(n){return n.Default="all",n.EuZone1="euZone1",n.EuZone2="euZone2",n}({});const k="js-web",A="js-gtm";let O=!1;function S(){return window.advertiser_domain}function P(){return window.teads_buyer_pixel_id}function T(){return!0===window.teads_post_message_event_to_opener}function L(){return!0===window.teads_post_message_event_to_window}function N(n){window.teads_iab_tcf_consent_data=n}function U(){return window.teads_iab_tcf_consent_data}function R(n){window.teads_iab_gpp_consent_data=n}function D(){return window.teads_iab_gpp_consent_data}function x(n){window.teads_usp_consent_data=n}function j(){return window.teads_usp_consent_data}function F(n){window.teads_gtm_consent_data=n}function M(n){window.teads_didomi_consent_data=n}function X(n){window.teads_cookiebot_consent_data=n}function G(n){window.teads_onetrust_consent_data=n}function V(n){window.teads_in_iframe_consent_data=n}function B(n){window.teads_user_centric_consent_data=n}function J(n){window.teads_shopify_consent_data=n}function Z(){return window.teads_gdpr_advertiser}function z(){return window.teads_ccpa_advertiser}function W(){return!0===window.teads_tracking_allowed}function K(n){var e;let{hasConsent:t,type:o}=n;null!==(e=window.teads_consent)&&void 0!==e&&e.has_consent||(window.teads_consent={has_consent:t,consent_handler_type:o},t&&!window.teads_tracking_allowed&&(window.teads_tracking_allowed=!0))}function Y(){var n;return void 0===(null===(n=window.teads_consent)||void 0===n?void 0:n.has_consent)?{hasConsent:!1}:{hasConsent:window.teads_consent.has_consent,type:window.teads_consent.consent_handler_type}}function q(){return![void 0,"timeout"].includes(Y().type)}function H(){var n;return null===(n=window.teads_consent)||void 0===n?void 0:n.has_consent}function $(){var n;return void 0===(null===(n=window.outbrain_consent)||void 0===n?void 0:n.has_consent)?{hasConsent:!1}:{hasConsent:window.outbrain_consent.has_consent,type:window.outbrain_consent.consent_handler_type}}function Q(){return $().hasConsent}function nn(n){window.teads_auction_id=n}function en(){return window.teads_auction_id}function tn(n){const e=window.teads_auction_id_forwarded_by||{};e[n]=!0,window.teads_auction_id_forwarded_by=e}function on(){var n;return null!==(n=window.teads_outbrainAdvertiserIds)&&void 0!==n&&n.length?window.teads_outbrainAdvertiserIds:window.teads_outbrainAdvertiserId?[window.teads_outbrainAdvertiserId]:[]}function an(){var n;return null!==(n=window.teads_outbrainAdvertiserIds)&&void 0!==n&&n.length?window.teads_outbrainAdvertiserIds.join(","):window.teads_outbrainAdvertiserId?window.teads_outbrainAdvertiserId:""}function rn(n){window.teads_session_id=n}function cn(){return window.teads_session_id}function sn(){return window.teads_viewer_id}function dn(){return!0!==window.teads_disable_first_party_cookie&&window.first_party_cookie_allowed}function un(n){window.teads_tracking_events_sent||(window.teads_tracking_events_sent=[]),window.teads_tracking_events_sent.push(n)}const ln=n=>{O=n};function pn(){if(void 0!==window.teads&&void 0!==window.teads.advertiserId){if("number"==typeof window.teads.advertiserId)return window.teads.advertiserId}else{if(void 0===window.teads_cv||void 0===window.teads_cv.advertiserId)return window.teads_adv_id;if("number"==typeof window.teads_cv.advertiserId)return window.teads_cv.advertiserId}}function vn(){return window.teads_env&&[k,A].includes(window.teads_env)?window.teads_env:k}function wn(){return window.teads_zone===E.Default}const fn="https://l.teads.tv/performance/http-source",_n={INTERNAL:"internal",BAD_INTEGRATION:"bad_integration"};function gn(n){return"[object Function]"===toString.call(n)}function hn(n){let e="";const t=function(n){let e=n,t=!1;try{for(let n=0;e.parent.document!==e.document||n<50;n+=1){if(!e.parent.document){t=!0;break}e=e.parent}}catch(n){t=!0}return{topFrame:e,err:t}}(n),{topFrame:o}=t;if(t.err)try{e=o.top.location.href}catch(n){e=o.location.href}else e=o.location.href;return e}function mn(n,e,t){try{const o={errorMessage:n,topUrl:hn(window),userAgent:void 0!==window.navigator&&void 0!==window.navigator.userAgent?window.navigator.userAgent:"",exception:e||"",version:r,type:t||_n.BAD_INTEGRATION};n=JSON.stringify(o)}catch(n){}document.createElement("img").src="".concat(fn,"?").concat(encodeURIComponent(n))}function yn(n,e,t,o){try{(new Image).src="".concat(s,"/log?clickId=").concat(o||"","&eventName=").concat(t||"")+"&msg=".concat(encodeURIComponent('{"error":"LOAD", "teadsApiVersion": '.concat(r,', "marketerID": ').concat(an(),', \n        "referrer": ').concat(document.URL,', "pRef": ').concat(document.referrer,', "extra": {"name":"').concat(n.name,'","line":"').concat(n.lineNumber||n.line,'","script":"').concat(n.fileName||n.sourceURL||n.script,'","stack":"').concat(n.stackTrace||n.stack,'","errorMessage":"').concat(n.message,'", "message":"').concat(e,'"}}')))}catch(n){}}function bn(n){const e=["account","password","pass","secret","secretkey","username","user","login","ordernumber","orderid","email","mail","user.email","user.password","user.name","user.mail","user.lastname","user.firstname","user.phone","user.phonenumber","lastname","firstname","name","address","phonenumber","phone","client_secret","guid"];if(""!==n){const t=n.split("?").length>1?n.split("?")[1]:void 0;if(void 0!==t){let o="".concat(n.split("?")[0],"?");const i=t.split("&");for(let n=0;n<i.length;n+=1){const t=i[n].split(/=(.+)/);o="".concat(o+(0===n?"":"&")+t[0],"=").concat(e.indexOf(t[0])>=0?"XXXXXXXX":t[1])}n=o}}return n}function Cn(n){try{const e=new RegExp("(?:\\?|&|%3F|%26)auctid(?:=|%3D)([0-9a-zA-Z-_]*)").exec(n);if(e&&e.length>=2)return e[1]}catch(n){mn("Error when extracting Auction ID from url",null==n?void 0:n.message,_n.INTERNAL)}}function In(n,e){var t,o;const i=pn(),a=P(),c=vn(),s=function(n){const e=[];return Object.keys(n).forEach((t=>{e.push("".concat(t,"=").concat(encodeURIComponent(n[t])))})),e.join("&")}(e),d=hn(window),u=function(n){let e=en();if(!e){let t=n;n||(t=hn(window)),e=Cn(t),e&&(nn(e),tn("url"))}return e}(d),l=function(){const n=window.teads_auction_id_forwarded_by;return n?Object.keys(n).join(","):void 0}(),v=cn(),w=sn(),f=U(),_=j(),g=Z(),h=z(),m=bn(d),y=Y();let b="?action=".concat(n,"&env=").concat(encodeURIComponent(c),"&tag_version=").concat(encodeURIComponent(r),"&provider=").concat(p);if(s.length>0&&(b="".concat(b,"&").concat(s)),void 0!==a?b="".concat(b,"&buyer_pixel_id=").concat(encodeURIComponent(a)):void 0!==i&&(b="".concat(b,"&advertiser_id=").concat(encodeURIComponent(i))),b="".concat(b,"&referer=").concat(encodeURIComponent(m)),("pageView"===n||"conversion"===n)&&document.referrer){const n=kn(document.referrer),e=kn(d);""!==n&&""!==e&&n!==e&&(b="".concat(b,"&prev_referrer=").concat(encodeURIComponent(n)))}return void 0!==u&&(b="".concat(b,"&auctid=").concat(u)),void 0!==l&&(b="".concat(b,"&cohort_id=").concat(l)),void 0!==v&&(b="".concat(b,"&user_session_id=").concat(v)),void 0!==w&&(b="".concat(b,"&firstPartyCookieTeadsId=").concat(w)),void 0!==(null==f||null===(t=f.data)||void 0===t?void 0:t.tcString)&&(b="".concat(b,"&gdpr_consent=").concat(f.data.tcString)),null!=g&&g.apply?b="".concat(b,"&gdpr_status=12"):void 0!==(null==g?void 0:g.apply)&&(b="".concat(b,"&gdpr_status=0")),g&&(void 0!==g.apply&&(b="".concat(b,"&gdpr_apply=").concat(g.apply)),void 0!==g.teadsConsent&&(b="".concat(b,"&gtc=").concat(g.teadsConsent)),void 0!==g.isServiceSpecific&&(b="".concat(b,"&gdpr_is_service_specific=").concat(g.isServiceSpecific)),void 0!==g.cmpId&&(b="".concat(b,"&gdpr_cmp_id=").concat(g.cmpId)),void 0!==g.apiVersion&&(b="".concat(b,"&gdpr_api_version=").concat(g.apiVersion))),void 0!==(null==_||null===(o=_.data)||void 0===o?void 0:o.usPrivacy)&&(b="".concat(b,"&ccpa_consent=").concat(_.data.usPrivacy)),h&&(void 0!==h.apply&&(b="".concat(b,"&ca=").concat(h.apply)),void 0!==h.teadsConsent&&(b="".concat(b,"&ctc=").concat(h.teadsConsent))),y&&void 0!==y.type&&(b="".concat(b,"&hasConsent=").concat(y.hasConsent),b="".concat(b,"&cht=").concat(y.type)),b}const En=n=>(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode).insertBefore(n,null);function kn(n){try{return new URL(n).hostname}catch(n){return""}}const An={auctionId:{key:"tfpai",maxAge:2592e3,isJson:!0},sessionId:{key:"tfpsi",maxAge:1800,isJson:!1},viewerId:{key:"tfpvi",maxAge:7776e3,isJson:!1}};function On(n){try{Un(n,"",S(),0,"/","none",!0)}catch(e){mn('Error while deleting cookie on domain with key "'.concat(n,'"'),null==e?void 0:e.message,_n.INTERNAL)}}function Sn(n,e,t){try{Un(n,e,S(),t,"/","none",!0)}catch(e){mn('Error while setting cookie on domain with key "'.concat(n,'"'),null==e?void 0:e.message,_n.INTERNAL)}}function Pn(n){const e="".concat(n,"="),t=document.cookie.split(";");for(let n=0;n<t.length;n+=1)if(t[n]=t[n].trim(),0===t[n].indexOf(e))return t[n].substring(e.length,t[n].length)}function Tn(){let n=Pn(An.auctionId.key);try{n?(JSON.parse(atob(n)),n=atob(n)):n="{ }"}catch(e){n='{"'.concat(h,'":"').concat(n,'"}')}return n}function Ln(){const n=Tn(),e=en();if(dn()&&e)try{const t=JSON.parse(n);t[h]=e,Sn(An.auctionId.key,btoa(JSON.stringify(t)),An.auctionId.maxAge)}catch(n){console.log(n),mn("Error while updating auction ID in first-party cookie",null==n?void 0:n.message,_n.INTERNAL)}}function Nn(){const n=cn();dn()&&n&&Sn(An.sessionId.key,n,An.sessionId.maxAge)}function Un(n,e,t,o,i,a,r){let c="".concat(n,"=").concat(e);i&&(c+=";path=".concat(i)),"number"==typeof o&&(c+=";max-age=".concat(o)),t&&(c+=";domain=.".concat(t)),a&&(c+=";samesite=".concat(a)),r&&(c+=";secure"),document.cookie=c}function Rn(n){try{const e=Pn(n.key);if(!e)return"";if(!n.isJson)return e;try{return JSON.parse(atob(e))[h]}catch(n){return e}}catch(e){mn('Error while reading first-party cookie with key "'.concat(n.key,'"'),null==e?void 0:e.message,_n.INTERNAL)}return""}const Dn={PIXEL_LOADED:"TEADS_PIXEL_LOADED",PIXEL_DEBUG:"TEADS_PIXEL_DEBUG",PIXEL_EVENT:"TEADS_PIXEL_EVENT",SDK_PARAMETERS:"TEADS_SDK_PARAMETERS",ASK_PIXEL_INFO:"TEADS_ASK_PIXEL_INFO",PIXEL_INFO:"TEADS_PIXEL_INFO",CONSENT_INFO_LOADED:"TEADS_CONSENT_INFO_LOADED"};function xn(n){var e,t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:n,id:null===(e=window)||void 0===e?void 0:e.name,ts:Date.now(),host:null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.host,...o}}function jn(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";try{var o,i;const a=(null===(o=window)||void 0===o||null===(o=o.opener)||void 0===o?void 0:o.top)||(null===(i=window)||void 0===i?void 0:i.opener);gn(a.postMessage)&&a.postMessage(xn(n,e),t)}catch(n){}}function Fn(n){var e;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";if(gn(null===(e=window)||void 0===e?void 0:e.postMessage))try{window.postMessage(xn(n,t),o)}catch(n){}}function Mn(n){var e,t,o,i,a;null!==(e=window)&&void 0!==e&&e.opener&&((null==n||null===(o=n.data)||void 0===o?void 0:o.type)===Dn.PIXEL_DEBUG&&(window.teads_post_message_event_to_opener=true),(null==n||null===(i=n.data)||void 0===i?void 0:i.type)===Dn.SDK_PARAMETERS&&null!=n&&null!==(a=n.data)&&void 0!==a&&a.teadsClickId&&(nn(n.data.teadsClickId),tn("postMessage"),Ln())),(null==n||null===(t=n.data)||void 0===t?void 0:t.type)===Dn.ASK_PIXEL_INFO&&(Fn(Dn.PIXEL_INFO,{buyerPixelId:P(),advertiserId:pn(),trackingAllowed:W(),firstPartyCookieAllowed:dn(),gdprAdvertiser:Z(),ccpaAdvertiser:z(),advertiserDomain:S(),auctionId:en(),env:vn(),iabData:U(),uspData:j(),gppIabData:D(),referer:bn(hn(window)),trackingEventsSent:window.teads_tracking_events_sent||[],request:n.data,isCompatibleCMPDetected:q(),hasConsent:Y().hasConsent}),window.teads_post_message_event_to_window=!0)}function Xn(n){!function(n){const e=document.createElement("img");e.width=0,e.height=0,e.alt="",e.style.position="absolute",e.src=n,En(e)}(n),T()&&jn(Dn.PIXEL_EVENT,{trackingUrl:n}),L()&&Fn(Dn.PIXEL_EVENT,{trackingUrl:n})}async function Gn(n,e,t){try{await fetch(n,{browsingTopics:!0,cache:"no-cache",credentials:"include",keepalive:!0,...t}).then((()=>{T()&&jn(Dn.PIXEL_EVENT,{trackingUrl:n}),L()&&Fn(Dn.PIXEL_EVENT,{trackingUrl:n})}))}catch(t){!1===e?mn("Unable to fire a log using fetch API",null==t?void 0:t.message,_n.BAD_INTEGRATION):Xn(n)}}function Vn(n,e,t){let o,i,a=t;for(;!o;){try{if("function"==typeof a[n]){i=a[n],o=a;break}}catch(n){}try{if(a.frames[e]){o=a;break}}catch(n){}if(a===t.top)break;a=a.parent}return{cmpFrame:o,cmpFunction:i}}const Bn={listeners:{},on(n,e){return-1===Object.keys(this.listeners).indexOf(n)&&(this.listeners[n]=[]),this.listeners[n].push(e),()=>{this.listeners[n]=this.listeners[n].filter((n=>n!=e))}},dispatch(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];-1!==Object.keys(this.listeners).indexOf(n)&&this.listeners[n].forEach((n=>n.call(null,...t)))}};function Jn(n){if(null==n||!n.consents)return!0;for(const e of I)if(!1===n.consents[e])return!1;return!0}function Zn(n){n.type&&!zn(n.type)||(function(n){"Teads"===n.vendor?K(n):("Outbrain"===n.vendor||K(n),function(n){var e;let{hasConsent:t,type:o}=n;null!==(e=window.outbrain_consent)&&void 0!==e&&e.has_consent||(window.outbrain_consent={has_consent:t,consent_handler_type:o})}(n))}(n),"Teads"!==n.vendor&&n.hasConsent&&Bn.dispatch("hasObConsent"))}function zn(n){switch(window.teads_zone){case E.EuZone1:return!0;case E.EuZone2:return!["ccpa","gpp"].includes(n);default:return["ccpa","gpp","tcf","shopify","timeout"].includes(n)}}function Wn(n,e){let t=!1;function o(t,o){o?!1!==t.gdprApplies&&"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(function(n){var e,t;null!==(e=n.vendor)&&void 0!==e&&e.consents&&!n.vendor.consents[y]||!Jn(n.purpose)?Zn({hasConsent:!1,vendor:"Teads"}):Zn({hasConsent:!0,type:"tcf",vendor:"Teads"}),null!==(t=n.vendor)&&void 0!==t&&t.consents&&!n.vendor.consents[b]||!Jn(n.purpose)?Zn({hasConsent:!1,vendor:"Outbrain"}):Zn({hasConsent:!0,type:"tcf",vendor:"Outbrain"})}(t),n(t)):e("CMP unable to register callback function. Please check CMP setup.")}const i="__tcfapi",a={};function r(n){const e="".concat(i,"Return"),t="string"==typeof n.data&&"".concat(n.data).includes(e)?JSON.parse(n.data):n.data;if(t[e]&&t[e].callId){const n=t[e];void 0!==a[n.callId]&&a[n.callId](n.returnValue,n.success)}}function c(n,e,o){const c="".concat(i,"Call");window[i]=(n,t,o,i)=>{const r="".concat(Math.random()),s={[c]:{command:n,version:t,parameter:i,callId:r}};a[r]=o,e.postMessage(s,"*")},t||window.addEventListener("message",r,!1),window[i](n,2,o)}const{cmpFrame:s,cmpFunction:d}=Vn("__tcfapi","__tcfapiLocator",window);return!!s&&(new Promise(((n,e)=>{gn(d)?d("ping",2,(()=>n())):c("ping",s,(()=>n())),setTimeout((()=>e()),m)})).catch((()=>e("Unable to ping the CMP"))),t||(t=!0,gn(d)?d("addEventListener",2,o):c("addEventListener",s,o)),!0)}function Kn(n,e){const t={};function o(n){const e=n&&n.data&&n.data.__uspapiReturn;e&&e.callId&&void 0!==t[e.callId]&&(t[e.callId](e.returnValue,e.success),delete t[e.callId])}let i=!1;function a(n,e,a){i||(window.addEventListener("message",o,!1),i=!0),function(n,o,i){const a="".concat(Math.random()),r={__uspapiCall:{command:n,version:1,callId:a}};t[a]=i,e.postMessage(r,"*")}(n,0,a)}const{cmpFrame:r,cmpFunction:c}=Vn("__uspapi","__uspapiLocator",window);if(!r)return!1;new Promise(((n,e)=>{gn(c)?c("getUSPData",1,(()=>n())):a("getUSPData",r,(()=>n())),setTimeout((()=>e()),m)})).catch((()=>e("Unable to ping the USP")));const s=function(){const t={};return{consentDataCallback:(o,i)=>{i&&o.uspString&&(t.usPrivacy=o.uspString),function(n,e){var t;null!=n&&n.uspString?e&&(t=n.uspString,!["1NYN","1YYN"].some((n=>n===(null==t?void 0:t.toUpperCase()))))?Zn({hasConsent:!0,type:"ccpa"}):Zn({hasConsent:!1}):Zn({hasConsent:wn(),type:wn()?"ccpa":void 0})}(o,i),t.usPrivacy?n(t):e("Unable to get USP consent string.")}}}();return gn(c)?c("getUSPData",1,s.consentDataCallback):a("getUSPData",r,s.consentDataCallback),!0}let Yn=function(n){return n.Ping="ping",n.AddEventListener="addEventListener",n.RemoveEventListener="removeEventListener",n}({}),qn=function(n){return n.Ready="ready",n.NotReady="Not ready",n}({});function Hn(n,e,t){return new Promise(((o,i)=>{if(void 0!==n)switch(e){case Yn.Ping:n(e,((n,e)=>{e?o(n):i(new Error("Ping command failed"))}));break;case Yn.AddEventListener:n(e,((n,e)=>{e?o(n):i(new Error("AddEventListener command failed"))}));break;case Yn.RemoveEventListener:"number"==typeof t&&n(e,t,(()=>{}));break;default:i(new Error("Invalid GPP command"))}}))}const $n=n=>n===qn.Ready,Qn=n=>null!=n;class ne{constructor(){var n,e,t;n=this,t=!1,(e=function(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==typeof e?e:e+""}(e="isGppAvailable"))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t;const{cmpFunction:o,cmpFrame:i}=Vn("__gpp","__gppLocator",window);gn(o)?this.gpp=o:i&&(this.gpp=ne.buildCmpFunctionWithPostMessage(i)),this.isGppAvailable="function"==typeof this.gpp}static buildCmpFunctionWithPostMessage(n){const e={},t="__gpp",o="".concat(t,"Call");return n.addEventListener("message",(function(n){const o="".concat(t,"Return"),i="string"==typeof n.data&&"".concat(n.data).includes(o)?JSON.parse(n.data):n.data;if(i[o]&&i[o].callId){const n=i[o];"function"==typeof e[n.callId]&&e[n.callId](n.returnValue,n.success)}}),!1),(t,i,a)=>{const r="".concat(Math.random()),c={[o]:{command:t,version:"1.1",callId:r}};t===Yn.RemoveEventListener?e[r]=a:e[r]=i,n.postMessage(c,"*")}}async retrieveConsent(n,e){if(this.isGppAvailable)try{let t;const o=await Promise.race([Hn(this.gpp,Yn.Ping),new Promise(((n,o)=>{t=setTimeout((()=>{e("GPP ping timed out"),o("Unable to ping the GPP CMP")}),m)}))]);if(clearTimeout(t),$n(o.signalStatus)&&Qn(o.gppString))return n({applicableSections:o.applicableSections,gppString:o.gppString}),void this.parseGppString(o,n,e);const i=await Hn(this.gpp,Yn.AddEventListener);Hn(this.gpp,Yn.RemoveEventListener,i.listenerId);const{pingData:a}=i;if(!$n(a.signalStatus))return void e("CMP is expecting changes, consent data is not available yet");if(!Qn(a.gppString))return void e("Expected gppString to be a string but got null or undefined");const r=i.pingData;n({applicableSections:r.applicableSections,gppString:r.gppString}),this.parseGppString(r,n,e)}catch(n){e("Error during GPP command call: ".concat(n))}}async parseGppString(n,e,t){if(!this.iabLib)try{this.iabLib=await i.e(854).then(i.bind(i,854))}catch(n){return Zn({hasConsent:wn(),type:wn()?"gpp":void 0}),void t("Failed to load iab library: ".concat(n))}const o=this.parseString(n.gppString,"Teads");Zn({hasConsent:null!=o?o:wn(),type:o?"gpp":void 0,vendor:"Teads"});const a=this.parseString(n.gppString,"Outbrain");Zn({hasConsent:null!=a?a:wn(),type:a?"gpp":void 0,vendor:"Outbrain"}),e({applicableSections:n.applicableSections,gppString:n.gppString})}parseString(n,e){try{return this.hasConsent(n,e)}catch(t){if(n.startsWith("D"))try{const t=n.substring(n.indexOf("~")+1);return this.hasConsent(t,e)}catch(n){}return}}hasConsent(n,e){const t=this.iabLib.TCString.decode(n),o="Teads"===e?y:b;if(t.vendorConsents.has(o))return t.purposeConsents.has(1)}retrieveConsentWithoutHolding(n,e){let t=!1,o=!1;this.retrieveConsent((e=>{o||(t=!0,n(e))}),(n=>{t||(o=!0,e(n))}))}}function ee(n,e){const t=new ne;return t.isGppAvailable&&t.retrieveConsentWithoutHolding(n,e),t.isGppAvailable}function te(n,e){const t=["ad_storage","ad_user_data"];let o=!1;function i(){return t.every((n=>{var e;return!0===(null===(e=window.google_tag_data)||void 0===e||null===(e=e.ics)||void 0===e||null===(e=e.entries[n])||void 0===e?void 0:e.update)}))}if(window.google_tag_data){var a;const c=window.google_tag_data;return null!=c&&null!==(a=c.ics)&&void 0!==a&&a.entries?(Zn({hasConsent:i(),type:"gtm"}),o||i()||null===(r=window.google_tag_data)||void 0===r||null===(r=r.ics)||void 0===r||!r.addListener||(o=!0,window.google_tag_data.ics.addListener(t,(function(){Zn({hasConsent:i(),type:"gtm"}),n({hasConsent:i()})}))),n({hasConsent:i()}),!0):(e("Unable to get consent data from GTM"),!1)}var r;return!1}function oe(n){if(window.didomiState){const e=window.didomiState;if(!e)return!1;e.didomiPurposesConsent||(Zn({hasConsent:!1,type:"di"}),n({hasConsent:!1}));const t=e.didomiPurposesConsent.indexOf("cookies")>-1&&e.didomiPurposesConsent.indexOf("measure_ad_performance")>-1;return Zn({hasConsent:t,type:"di"}),n({hasConsent:t}),!0}return!1}function ie(n){let e=!1;if(window.Cookiebot){const i=window.Cookiebot;if(i){var t,o;const a=null!==(t=null===(o=i.consent)||void 0===o?void 0:o.marketing)&&void 0!==t?t:wn();return Zn({hasConsent:a,type:"cb"}),e||(e=!0,window.addEventListener("CookiebotOnAccept",(()=>{Zn({hasConsent:!0,type:"cb"})}),!1)),n({hasConsent:a}),!0}return!1}return!1}function ae(n){let e=!1;function t(){var n,e;const t=null===(n=window.OnetrustActiveGroups)||void 0===n?void 0:n.toUpperCase();return null!==(e=(null==t?void 0:t.indexOf("C0004"))>-1)&&void 0!==e?e:wn()}var o,i;return!!window.OnetrustActiveGroups&&(!!(null===(o=window.OnetrustActiveGroups)||void 0===o?void 0:o.toUpperCase())&&(t()?(Zn({hasConsent:!0,type:"ot"}),n({hasConsent:!0})):"OneTrust"in window?!e&&null!==(i=window.OneTrust)&&void 0!==i&&i.OnConsentChanged&&(e=!0,window.OneTrust.OnConsentChanged((()=>{Zn({hasConsent:t(),type:t()?"ot":void 0}),n({hasConsent:t()})}))):Zn({hasConsent:wn()}),n({hasConsent:t()}),!0))}function re(n){return!!function(){const n=decodeURIComponent(document.location.href.toLowerCase());return n.includes("gcs=g111")||n.includes("gcs=g11-")||n.includes("gcs=g1-1")}()&&(Zn({hasConsent:!0,type:"g111"}),n({hasConsent:!0}),!0)}function ce(n){if(!window.UC_UI)return!1;let e=!1;function t(){Zn({hasConsent:o(),type:"uc"}),n({hasConsent:o()})}function o(){const n=window.UC_UI;return n.areAllConsentsAccepted()||!(null===(e=n.getServicesBaseInfo().find((n=>{var e;return(null===(e=n.name)||void 0===e?void 0:e.toLowerCase())===C})))||void 0===e||null===(e=e.consent)||void 0===e||!e.status);var e}return e||(e=!0,window.addEventListener("UC_UI_CMP_EVENT",(function(n){const{type:e}=n.detail;["ACCEPT_ALL","DENY_ALL","SAVE"].includes(e)&&t()}))),t(),!0}function se(n){function e(){var n;return!(null===(n=window.teads_e)||void 0===n||!n.some((n=>{const{shopifyEvent:e}=n;return"boolean"!=typeof e&&!!e&&function(n){let{analyticsProcessingAllowed:e,marketingAllowed:t,saleOfDataAllowed:o}=n;return e&&t&&o}(e)})))}return!!function(){const n=document.cookie,e=!!n&&["_shopify_ga","_shopify_y","_shopify_s","_shopify_fs","_shopify_sa_p","_shopify_sa_t","_shopify_country","_shopify_essential"].some((e=>n.includes(e))),t=document.location.href.toLowerCase().includes("/custom/web-pixel-");return e||t}()&&(null!==(t=window.teads_e)&&void 0!==t&&t.length&&window.teads_e.some((n=>{const{shopifyEvent:e}=n;return!!e&&"boolean"!=typeof e}))?(Zn({hasConsent:e(),type:"shopify"}),n({hasConsent:e()}),!0):(Zn({hasConsent:wn(),type:"shopify"}),n({hasConsent:wn()}),!0));var t}function de(n,e,t){return new Promise((o=>{n((n=>{e({data:n}),o({type:t,cmpFound:!0})}),(n=>{e({error:n}),o({type:t,cmpFound:!0})}))||o({type:t,cmpFound:!1})}))}async function ue(){return Promise.all([de(Wn,N,"tcf"),de(Kn,x,"ccpa"),de(ee,R,"gpp"),de(ie,X,"cb"),de(te,F,"gtm"),de(oe,M,"di"),de(ae,G,"ot"),de(ce,B,"uc"),de(se,J,"shopify"),de(re,V,"g111")]).then((n=>{n.filter((n=>zn(n.type))).every((n=>!n.cmpFound))&&Zn({hasConsent:wn(),type:"timeout"})}))}function le(n,e){return 0===n.indexOf(e+"=")}const pe="PAGE_VIEW",ve="AUTO_NAVIGATE_ANOTHER_SITE",we="AUTO_TAB_LOST_FOCUS",fe="AUTO_10_SEC_ON_PAGE";function _e(n){var e,t;return null===(e=(t=window).teads_setOutbrainCookieOnTeads)||void 0===e?void 0:e.call(t,"".concat(f,"=").concat(encodeURIComponent(JSON.stringify(n))))}function ge(){try{var n,e;const t=null===(n=(e=window).teads_getOutbrainCookieFromTeads)||void 0===n?void 0:n.call(e);return t?JSON.parse(decodeURIComponent(t.split("=")[1])):{}}catch(n){return mn("Error while parsing Outbrain dicbo ID cookie",null==n?void 0:n.message),yn(n,"Error while parsing Outbrain dicbo ID cookie"),{}}}function he(){try{return ge()[f]}catch(n){return mn("Error while parsing Outbrain click ID cookie",null==n?void 0:n.message),void yn(n,"Error while parsing Outbrain click ID cookie")}}function me(n){if("optout"!==n)if("NoClickId"===n)Q()&&function(){const n=ge();n[g]=Date.now(),_e(n)}();else{n&&(n=n.replace(/#/g,""));const e=ge();e[f]=n,_e(e)}}function ye(){const n=$();return{cht:n.type,au:!n.hasConsent,referrer:document.URL,zone:window.teads_zone,bust:Math.random().toString().replace(".","")}}async function be(n,e,t){if(!Q())return;const o={marketerId:e.join(","),name:n,dl:hn(window),pRef:document.referrer,...t,...ye()},i=he();i&&(o[_]=i),Object.keys(o).forEach((n=>(void 0===o[n]||""===o[n])&&delete o[n])),Gn("".concat(u,"?").concat(function(n){const e=new URLSearchParams;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.append(t,String(n[t]));return e.toString()}(o)),!0,{referrerPolicy:"no-referrer-when-downgrade",eventSourceEligible:!1,triggerEligible:!0})}async function Ce(n){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Q()&&(e||function(n){return!!n.conversionType&&["AddToCart","AddToWishlist","CompleteRegistration","InitiateCheckout","Lead","Purchase","ViewContent","Search"].includes(n.conversionType)}(n))){const e={...n};n.price&&(e.orderValue="".concat(n.price)),"Purchase"===n.conversionType&&(e.orderId=n.name),delete e.conversionType,delete e.shopifyEvent,delete e.name;const t=on();await be(n.conversionType,t,e)}}function Ie(n,e,t){"track"===n&&e!==pe&&Ce({conversionType:e,...t},!0).catch((n=>{mn("Error while sending Outbrain event",null==n?void 0:n.message),yn(n,"Error while sending Outbrain event",e,he())}))}let Ee=!1;const ke={zone:E.EuZone1},Ae={conversionType:"conversion_type",price:"aepp",currency:"aepc",name:"aepn",product_name:"aeppn"};async function Oe(n){if(W()){const e=function(n,e){const t={};return Object.keys(n).forEach((e=>{const o=e,i=n[e];Object.prototype.hasOwnProperty.call(Ae,o)?t[Ae[o]]=i+"":mn("Invalid parameter specified in event: ".concat(o))})),t}(n),t=c+In("conversion",e);Xn(t),un(t),Ce(n).catch((e=>{yn(e,"Error while sending event based conversion",n.conversionType,he())}))}else Q()&&Ce(n).catch((e=>{yn(e,"Error while sending event based conversion",n.conversionType,he())}))}async function Se(){const n=[];for(;null!==(e=window.teads_e)&&void 0!==e&&e.length;){var e;n.push(Oe(window.teads_e.shift()))}try{return await Promise.all(n)}catch(n){mn("Error while sending event based conversion",null==n?void 0:n.message,_n.INTERNAL)}}const Pe=n=>{const{auctionId:e,gdpr:t,ccpa:o,firstPartyCookieAllowed:i,domain:a,trackingAllowed:r,outbrainAdvertiserId:c,outbrainAdvertiserIds:s}=n;var d,u,l,p;d=i,window.first_party_cookie_allowed=d,u=r,window.teads_tracking_allowed=u,t&&(l=t,window.teads_gdpr_advertiser=l),o&&function(n){window.teads_ccpa_advertiser=n}(o),a&&(p=a,window.advertiser_domain=p),e&&(nn(e),tn("url")),c&&function(n){window.teads_outbrainAdvertiserId=n}(c);const v=null==s?void 0:s.map((n=>n.trim())).filter((n=>!!n));null!=v&&v.length&&function(n){window.teads_outbrainAdvertiserIds=n}(v)},Te=n=>{if(n){const n=Rn(An.auctionId);if(n){const e=en();e&&e!==n||tn("cookie"),e||nn(n)}return Ln(),n}return On(An.auctionId.key),null},Le=(n,e,t,o)=>{if(n){const n=Rn(An.sessionId);e&&t&&e!==t?rn(o):n?rn(n):o&&rn(o),Nn()}else o&&rn(o),On(An.sessionId.key)},Ne=(n,e)=>{if(e&&n){const n=Rn(An.viewerId);t=n||e,window.teads_viewer_id=t,function(){const n=sn();dn()&&n&&Sn(An.viewerId.key,n,An.viewerId.maxAge)}()}else On(An.viewerId.key);var t};let Ue=!1;async function Re(){try{const n=await async function(){const n=hn(window),e=function(n){var e,t,o;const i=pn(),a=P();let r="referer=".concat(encodeURIComponent(n));void 0!==a?r+="&buyer_pixel_id=".concat(encodeURIComponent(a)):void 0!==i&&(r+="&advertiser_id=".concat(encodeURIComponent(i)));const c=U();var s,d;c&&(void 0!==(null==c||null===(s=c.data)||void 0===s?void 0:s.gdprApplies)&&(r+="&gdpr_applies=".concat(encodeURIComponent(c.data.gdprApplies))),null!=c&&null!==(d=c.data)&&void 0!==d&&d.tcString&&(r+="&gdpr_consent=".concat(encodeURIComponent(c.data.tcString))),null!=c&&c.error&&(r+="&gdpr_error=".concat(encodeURIComponent(c.error))));const u=j();null!=u&&null!==(e=u.data)&&void 0!==e&&e.usPrivacy&&(r+="&ccpa_consent=".concat(encodeURIComponent(u.data.usPrivacy))),null!=u&&u.error&&(r+="&ccpa_error=".concat(encodeURIComponent(u.error)));const l=D();null!=l&&null!==(t=l.data)&&void 0!==t&&t.applicableSections&&(r+="&gpp_applicable_sections=".concat(encodeURIComponent(l.data.applicableSections.join(",")))),null!=l&&null!==(o=l.data)&&void 0!==o&&o.gppString&&(r+="&gpp_consent=".concat(encodeURIComponent(l.data.gppString))),null!=l&&l.error&&(r+="&gpp_error=".concat(encodeURIComponent(l.error)));const p=function(){const n=Pn("optout");if(n)return"1"===n}();void 0!==p&&(r+="&web_opt_out=".concat(encodeURIComponent(p)));const v=window.teads_gtm_consent_data;v&&(v.data&&(r+="&gtm_consent=".concat(encodeURIComponent(v.data.hasConsent))),v.error&&(r+="&gtm_error=".concat(encodeURIComponent(v.error))));const w=window.teads_didomi_consent_data;w&&(w.data&&(r+="&didomi_consent=".concat(encodeURIComponent(w.data.hasConsent))),w.error&&(r+="&didomi_error=".concat(encodeURIComponent(w.error))));const f=window.teads_cookiebot_consent_data;f&&(f.data&&(r+="&cookiebot_consent=".concat(encodeURIComponent(f.data.hasConsent))),f.error&&(r+="&cookiebot_error=".concat(encodeURIComponent(f.error))));const _=window.teads_onetrust_consent_data;return _&&(_.data&&(r+="&onetrust_consent=".concat(encodeURIComponent(_.data.hasConsent))),_.error&&(r+="&onetrust_error=".concat(encodeURIComponent(_.error)))),r}(n);try{const n=await fetch("".concat(l,"?").concat(e),{cache:"no-cache"});if(200===(null==n?void 0:n.status)){var t,o,i,a,r,c,s,d,u,p;const e=await n.json(),l=null==e||null===(t=e.outbrain_advertiser_ids)||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,(n=>n.trim())).filter((n=>n.length>0));return{trackingAllowed:!1!==(null==e?void 0:e.tracking_allowed),firstPartyCookieAllowed:!0===(null==e?void 0:e.first_party_cookie_allowed),sessionId:null==e?void 0:e.session_id,auctionId:null==e?void 0:e.auction_id,viewerId:null==e?void 0:e.user_id,domain:null==e?void 0:e.domain,ccpa:null!=e&&e.ccpa?{apply:null===(i=e.ccpa)||void 0===i?void 0:i.apply,teadsConsent:null===(a=e.ccpa)||void 0===a?void 0:a.teads_consent}:void 0,gpp:null!=e&&e.gpp?{apply:null===(r=e.gpp)||void 0===r?void 0:r.apply,teadsConsent:null===(c=e.gpp)||void 0===c?void 0:c.teads_consent}:void 0,gdpr:null!=e&&e.gdpr?{apply:null===(s=e.gdpr)||void 0===s?void 0:s.apply,teadsConsent:null===(d=e.gdpr)||void 0===d?void 0:d.teads_consent,apiVersion:null===(u=e.gdpr)||void 0===u?void 0:u.api_version,cmpId:null===(p=e.gdpr)||void 0===p?void 0:p.cmp_id,isServiceSpecific:null==e?void 0:e.gdpr.is_service_specific}:void 0,outbrainAdvertiserId:null==e?void 0:e.outbrain_advertiser_id,outbrainAdvertiserIds:null!=l&&l.length?l:void 0}}}catch(n){mn("Error while trigger API to know advertiser information",null==n?void 0:n.message,_n.INTERNAL)}const v=Cn(n);return v?{trackingAllowed:!0,firstPartyCookieAllowed:!1,auctionId:v}:{trackingAllowed:!0,firstPartyCookieAllowed:!1}}(),{sessionId:e,auctionId:t,viewerId:o}=n;Pe(n);const i=on();i.length&&(window.teads_obEvent=Ie,De(i),Ue||Q()||(Ue=!0,Bn.on("hasObConsent",(()=>{De(i)}))));const a=dn(),r=Te(a);Le(a,r,t,e),Ne(a,o),L()&&Fn(Dn.CONSENT_INFO_LOADED,{trackingAllowed:W(),firstPartyCookieAllowed:dn(),gdprAdvertiser:Z(),ccpaAdvertiser:z(),advertiserDomain:S(),auctionId:en(),iabData:U(),uspData:j(),isCompatibleCMPDetected:q(),hasConsent:Y().hasConsent})}catch(n){mn("Error while initializing advertiser",null==n?void 0:n.message,_n.INTERNAL)}}function De(n){var e,t;null===(e=async function(){if(!Q())return;window.teads_setObCachedClickId=me;const n=function(n){let e=hn(window);e.indexOf("#")>-1&&(e=e.substring(0,e.indexOf("#")));const t=(e.split("?")[1]||"").split(/&/);for(let e=0;e<t.length;e++)if(le(t[e],n))return t[e].split("=")[1].split("#")[0];return""}(w);n?window.teads_setObCachedClickId(n):!he()&&function(){try{const n=ge()[g];if(!n)return!0;const e=parseInt(n);return!!isNaN(e)||Date.now()-e>3e5}catch(n){return mn("Error while parsing Outbrain click ID cookie",null==n?void 0:n.message),yn(n,"Error while parsing Outbrain click ID cookie"),!0}}()&&function(){const n=document.createElement("script"),e=an();n.src="".concat(s,"/cachedClickId?marketerId=").concat(e,"&fromTeads=true"),document.body.appendChild(n)}()}())||void 0===e||e.catch(),null===(t=be(pe,n,{pld:Math.floor(performance.now())}))||void 0===t||t.catch((n=>{mn("Error while firing Outbrain Page View pixel",null==n?void 0:n.message),yn(n,"Error while firing Outbrain Page View pixel",pe,he())})),function(n){Q()&&null!=n&&n.length&&n.forEach((n=>{try{const e=document.createElement("script");e.src="".concat(d,"/mtWavesBundler/handler/").concat(n,"/true"),document.body.appendChild(e)}catch(n){yn(n,"Error while loading OB waves")}}))}(n),Q()&&he()&&!Ee&&(Ee=!0,setTimeout((()=>{Ce({conversionType:fe},!0)}),1e4),document.addEventListener("visibilitychange",(()=>{document.hidden&&Ce({conversionType:we})})),window.addEventListener("beforeunload",(()=>{Ce({conversionType:ve})})))}const xe=async()=>{const n=c+In("pageView",{});Xn(n),un(n),await Gn(c+In("browser-topics",{}),!1)},je=()=>{const n=In("timeSpent",{}),e=c+n;ln(!1),document.addEventListener("visibilitychange",(n=>()=>{"hidden"===document.visibilityState&&!0!==O&&(ln(!0),async function(n,e){try{const e=navigator.sendBeacon&&navigator.sendBeacon.bind(navigator);if(!e||!e(n))throw new Error("Beacon not sent");T()&&jn(Dn.PIXEL_EVENT,{trackingUrl:n}),L()&&Fn(Dn.PIXEL_EVENT,{trackingUrl:n})}catch(e){await Gn(n,!0)}}(n),Nn(),un(n))})(e))},Fe=()=>{const n=window.teads_e||[];window.teads_e=[],window.teads_e.push=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Array.prototype.push.apply(this,e),async function(){void 0!==window.teads_e?(W()?await Se():async function(){let n=20;const e=setInterval((async()=>{await ue(),W()&&(clearInterval(e),await Se()),n--,0===n&&clearInterval(e)}),500)}(),Nn()):mn("The event queue is not defined.")}(),window.teads_e.length},window.teads_e.push(...n)};async function Me(){if(!wn()){for(;void 0===H();)await ue();if(!0!==H())return}const n=pn(),e=P();"number"!=typeof n&&"number"!=typeof e||(await Re(),await async function(){W()&&(await xe(),await je(),Fe())}())}async function Xe(){try{window.teads_adv_id||Object.defineProperty(window,"teads_adv_id",{set(n){this._teads_adv_id=n,Me()},get(){return this._teads_adv_id},configurable:!0}),window.teads_buyer_pixel_id||Object.defineProperty(window,"teads_buyer_pixel_id",{set(n){this._teads_buyer_pixel_id=n,Me()},get(){return this._teads_buyer_pixel_id},configurable:!0})}catch(n){mn("Error while binding advertiser and pixel ids",null==n?void 0:n.message)}try{window.teads_setOutbrainCookieOnTeads||(window.teads_setOutbrainCookieOnTeads=function(n){const e=Tn(),t=JSON.parse(e);t[v]=n,Sn(An.auctionId.key,btoa(JSON.stringify(t)),An.auctionId.maxAge)}),window.teads_getOutbrainCookieFromTeads||(window.teads_getOutbrainCookieFromTeads=function(){const n=Tn();return JSON.parse(n)[v]})}catch(n){mn("Error while loading Outbrain",null==n?void 0:n.message)}await Me()}return async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{"undefined"!=typeof window&&(window.teads_zone=ke.zone,gn(null===(e=window)||void 0===e?void 0:e.addEventListener)&&(jn(Dn.PIXEL_LOADED),Fn(Dn.PIXEL_LOADED),window.addEventListener("message",Mn)),await new Promise(((e,t)=>{setTimeout((()=>{ue().then((()=>Xe())).then(e).catch(t)}),n>=0?n:0)})))}catch(n){mn("Unhandled exception",null==n?void 0:n.message,_n.INTERNAL),Q()&&an()&&yn(n,"Unhandled exception")}var e}(0),a})()));