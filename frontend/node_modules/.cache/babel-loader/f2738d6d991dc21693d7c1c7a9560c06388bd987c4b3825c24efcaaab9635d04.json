{"ast":null,"code":"var _jsxFileName = \"/Users/eurocare/Downloads/barvihaluxury-main/frontend/src/components/MessagesTab.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { apiFetchJson } from \"../api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst detectMobileView = () => {\n  var _window$screen;\n  if (typeof window === \"undefined\") return false;\n  const viewportWidth = window.innerWidth || document.documentElement.clientWidth || 0;\n  const screenWidth = typeof ((_window$screen = window.screen) === null || _window$screen === void 0 ? void 0 : _window$screen.width) === \"number\" ? window.screen.width : viewportWidth;\n  const effectiveWidth = Math.min(viewportWidth || screenWidth, screenWidth || viewportWidth);\n  const mobileUa = /Android|webOS|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(typeof navigator !== \"undefined\" && navigator.userAgent || \"\");\n  const hasCoarsePointer = typeof window.matchMedia === \"function\" ? window.matchMedia(\"(pointer: coarse)\").matches : false;\n  const noHover = typeof window.matchMedia === \"function\" ? window.matchMedia(\"(hover: none)\").matches : false;\n  const touchPoints = typeof navigator !== \"undefined\" ? Number(navigator.maxTouchPoints || 0) : 0;\n  const touchLikeDevice = hasCoarsePointer || noHover || touchPoints > 1;\n  return effectiveWidth <= 768 || touchLikeDevice && effectiveWidth <= 1024 || mobileUa && effectiveWidth <= 1180;\n};\nconst MessagesTab = () => {\n  _s();\n  var _selectedMessage$mess;\n  const [messages, setMessages] = useState([]);\n  const [selectedMessage, setSelectedMessage] = useState(null);\n  const [replyText, setReplyText] = useState(\"\");\n  const [sending, setSending] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [loadingThread, setLoadingThread] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMobileView, setIsMobileView] = useState(() => detectMobileView());\n  const chatScrollRef = useRef(null);\n  useEffect(() => {\n    loadMessages();\n  }, []);\n  useEffect(() => {\n    if (!selectedMessage) return;\n    const container = chatScrollRef.current;\n    if (!container) return;\n    container.scrollTo({\n      top: container.scrollHeight,\n      behavior: \"smooth\"\n    });\n  }, [selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.id, selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.messages]);\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobileView(detectMobileView());\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  const loadMessages = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await apiFetchJson(\"/api/messages\");\n      const list = Array.isArray(data) ? data : [];\n      const seen = new Set();\n      const deduped = [];\n      for (const item of list) {\n        const key = item.conversationId || item.conversationUrl || item.id || `${item.accountId || \"\"}|${item.sender || \"\"}|${item.adTitle || \"\"}|${item.message || \"\"}|${item.time || \"\"}`;\n        if (seen.has(key)) continue;\n        seen.add(key);\n        deduped.push(item);\n      }\n      setMessages(deduped);\n    } catch (err) {\n      console.error(\"Ошибка загрузки сообщений:\", err);\n      setError(err.message || \"Не удалось загрузить сообщения\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const markAsRead = async messageId => {\n    // Immediately update UI for better responsiveness\n    setMessages(prev => prev.map(msg => msg.id === messageId ? {\n      ...msg,\n      unread: false\n    } : msg));\n    try {\n      await apiFetchJson(`/api/messages/${messageId}/read`, {\n        method: \"PUT\"\n      });\n    } catch (err) {\n      console.error(\"Ошибка при отметке сообщения как прочитанного:\", err);\n      // Optionally revert on error\n    }\n  };\n  const sendReply = async () => {\n    if (!replyText.trim() || !selectedMessage) return;\n    if (!selectedMessage.conversationId && !selectedMessage.conversationUrl && !selectedMessage.sender && !selectedMessage.adTitle) {\n      alert(\"Не найден идентификатор диалога.\");\n      return;\n    }\n    setSending(true);\n    try {\n      const result = await apiFetchJson(\"/api/messages/send\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          accountId: selectedMessage.accountId,\n          conversationId: selectedMessage.conversationId,\n          conversationUrl: selectedMessage.conversationUrl,\n          participant: selectedMessage.sender,\n          adTitle: selectedMessage.adTitle,\n          text: replyText\n        })\n      });\n      if (result.success) {\n        const resolvedConversationId = result.conversationId || selectedMessage.conversationId;\n        const resolvedConversationUrl = result.conversationUrl || selectedMessage.conversationUrl;\n        const latestMessages = result.messages || [];\n        const lastMessage = latestMessages[latestMessages.length - 1];\n        if (lastMessage) {\n          setMessages(prev => prev.map(msg => msg.id === selectedMessage.id ? {\n            ...msg,\n            message: lastMessage.text,\n            date: lastMessage.date,\n            time: lastMessage.time,\n            conversationId: resolvedConversationId || msg.conversationId,\n            conversationUrl: resolvedConversationUrl || msg.conversationUrl\n          } : msg));\n        }\n        setSelectedMessage(prev => ({\n          ...prev,\n          messages: latestMessages,\n          conversationId: resolvedConversationId,\n          conversationUrl: resolvedConversationUrl\n        }));\n        setReplyText(\"\");\n      } else {\n        alert(\"Ошибка: \" + (result.error || \"Не удалось отправить\"));\n      }\n    } catch (err) {\n      console.error(\"Ошибка отправки:\", err);\n      alert(\"Ошибка при отправке сообщения\");\n    } finally {\n      setSending(false);\n    }\n  };\n  const getTimeAgo = (date, time) => {\n    if (!date && !time) return \"\";\n    const now = new Date();\n    try {\n      const messageDate = new Date(date + \"T\" + (time || \"00:00\"));\n      if (isNaN(messageDate.getTime())) return time || date || \"\";\n      const diffHours = Math.floor((now - messageDate) / (1000 * 60 * 60));\n      if (diffHours < 1) return time || \"Только что\";\n      if (diffHours < 24) return time;\n      if (diffHours < 48) return \"Вчера\";\n      return date;\n    } catch {\n      return time || date || \"\";\n    }\n  };\n  const formatMessageDate = (date, time) => {\n    if (!date && !time) return \"\";\n    const parts = [];\n    if (date) {\n      try {\n        const d = new Date(date + \"T00:00\");\n        if (!isNaN(d.getTime())) {\n          const now = new Date();\n          const diffDays = Math.floor((now - d) / (1000 * 60 * 60 * 24));\n          if (diffDays === 0) parts.push(\"Сегодня\");else if (diffDays === 1) parts.push(\"Вчера\");else parts.push(d.toLocaleDateString(\"ru-RU\", {\n            day: \"numeric\",\n            month: \"short\"\n          }));\n        } else {\n          parts.push(date);\n        }\n      } catch {\n        parts.push(date);\n      }\n    }\n    if (time) parts.push(time);\n    return parts.join(\", \");\n  };\n  const threadMessages = selectedMessage !== null && selectedMessage !== void 0 && (_selectedMessage$mess = selectedMessage.messages) !== null && _selectedMessage$mess !== void 0 && _selectedMessage$mess.length ? selectedMessage.messages : selectedMessage ? [{\n    id: selectedMessage.id,\n    text: selectedMessage.message,\n    sender: selectedMessage.sender,\n    date: selectedMessage.date,\n    time: selectedMessage.time,\n    direction: \"incoming\"\n  }] : [];\n  const fetchThread = async message => {\n    setLoadingThread(true);\n    try {\n      const params = new URLSearchParams();\n      params.set(\"accountId\", message.accountId);\n      if (message.conversationId) params.set(\"conversationId\", message.conversationId);\n      if (message.conversationUrl) params.set(\"conversationUrl\", message.conversationUrl);\n      if (!message.conversationId && !message.conversationUrl) {\n        if (message.sender) params.set(\"participant\", message.sender);\n        if (message.adTitle) params.set(\"adTitle\", message.adTitle);\n      }\n      const data = await apiFetchJson(`/api/messages/thread?${params.toString()}`);\n      if (data.success) {\n        const updated = {\n          ...message,\n          adTitle: data.adTitle || message.adTitle,\n          adImage: data.adImage || message.adImage,\n          sender: message.sender || data.participant || \"\",\n          messages: data.messages || [],\n          conversationId: data.conversationId || message.conversationId,\n          conversationUrl: data.conversationUrl || message.conversationUrl\n        };\n        setSelectedMessage(updated);\n      }\n    } catch (err) {\n      console.error(\"Ошибка загрузки диалога:\", err);\n    } finally {\n      setLoadingThread(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendReply();\n    }\n  };\n  const unreadCount = messages.filter(m => m.unread).length;\n  const showConversationList = !isMobileView || !selectedMessage;\n  const showChatPanel = !isMobileView || Boolean(selectedMessage);\n\n  // Spinner SVG for loading states\n  const Spinner = ({\n    size = 20,\n    color = \"#7dd3fc\"\n  }) => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    style: {\n      animation: \"spin 1s linear infinite\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"12\",\n      cy: \"12\",\n      r: \"10\",\n      stroke: color,\n      strokeWidth: \"3\",\n      fill: \"none\",\n      strokeDasharray: \"31.4\",\n      strokeDashoffset: \"10\",\n      strokeLinecap: \"round\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n        @keyframes pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.8; } }\n        @keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }\n        .msg-conv-item:hover { background: rgba(59,130,246,0.12) !important; }\n        .msg-send-btn:hover:not(:disabled) { background: #16a34a !important; }\n        .msg-refresh-btn:hover:not(:disabled) { background: #0284c7 !important; transform: scale(1.02); }\n        .msg-refresh-btn:active:not(:disabled) { transform: scale(0.98); }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-layout\",\n      style: {\n        display: \"flex\",\n        gap: \"20px\",\n        height: \"calc(100vh - 220px)\",\n        minHeight: \"500px\"\n      },\n      children: [showConversationList && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-list\",\n        style: {\n          width: \"400px\",\n          minWidth: \"340px\",\n          background: \"linear-gradient(145deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.95) 100%)\",\n          borderRadius: \"20px\",\n          overflow: \"hidden\",\n          boxShadow: \"0 20px 50px rgba(0,0,0,0.4), 0 0 30px rgba(0,0,0,0.2)\",\n          border: \"1px solid rgba(148,163,184,0.12)\",\n          color: \"#e2e8f0\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          backdropFilter: \"blur(10px)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"16px 20px\",\n            borderBottom: \"1px solid rgba(148,163,184,0.15)\",\n            background: \"rgba(15,23,42,0.5)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: \"12px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: 0,\n                fontSize: \"18px\",\n                fontWeight: 700\n              },\n              children: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                padding: \"5px 14px\",\n                background: \"linear-gradient(135deg, #10b981, #059669)\",\n                color: \"white\",\n                borderRadius: \"9999px\",\n                fontSize: \"12px\",\n                fontWeight: 600,\n                boxShadow: \"0 0 12px rgba(16, 185, 129, 0.4)\",\n                border: \"1px solid rgba(16, 185, 129, 0.3)\"\n              },\n              children: [unreadCount, \" \", unreadCount === 1 ? \"новое\" : \"новых\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"msg-refresh-btn\",\n            onClick: loadMessages,\n            disabled: loading,\n            style: {\n              width: \"100%\",\n              padding: \"10px 16px\",\n              background: loading ? \"rgba(14,165,233,0.3)\" : \"linear-gradient(135deg, #0ea5e9, #0284c7)\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"10px\",\n              fontSize: \"13px\",\n              fontWeight: 600,\n              cursor: loading ? \"not-allowed\" : \"pointer\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              gap: \"8px\",\n              transition: \"all 0.15s ease\"\n            },\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                size: 16,\n                color: \"#fff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this), \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2.5\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"23 4 23 10 17 10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M20.49 15a9 9 0 1 1-2.12-9.36L23 10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"12px\",\n            padding: \"12px 16px\",\n            background: \"rgba(239,68,68,0.15)\",\n            border: \"1px solid rgba(239,68,68,0.3)\",\n            borderRadius: \"10px\",\n            fontSize: \"13px\",\n            color: \"#fca5a5\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600,\n              marginBottom: \"4px\"\n            },\n            children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: loadMessages,\n            style: {\n              marginTop: \"8px\",\n              padding: \"4px 12px\",\n              background: \"rgba(239,68,68,0.3)\",\n              color: \"#fca5a5\",\n              border: \"1px solid rgba(239,68,68,0.4)\",\n              borderRadius: \"6px\",\n              fontSize: \"12px\",\n              cursor: \"pointer\"\n            },\n            children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            overflow: \"auto\"\n          },\n          children: loading && messages.length === 0 ?\n          /*#__PURE__*/\n          // Loading skeleton\n          _jsxDEV(\"div\", {\n            style: {\n              padding: \"8px 0\"\n            },\n            children: [1, 2, 3, 4, 5].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"14px 20px\",\n                display: \"flex\",\n                gap: \"12px\",\n                alignItems: \"center\",\n                borderBottom: \"1px solid rgba(148,163,184,0.08)\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"52px\",\n                  height: \"52px\",\n                  borderRadius: \"12px\",\n                  background: \"rgba(148,163,184,0.1)\",\n                  flexShrink: 0,\n                  animation: \"pulse 1.5s ease-in-out infinite\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    height: \"14px\",\n                    width: \"60%\",\n                    background: \"rgba(148,163,184,0.1)\",\n                    borderRadius: \"4px\",\n                    marginBottom: \"8px\",\n                    animation: \"pulse 1.5s ease-in-out infinite\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    height: \"12px\",\n                    width: \"80%\",\n                    background: \"rgba(148,163,184,0.08)\",\n                    borderRadius: \"4px\",\n                    marginBottom: \"6px\",\n                    animation: \"pulse 1.5s ease-in-out infinite\",\n                    animationDelay: \"0.1s\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    height: \"10px\",\n                    width: \"40%\",\n                    background: \"rgba(148,163,184,0.06)\",\n                    borderRadius: \"4px\",\n                    animation: \"pulse 1.5s ease-in-out infinite\",\n                    animationDelay: \"0.2s\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this) : messages.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"60px 20px\",\n              textAlign: \"center\",\n              color: \"#64748b\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"40px\",\n                marginBottom: \"12px\",\n                opacity: 0.5\n              },\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"48\",\n                height: \"48\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"1.5\",\n                style: {\n                  margin: \"0 auto\",\n                  display: \"block\",\n                  color: \"#475569\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"15px\",\n                fontWeight: 600,\n                marginBottom: \"4px\"\n              },\n              children: \"\\u041D\\u0435\\u0442 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"13px\"\n              },\n              children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\\\" \\u0434\\u043B\\u044F \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"msg-conv-item\",\n            onClick: () => {\n              setSelectedMessage(message);\n              fetchThread(message);\n              if (message.unread) markAsRead(message.id);\n            },\n            style: {\n              padding: \"14px 20px\",\n              borderBottom: \"1px solid rgba(148,163,184,0.08)\",\n              cursor: \"pointer\",\n              background: (selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.id) === message.id ? \"rgba(59,130,246,0.15)\" : message.unread ? \"rgba(34,197,94,0.08)\" : \"transparent\",\n              borderLeft: (selectedMessage === null || selectedMessage === void 0 ? void 0 : selectedMessage.id) === message.id ? \"3px solid #3b82f6\" : message.unread ? \"3px solid #22c55e\" : \"3px solid transparent\",\n              display: \"flex\",\n              alignItems: \"flex-start\",\n              gap: \"12px\",\n              transition: \"background 0.15s ease\",\n              animation: \"fadeIn 0.2s ease\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"52px\",\n                height: \"52px\",\n                borderRadius: \"12px\",\n                overflow: \"hidden\",\n                background: \"rgba(15,23,42,0.6)\",\n                border: \"1px solid rgba(148,163,184,0.15)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                flexShrink: 0\n              },\n              children: message.adImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: message.adImage,\n                alt: \"\",\n                style: {\n                  width: \"100%\",\n                  height: \"100%\",\n                  objectFit: \"cover\"\n                },\n                onError: e => {\n                  e.target.style.display = \"none\";\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"100%\",\n                  height: \"100%\",\n                  background: message.unread ? \"linear-gradient(135deg, #22c55e, #16a34a)\" : \"linear-gradient(135deg, #3b82f6, #2563eb)\",\n                  color: \"white\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  fontSize: \"20px\",\n                  fontWeight: 700\n                },\n                children: (message.sender || \"?\").charAt(0).toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1,\n                minWidth: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  marginBottom: \"3px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: 700,\n                    fontSize: \"14px\",\n                    color: \"#f1f5f9\",\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    whiteSpace: \"nowrap\",\n                    maxWidth: \"65%\"\n                  },\n                  children: message.sender || \"Неизвестный\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"11px\",\n                    color: \"#64748b\",\n                    whiteSpace: \"nowrap\",\n                    flexShrink: 0\n                  },\n                  children: getTimeAgo(message.date, message.time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"13px\",\n                  color: \"#94a3b8\",\n                  fontWeight: 600,\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  whiteSpace: \"nowrap\",\n                  marginBottom: \"3px\"\n                },\n                children: message.adTitle || \"Без названия\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"12px\",\n                  color: \"#64748b\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  whiteSpace: \"nowrap\",\n                  marginBottom: \"4px\"\n                },\n                children: message.message || \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"6px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"11px\",\n                    color: \"#475569\",\n                    background: \"rgba(148,163,184,0.1)\",\n                    padding: \"1px 6px\",\n                    borderRadius: \"4px\"\n                  },\n                  children: message.accountName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 23\n                }, this), message.unread && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    padding: \"3px 10px\",\n                    background: \"linear-gradient(135deg, #8b5cf6, #7c3aed)\",\n                    color: \"white\",\n                    borderRadius: \"9999px\",\n                    fontSize: \"10px\",\n                    fontWeight: 700,\n                    textTransform: \"uppercase\",\n                    letterSpacing: \"0.5px\",\n                    boxShadow: \"0 0 10px rgba(139, 92, 246, 0.4)\",\n                    border: \"1px solid rgba(139, 92, 246, 0.3)\"\n                  },\n                  children: \"new\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 19\n            }, this)]\n          }, message.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), messages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"8px 20px\",\n            borderTop: \"1px solid rgba(148,163,184,0.1)\",\n            fontSize: \"11px\",\n            color: \"#475569\",\n            textAlign: \"center\",\n            background: \"rgba(15,23,42,0.3)\"\n          },\n          children: [messages.length, \" \", messages.length === 1 ? \"диалог\" : messages.length < 5 ? \"диалога\" : \"диалогов\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 34\n      }, this), showChatPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-chat\",\n        style: {\n          flex: 1,\n          background: \"linear-gradient(145deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.95) 100%)\",\n          borderRadius: \"20px\",\n          overflow: \"hidden\",\n          boxShadow: \"0 20px 50px rgba(0,0,0,0.4), 0 0 30px rgba(0,0,0,0.2)\",\n          border: \"1px solid rgba(148,163,184,0.12)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          color: \"#e2e8f0\",\n          backdropFilter: \"blur(10px)\"\n        },\n        children: selectedMessage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"14px 20px\",\n              borderBottom: \"1px solid rgba(148,163,184,0.15)\",\n              background: \"rgba(15,23,42,0.6)\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  gap: \"14px\",\n                  alignItems: \"center\",\n                  flex: 1,\n                  minWidth: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: \"50px\",\n                    height: \"50px\",\n                    borderRadius: \"10px\",\n                    overflow: \"hidden\",\n                    border: \"1px solid rgba(148,163,184,0.15)\",\n                    background: \"rgba(15,23,42,0.8)\",\n                    flexShrink: 0,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\"\n                  },\n                  children: selectedMessage.adImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: selectedMessage.adImage,\n                    alt: \"\",\n                    style: {\n                      width: \"100%\",\n                      height: \"100%\",\n                      objectFit: \"cover\"\n                    },\n                    onError: e => {\n                      e.target.style.display = \"none\";\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"24\",\n                    height: \"24\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"#475569\",\n                    strokeWidth: \"1.5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                      x: \"3\",\n                      y: \"3\",\n                      width: \"18\",\n                      height: \"18\",\n                      rx: \"2\",\n                      ry: \"2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 658,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"8.5\",\n                      cy: \"8.5\",\n                      r: \"1.5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 659,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                      points: \"21 15 16 10 5 21\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 660,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    minWidth: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 700,\n                      fontSize: \"15px\",\n                      color: \"#f1f5f9\",\n                      overflow: \"hidden\",\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\"\n                    },\n                    children: selectedMessage.sender || \"Неизвестный\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: \"13px\",\n                      color: \"#94a3b8\",\n                      fontWeight: 500,\n                      overflow: \"hidden\",\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\",\n                      marginTop: \"2px\"\n                    },\n                    children: selectedMessage.adTitle || \"Без названия\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: \"11px\",\n                      color: \"#475569\",\n                      marginTop: \"2px\"\n                    },\n                    children: selectedMessage.accountName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 687,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedMessage(null),\n                style: {\n                  background: \"rgba(148,163,184,0.1)\",\n                  border: \"none\",\n                  width: isMobileView ? \"auto\" : \"32px\",\n                  height: \"32px\",\n                  padding: isMobileView ? \"0 10px\" : 0,\n                  borderRadius: \"8px\",\n                  cursor: \"pointer\",\n                  color: \"#94a3b8\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  fontSize: \"16px\",\n                  fontWeight: 600,\n                  flexShrink: 0\n                },\n                children: isMobileView ? \"← Назад\" : /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2.5\",\n                  strokeLinecap: \"round\",\n                  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"18\",\n                    y1: \"6\",\n                    x2: \"6\",\n                    y2: \"18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 720,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"6\",\n                    y1: \"6\",\n                    x2: \"18\",\n                    y2: \"18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatScrollRef,\n            style: {\n              flex: 1,\n              padding: \"20px\",\n              overflow: \"auto\",\n              background: \"rgba(8,12,24,0.4)\"\n            },\n            children: loadingThread ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                gap: \"12px\",\n                color: \"#64748b\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                size: 32,\n                color: \"#3b82f6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: \"14px\"\n                },\n                children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0438\\u0430\\u043B\\u043E\\u0433\\u0430...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 19\n            }, this) : threadMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"#64748b\",\n                textAlign: \"center\",\n                paddingTop: \"40px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"14px\"\n                },\n                children: \"\\u041D\\u0435\\u0442 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439 \\u0432 \\u044D\\u0442\\u043E\\u043C \\u0434\\u0438\\u0430\\u043B\\u043E\\u0433\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: threadMessages.map((messageItem, idx) => {\n                const isOutgoing = messageItem.direction === \"outgoing\";\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: \"12px\",\n                    display: \"flex\",\n                    justifyContent: isOutgoing ? \"flex-end\" : \"flex-start\",\n                    animation: \"fadeIn 0.2s ease\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      maxWidth: \"70%\",\n                      minWidth: \"120px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: \"11px\",\n                        color: isOutgoing ? \"#86efac\" : \"#7dd3fc\",\n                        fontWeight: 600,\n                        marginBottom: \"4px\",\n                        paddingLeft: isOutgoing ? \"0\" : \"12px\",\n                        paddingRight: isOutgoing ? \"12px\" : \"0\",\n                        textAlign: isOutgoing ? \"right\" : \"left\"\n                      },\n                      children: messageItem.sender || (isOutgoing ? \"Вы\" : selectedMessage.sender || \"\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 771,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        padding: \"10px 14px\",\n                        borderRadius: isOutgoing ? \"14px 14px 4px 14px\" : \"14px 14px 14px 4px\",\n                        background: isOutgoing ? \"linear-gradient(135deg, #1a4731, #14532d)\" : \"rgba(15,23,42,0.8)\",\n                        border: isOutgoing ? \"1px solid rgba(34,197,94,0.25)\" : \"1px solid rgba(148,163,184,0.15)\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: \"14px\",\n                          lineHeight: \"1.5\",\n                          whiteSpace: \"pre-wrap\",\n                          wordBreak: \"break-word\",\n                          color: \"#e2e8f0\"\n                        },\n                        children: messageItem.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 794,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: \"10px\",\n                          color: \"#64748b\",\n                          marginTop: \"6px\",\n                          textAlign: \"right\"\n                        },\n                        children: formatMessageDate(messageItem.date || selectedMessage.date, messageItem.time || selectedMessage.time)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 805,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 784,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 27\n                  }, this)\n                }, messageItem.id || idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"14px 20px\",\n              borderTop: \"1px solid rgba(148,163,184,0.15)\",\n              background: \"rgba(15,23,42,0.6)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: \"10px\",\n                alignItems: \"flex-end\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: replyText,\n                onChange: e => setReplyText(e.target.value),\n                onKeyDown: handleKeyDown,\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435...\",\n                rows: 1,\n                style: {\n                  flex: 1,\n                  padding: \"10px 14px\",\n                  border: \"1px solid rgba(148,163,184,0.2)\",\n                  borderRadius: \"12px\",\n                  resize: \"none\",\n                  minHeight: \"42px\",\n                  maxHeight: \"120px\",\n                  background: \"rgba(15,23,42,0.6)\",\n                  color: \"#e2e8f0\",\n                  fontSize: \"14px\",\n                  lineHeight: \"1.4\",\n                  outline: \"none\",\n                  fontFamily: \"inherit\"\n                },\n                onInput: e => {\n                  e.target.style.height = \"42px\";\n                  e.target.style.height = Math.min(e.target.scrollHeight, 120) + \"px\";\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"msg-send-btn\",\n                onClick: sendReply,\n                disabled: sending || !replyText.trim(),\n                style: {\n                  padding: \"10px 20px\",\n                  background: sending ? \"rgba(34,197,94,0.4)\" : !replyText.trim() ? \"rgba(148,163,184,0.15)\" : \"linear-gradient(135deg, #22c55e, #16a34a)\",\n                  color: !replyText.trim() ? \"#64748b\" : \"white\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  cursor: sending || !replyText.trim() ? \"not-allowed\" : \"pointer\",\n                  whiteSpace: \"nowrap\",\n                  fontSize: \"14px\",\n                  fontWeight: 600,\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"6px\",\n                  height: \"42px\",\n                  transition: \"all 0.15s ease\"\n                },\n                children: sending ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    size: 14,\n                    color: \"#fff\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 885,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 886,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2.5\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"22\",\n                      y1: \"2\",\n                      x2: \"11\",\n                      y2: \"13\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 891,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                      points: \"22 2 15 22 11 13 2 9 22 2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 892,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 890,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 894,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"11px\",\n                color: \"#475569\",\n                marginTop: \"6px\"\n              },\n              children: \"Enter \\u0434\\u043B\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0438, Shift+Enter \\u0434\\u043B\\u044F \\u043D\\u043E\\u0432\\u043E\\u0439 \\u0441\\u0442\\u0440\\u043E\\u043A\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 826,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) :\n        /*#__PURE__*/\n        // Empty state\n        _jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            color: \"#475569\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"center\",\n              maxWidth: \"280px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"64\",\n              height: \"64\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1\",\n              style: {\n                margin: \"0 auto 16px\",\n                display: \"block\",\n                color: \"#334155\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 915,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: \"0 0 8px\",\n                fontSize: \"16px\",\n                color: \"#64748b\"\n              },\n              children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0438\\u0430\\u043B\\u043E\\u0433\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                fontSize: \"13px\",\n                lineHeight: \"1.5\"\n              },\n              children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0438\\u0430\\u043B\\u043E\\u0433 \\u0438\\u0437 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430 \\u0441\\u043B\\u0435\\u0432\\u0430 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439 \\u0438 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(MessagesTab, \"Wa25y3ww5UPpr3k7RUFDuku4Nco=\");\n_c = MessagesTab;\nexport default MessagesTab;\nvar _c;\n$RefreshReg$(_c, \"MessagesTab\");","map":{"version":3,"names":["React","useState","useEffect","useRef","apiFetchJson","jsxDEV","_jsxDEV","Fragment","_Fragment","detectMobileView","_window$screen","window","viewportWidth","innerWidth","document","documentElement","clientWidth","screenWidth","screen","width","effectiveWidth","Math","min","mobileUa","test","navigator","userAgent","hasCoarsePointer","matchMedia","matches","noHover","touchPoints","Number","maxTouchPoints","touchLikeDevice","MessagesTab","_s","_selectedMessage$mess","messages","setMessages","selectedMessage","setSelectedMessage","replyText","setReplyText","sending","setSending","loading","setLoading","loadingThread","setLoadingThread","error","setError","isMobileView","setIsMobileView","chatScrollRef","loadMessages","container","current","scrollTo","top","scrollHeight","behavior","id","handleResize","addEventListener","removeEventListener","data","list","Array","isArray","seen","Set","deduped","item","key","conversationId","conversationUrl","accountId","sender","adTitle","message","time","has","add","push","err","console","markAsRead","messageId","prev","map","msg","unread","method","sendReply","trim","alert","result","headers","body","JSON","stringify","participant","text","success","resolvedConversationId","resolvedConversationUrl","latestMessages","lastMessage","length","date","getTimeAgo","now","Date","messageDate","isNaN","getTime","diffHours","floor","formatMessageDate","parts","d","diffDays","toLocaleDateString","day","month","join","threadMessages","direction","fetchThread","params","URLSearchParams","set","toString","updated","adImage","handleKeyDown","e","shiftKey","preventDefault","unreadCount","filter","m","showConversationList","showChatPanel","Boolean","Spinner","size","color","height","viewBox","style","animation","children","cx","cy","r","stroke","strokeWidth","fill","strokeDasharray","strokeDashoffset","strokeLinecap","fileName","_jsxFileName","lineNumber","columnNumber","className","display","gap","minHeight","minWidth","background","borderRadius","overflow","boxShadow","border","flexDirection","backdropFilter","padding","borderBottom","justifyContent","alignItems","marginBottom","margin","fontSize","fontWeight","onClick","disabled","cursor","transition","strokeLinejoin","points","marginTop","flex","i","flexShrink","animationDelay","textAlign","opacity","borderLeft","src","alt","objectFit","onError","target","charAt","toUpperCase","textOverflow","whiteSpace","maxWidth","accountName","textTransform","letterSpacing","borderTop","x","y","rx","ry","x1","y1","x2","y2","ref","paddingTop","messageItem","idx","isOutgoing","paddingLeft","paddingRight","lineHeight","wordBreak","value","onChange","onKeyDown","placeholder","rows","resize","maxHeight","outline","fontFamily","onInput","_c","$RefreshReg$"],"sources":["/Users/eurocare/Downloads/barvihaluxury-main/frontend/src/components/MessagesTab.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { apiFetchJson } from \"../api\";\n\nconst detectMobileView = () => {\n  if (typeof window === \"undefined\") return false;\n  const viewportWidth = window.innerWidth || document.documentElement.clientWidth || 0;\n  const screenWidth = typeof window.screen?.width === \"number\" ? window.screen.width : viewportWidth;\n  const effectiveWidth = Math.min(viewportWidth || screenWidth, screenWidth || viewportWidth);\n  const mobileUa = /Android|webOS|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(\n    (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\"\n  );\n  const hasCoarsePointer = typeof window.matchMedia === \"function\"\n    ? window.matchMedia(\"(pointer: coarse)\").matches\n    : false;\n  const noHover = typeof window.matchMedia === \"function\"\n    ? window.matchMedia(\"(hover: none)\").matches\n    : false;\n  const touchPoints = typeof navigator !== \"undefined\" ? Number(navigator.maxTouchPoints || 0) : 0;\n  const touchLikeDevice = hasCoarsePointer || noHover || touchPoints > 1;\n  return effectiveWidth <= 768 || (touchLikeDevice && effectiveWidth <= 1024) || (mobileUa && effectiveWidth <= 1180);\n};\n\nconst MessagesTab = () => {\n  const [messages, setMessages] = useState([]);\n  const [selectedMessage, setSelectedMessage] = useState(null);\n  const [replyText, setReplyText] = useState(\"\");\n  const [sending, setSending] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [loadingThread, setLoadingThread] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMobileView, setIsMobileView] = useState(() => detectMobileView());\n  const chatScrollRef = useRef(null);\n\n  useEffect(() => {\n    loadMessages();\n  }, []);\n\n  useEffect(() => {\n    if (!selectedMessage) return;\n    const container = chatScrollRef.current;\n    if (!container) return;\n    container.scrollTo({ top: container.scrollHeight, behavior: \"smooth\" });\n  }, [selectedMessage?.id, selectedMessage?.messages]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobileView(detectMobileView());\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  const loadMessages = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await apiFetchJson(\"/api/messages\");\n      const list = Array.isArray(data) ? data : [];\n      const seen = new Set();\n      const deduped = [];\n      for (const item of list) {\n        const key = item.conversationId\n          || item.conversationUrl\n          || item.id\n          || `${item.accountId || \"\"}|${item.sender || \"\"}|${item.adTitle || \"\"}|${item.message || \"\"}|${item.time || \"\"}`;\n        if (seen.has(key)) continue;\n        seen.add(key);\n        deduped.push(item);\n      }\n      setMessages(deduped);\n    } catch (err) {\n      console.error(\"Ошибка загрузки сообщений:\", err);\n      setError(err.message || \"Не удалось загрузить сообщения\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsRead = async (messageId) => {\n    // Immediately update UI for better responsiveness\n    setMessages(prev => prev.map(msg =>\n      msg.id === messageId ? { ...msg, unread: false } : msg\n    ));\n\n    try {\n      await apiFetchJson(`/api/messages/${messageId}/read`, {\n        method: \"PUT\"\n      });\n    } catch (err) {\n      console.error(\"Ошибка при отметке сообщения как прочитанного:\", err);\n      // Optionally revert on error\n    }\n  };\n\n  const sendReply = async () => {\n    if (!replyText.trim() || !selectedMessage) return;\n    if (!selectedMessage.conversationId && !selectedMessage.conversationUrl\n      && !selectedMessage.sender && !selectedMessage.adTitle) {\n      alert(\"Не найден идентификатор диалога.\");\n      return;\n    }\n\n    setSending(true);\n    try {\n      const result = await apiFetchJson(\"/api/messages/send\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          accountId: selectedMessage.accountId,\n          conversationId: selectedMessage.conversationId,\n          conversationUrl: selectedMessage.conversationUrl,\n          participant: selectedMessage.sender,\n          adTitle: selectedMessage.adTitle,\n          text: replyText\n        })\n      });\n      if (result.success) {\n        const resolvedConversationId = result.conversationId || selectedMessage.conversationId;\n        const resolvedConversationUrl = result.conversationUrl || selectedMessage.conversationUrl;\n        const latestMessages = result.messages || [];\n        const lastMessage = latestMessages[latestMessages.length - 1];\n        if (lastMessage) {\n          setMessages(prev => prev.map(msg => (\n            msg.id === selectedMessage.id\n              ? {\n                ...msg,\n                message: lastMessage.text,\n                date: lastMessage.date,\n                time: lastMessage.time,\n                conversationId: resolvedConversationId || msg.conversationId,\n                conversationUrl: resolvedConversationUrl || msg.conversationUrl\n              }\n              : msg\n          )));\n        }\n        setSelectedMessage(prev => ({\n          ...prev,\n          messages: latestMessages,\n          conversationId: resolvedConversationId,\n          conversationUrl: resolvedConversationUrl\n        }));\n        setReplyText(\"\");\n      } else {\n        alert(\"Ошибка: \" + (result.error || \"Не удалось отправить\"));\n      }\n    } catch (err) {\n      console.error(\"Ошибка отправки:\", err);\n      alert(\"Ошибка при отправке сообщения\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const getTimeAgo = (date, time) => {\n    if (!date && !time) return \"\";\n    const now = new Date();\n    try {\n      const messageDate = new Date(date + \"T\" + (time || \"00:00\"));\n      if (isNaN(messageDate.getTime())) return time || date || \"\";\n      const diffHours = Math.floor((now - messageDate) / (1000 * 60 * 60));\n      if (diffHours < 1) return time || \"Только что\";\n      if (diffHours < 24) return time;\n      if (diffHours < 48) return \"Вчера\";\n      return date;\n    } catch {\n      return time || date || \"\";\n    }\n  };\n\n  const formatMessageDate = (date, time) => {\n    if (!date && !time) return \"\";\n    const parts = [];\n    if (date) {\n      try {\n        const d = new Date(date + \"T00:00\");\n        if (!isNaN(d.getTime())) {\n          const now = new Date();\n          const diffDays = Math.floor((now - d) / (1000 * 60 * 60 * 24));\n          if (diffDays === 0) parts.push(\"Сегодня\");\n          else if (diffDays === 1) parts.push(\"Вчера\");\n          else parts.push(d.toLocaleDateString(\"ru-RU\", { day: \"numeric\", month: \"short\" }));\n        } else {\n          parts.push(date);\n        }\n      } catch {\n        parts.push(date);\n      }\n    }\n    if (time) parts.push(time);\n    return parts.join(\", \");\n  };\n\n  const threadMessages = selectedMessage?.messages?.length\n    ? selectedMessage.messages\n    : selectedMessage\n      ? [{\n        id: selectedMessage.id,\n        text: selectedMessage.message,\n        sender: selectedMessage.sender,\n        date: selectedMessage.date,\n        time: selectedMessage.time,\n        direction: \"incoming\"\n      }]\n      : [];\n\n  const fetchThread = async (message) => {\n    setLoadingThread(true);\n    try {\n      const params = new URLSearchParams();\n      params.set(\"accountId\", message.accountId);\n      if (message.conversationId) params.set(\"conversationId\", message.conversationId);\n      if (message.conversationUrl) params.set(\"conversationUrl\", message.conversationUrl);\n      if (!message.conversationId && !message.conversationUrl) {\n        if (message.sender) params.set(\"participant\", message.sender);\n        if (message.adTitle) params.set(\"adTitle\", message.adTitle);\n      }\n      const data = await apiFetchJson(`/api/messages/thread?${params.toString()}`);\n      if (data.success) {\n        const updated = {\n          ...message,\n          adTitle: data.adTitle || message.adTitle,\n          adImage: data.adImage || message.adImage,\n          sender: message.sender || data.participant || \"\",\n          messages: data.messages || [],\n          conversationId: data.conversationId || message.conversationId,\n          conversationUrl: data.conversationUrl || message.conversationUrl\n        };\n        setSelectedMessage(updated);\n      }\n    } catch (err) {\n      console.error(\"Ошибка загрузки диалога:\", err);\n    } finally {\n      setLoadingThread(false);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendReply();\n    }\n  };\n\n  const unreadCount = messages.filter(m => m.unread).length;\n  const showConversationList = !isMobileView || !selectedMessage;\n  const showChatPanel = !isMobileView || Boolean(selectedMessage);\n\n  // Spinner SVG for loading states\n  const Spinner = ({ size = 20, color = \"#7dd3fc\" }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" style={{ animation: \"spin 1s linear infinite\" }}>\n      <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"3\" fill=\"none\" strokeDasharray=\"31.4\" strokeDashoffset=\"10\" strokeLinecap=\"round\" />\n    </svg>\n  );\n\n  return (\n    <>\n      <style>{`\n        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n        @keyframes pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.8; } }\n        @keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }\n        .msg-conv-item:hover { background: rgba(59,130,246,0.12) !important; }\n        .msg-send-btn:hover:not(:disabled) { background: #16a34a !important; }\n        .msg-refresh-btn:hover:not(:disabled) { background: #0284c7 !important; transform: scale(1.02); }\n        .msg-refresh-btn:active:not(:disabled) { transform: scale(0.98); }\n      `}</style>\n\n      <div className=\"messages-layout\" style={{ display: \"flex\", gap: \"20px\", height: \"calc(100vh - 220px)\", minHeight: \"500px\" }}>\n        {/* Conversation List */}\n        {showConversationList && <div className=\"messages-list\" style={{\n          width: \"400px\",\n          minWidth: \"340px\",\n          background: \"linear-gradient(145deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.95) 100%)\",\n          borderRadius: \"20px\",\n          overflow: \"hidden\",\n          boxShadow: \"0 20px 50px rgba(0,0,0,0.4), 0 0 30px rgba(0,0,0,0.2)\",\n          border: \"1px solid rgba(148,163,184,0.12)\",\n          color: \"#e2e8f0\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          backdropFilter: \"blur(10px)\"\n        }}>\n          {/* Header */}\n          <div style={{\n            padding: \"16px 20px\",\n            borderBottom: \"1px solid rgba(148,163,184,0.15)\",\n            background: \"rgba(15,23,42,0.5)\"\n          }}>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"12px\" }}>\n              <h3 style={{ margin: 0, fontSize: \"18px\", fontWeight: 700 }}>Сообщения</h3>\n              {unreadCount > 0 && (\n                <span style={{\n                  padding: \"5px 14px\",\n                  background: \"linear-gradient(135deg, #10b981, #059669)\",\n                  color: \"white\",\n                  borderRadius: \"9999px\",\n                  fontSize: \"12px\",\n                  fontWeight: 600,\n                  boxShadow: \"0 0 12px rgba(16, 185, 129, 0.4)\",\n                  border: \"1px solid rgba(16, 185, 129, 0.3)\"\n                }}>\n                  {unreadCount} {unreadCount === 1 ? \"новое\" : \"новых\"}\n                </span>\n              )}\n            </div>\n            <button\n              className=\"msg-refresh-btn\"\n              onClick={loadMessages}\n              disabled={loading}\n              style={{\n                width: \"100%\",\n                padding: \"10px 16px\",\n                background: loading ? \"rgba(14,165,233,0.3)\" : \"linear-gradient(135deg, #0ea5e9, #0284c7)\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"10px\",\n                fontSize: \"13px\",\n                fontWeight: 600,\n                cursor: loading ? \"not-allowed\" : \"pointer\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\",\n                transition: \"all 0.15s ease\"\n              }}\n            >\n              {loading ? (\n                <>\n                  <Spinner size={16} color=\"#fff\" />\n                  Загрузка сообщений...\n                </>\n              ) : (\n                <>\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <polyline points=\"23 4 23 10 17 10\" />\n                    <path d=\"M20.49 15a9 9 0 1 1-2.12-9.36L23 10\" />\n                  </svg>\n                  Обновить сообщения\n                </>\n              )}\n            </button>\n          </div>\n\n          {/* Error state */}\n          {error && (\n            <div style={{\n              margin: \"12px\",\n              padding: \"12px 16px\",\n              background: \"rgba(239,68,68,0.15)\",\n              border: \"1px solid rgba(239,68,68,0.3)\",\n              borderRadius: \"10px\",\n              fontSize: \"13px\",\n              color: \"#fca5a5\"\n            }}>\n              <div style={{ fontWeight: 600, marginBottom: \"4px\" }}>Ошибка загрузки</div>\n              <div>{error}</div>\n              <button\n                onClick={loadMessages}\n                style={{\n                  marginTop: \"8px\",\n                  padding: \"4px 12px\",\n                  background: \"rgba(239,68,68,0.3)\",\n                  color: \"#fca5a5\",\n                  border: \"1px solid rgba(239,68,68,0.4)\",\n                  borderRadius: \"6px\",\n                  fontSize: \"12px\",\n                  cursor: \"pointer\"\n                }}\n              >\n                Попробовать снова\n              </button>\n            </div>\n          )}\n\n          {/* Conversation list */}\n          <div style={{ flex: 1, overflow: \"auto\" }}>\n            {loading && messages.length === 0 ? (\n              // Loading skeleton\n              <div style={{ padding: \"8px 0\" }}>\n                {[1, 2, 3, 4, 5].map(i => (\n                  <div key={i} style={{\n                    padding: \"14px 20px\",\n                    display: \"flex\",\n                    gap: \"12px\",\n                    alignItems: \"center\",\n                    borderBottom: \"1px solid rgba(148,163,184,0.08)\"\n                  }}>\n                    <div style={{\n                      width: \"52px\",\n                      height: \"52px\",\n                      borderRadius: \"12px\",\n                      background: \"rgba(148,163,184,0.1)\",\n                      flexShrink: 0,\n                      animation: \"pulse 1.5s ease-in-out infinite\"\n                    }} />\n                    <div style={{ flex: 1 }}>\n                      <div style={{\n                        height: \"14px\",\n                        width: \"60%\",\n                        background: \"rgba(148,163,184,0.1)\",\n                        borderRadius: \"4px\",\n                        marginBottom: \"8px\",\n                        animation: \"pulse 1.5s ease-in-out infinite\"\n                      }} />\n                      <div style={{\n                        height: \"12px\",\n                        width: \"80%\",\n                        background: \"rgba(148,163,184,0.08)\",\n                        borderRadius: \"4px\",\n                        marginBottom: \"6px\",\n                        animation: \"pulse 1.5s ease-in-out infinite\",\n                        animationDelay: \"0.1s\"\n                      }} />\n                      <div style={{\n                        height: \"10px\",\n                        width: \"40%\",\n                        background: \"rgba(148,163,184,0.06)\",\n                        borderRadius: \"4px\",\n                        animation: \"pulse 1.5s ease-in-out infinite\",\n                        animationDelay: \"0.2s\"\n                      }} />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : messages.length === 0 && !loading ? (\n              <div style={{\n                padding: \"60px 20px\",\n                textAlign: \"center\",\n                color: \"#64748b\"\n              }}>\n                <div style={{ fontSize: \"40px\", marginBottom: \"12px\", opacity: 0.5 }}>\n                  <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" style={{ margin: \"0 auto\", display: \"block\", color: \"#475569\" }}>\n                    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n                  </svg>\n                </div>\n                <div style={{ fontSize: \"15px\", fontWeight: 600, marginBottom: \"4px\" }}>Нет сообщений</div>\n                <div style={{ fontSize: \"13px\" }}>Нажмите \"Обновить\" для загрузки</div>\n              </div>\n            ) : (\n              messages.map(message => (\n                <div\n                  key={message.id}\n                  className=\"msg-conv-item\"\n                  onClick={() => {\n                    setSelectedMessage(message);\n                    fetchThread(message);\n                    if (message.unread) markAsRead(message.id);\n                  }}\n                  style={{\n                    padding: \"14px 20px\",\n                    borderBottom: \"1px solid rgba(148,163,184,0.08)\",\n                    cursor: \"pointer\",\n                    background: selectedMessage?.id === message.id\n                      ? \"rgba(59,130,246,0.15)\"\n                      : message.unread\n                        ? \"rgba(34,197,94,0.08)\"\n                        : \"transparent\",\n                    borderLeft: selectedMessage?.id === message.id\n                      ? \"3px solid #3b82f6\"\n                      : message.unread\n                        ? \"3px solid #22c55e\"\n                        : \"3px solid transparent\",\n                    display: \"flex\",\n                    alignItems: \"flex-start\",\n                    gap: \"12px\",\n                    transition: \"background 0.15s ease\",\n                    animation: \"fadeIn 0.2s ease\"\n                  }}\n                >\n                  {/* Product image / avatar */}\n                  <div style={{\n                    width: \"52px\",\n                    height: \"52px\",\n                    borderRadius: \"12px\",\n                    overflow: \"hidden\",\n                    background: \"rgba(15,23,42,0.6)\",\n                    border: \"1px solid rgba(148,163,184,0.15)\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    flexShrink: 0\n                  }}>\n                    {message.adImage ? (\n                      <img\n                        src={message.adImage}\n                        alt=\"\"\n                        style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }}\n                        onError={(e) => { e.target.style.display = \"none\"; }}\n                      />\n                    ) : (\n                      <div style={{\n                        width: \"100%\",\n                        height: \"100%\",\n                        background: message.unread\n                          ? \"linear-gradient(135deg, #22c55e, #16a34a)\"\n                          : \"linear-gradient(135deg, #3b82f6, #2563eb)\",\n                        color: \"white\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        fontSize: \"20px\",\n                        fontWeight: 700\n                      }}>\n                        {(message.sender || \"?\").charAt(0).toUpperCase()}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Content */}\n                  <div style={{ flex: 1, minWidth: 0 }}>\n                    {/* Top row: sender + time */}\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"3px\" }}>\n                      <span style={{\n                        fontWeight: 700,\n                        fontSize: \"14px\",\n                        color: \"#f1f5f9\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\",\n                        maxWidth: \"65%\"\n                      }}>\n                        {message.sender || \"Неизвестный\"}\n                      </span>\n                      <span style={{\n                        fontSize: \"11px\",\n                        color: \"#64748b\",\n                        whiteSpace: \"nowrap\",\n                        flexShrink: 0\n                      }}>\n                        {getTimeAgo(message.date, message.time)}\n                      </span>\n                    </div>\n\n                    {/* Ad title */}\n                    <div style={{\n                      fontSize: \"13px\",\n                      color: \"#94a3b8\",\n                      fontWeight: 600,\n                      overflow: \"hidden\",\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\",\n                      marginBottom: \"3px\"\n                    }}>\n                      {message.adTitle || \"Без названия\"}\n                    </div>\n\n                    {/* Last message preview */}\n                    <div style={{\n                      fontSize: \"12px\",\n                      color: \"#64748b\",\n                      overflow: \"hidden\",\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\",\n                      marginBottom: \"4px\"\n                    }}>\n                      {message.message || \"\"}\n                    </div>\n\n                    {/* Account label + unread badge */}\n                    <div style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      gap: \"6px\"\n                    }}>\n                      <span style={{\n                        fontSize: \"11px\",\n                        color: \"#475569\",\n                        background: \"rgba(148,163,184,0.1)\",\n                        padding: \"1px 6px\",\n                        borderRadius: \"4px\"\n                      }}>\n                        {message.accountName}\n                      </span>\n                      {message.unread && (\n                        <span style={{\n                          padding: \"3px 10px\",\n                          background: \"linear-gradient(135deg, #8b5cf6, #7c3aed)\",\n                          color: \"white\",\n                          borderRadius: \"9999px\",\n                          fontSize: \"10px\",\n                          fontWeight: 700,\n                          textTransform: \"uppercase\",\n                          letterSpacing: \"0.5px\",\n                          boxShadow: \"0 0 10px rgba(139, 92, 246, 0.4)\",\n                          border: \"1px solid rgba(139, 92, 246, 0.3)\"\n                        }}>\n                          new\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* Message count footer */}\n          {messages.length > 0 && (\n            <div style={{\n              padding: \"8px 20px\",\n              borderTop: \"1px solid rgba(148,163,184,0.1)\",\n              fontSize: \"11px\",\n              color: \"#475569\",\n              textAlign: \"center\",\n              background: \"rgba(15,23,42,0.3)\"\n            }}>\n              {messages.length} {messages.length === 1 ? \"диалог\" : messages.length < 5 ? \"диалога\" : \"диалогов\"}\n            </div>\n          )}\n        </div>}\n\n        {/* Chat Panel */}\n        {showChatPanel && <div className=\"messages-chat\" style={{\n          flex: 1,\n          background: \"linear-gradient(145deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.95) 100%)\",\n          borderRadius: \"20px\",\n          overflow: \"hidden\",\n          boxShadow: \"0 20px 50px rgba(0,0,0,0.4), 0 0 30px rgba(0,0,0,0.2)\",\n          border: \"1px solid rgba(148,163,184,0.12)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          color: \"#e2e8f0\",\n          backdropFilter: \"blur(10px)\"\n        }}>\n          {selectedMessage ? (\n            <>\n              {/* Chat header */}\n              <div style={{\n                padding: \"14px 20px\",\n                borderBottom: \"1px solid rgba(148,163,184,0.15)\",\n                background: \"rgba(15,23,42,0.6)\"\n              }}>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                  <div style={{ display: \"flex\", gap: \"14px\", alignItems: \"center\", flex: 1, minWidth: 0 }}>\n                    {/* Product image in header */}\n                    <div style={{\n                      width: \"50px\",\n                      height: \"50px\",\n                      borderRadius: \"10px\",\n                      overflow: \"hidden\",\n                      border: \"1px solid rgba(148,163,184,0.15)\",\n                      background: \"rgba(15,23,42,0.8)\",\n                      flexShrink: 0,\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\"\n                    }}>\n                      {selectedMessage.adImage ? (\n                        <img\n                          src={selectedMessage.adImage}\n                          alt=\"\"\n                          style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }}\n                          onError={(e) => { e.target.style.display = \"none\"; }}\n                        />\n                      ) : (\n                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#475569\" strokeWidth=\"1.5\">\n                          <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\n                          <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\n                          <polyline points=\"21 15 16 10 5 21\" />\n                        </svg>\n                      )}\n                    </div>\n\n                    <div style={{ minWidth: 0 }}>\n                      <div style={{\n                        fontWeight: 700,\n                        fontSize: \"15px\",\n                        color: \"#f1f5f9\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}>\n                        {selectedMessage.sender || \"Неизвестный\"}\n                      </div>\n                      <div style={{\n                        fontSize: \"13px\",\n                        color: \"#94a3b8\",\n                        fontWeight: 500,\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\",\n                        marginTop: \"2px\"\n                      }}>\n                        {selectedMessage.adTitle || \"Без названия\"}\n                      </div>\n                      <div style={{\n                        fontSize: \"11px\",\n                        color: \"#475569\",\n                        marginTop: \"2px\"\n                      }}>\n                        {selectedMessage.accountName}\n                      </div>\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={() => setSelectedMessage(null)}\n                    style={{\n                      background: \"rgba(148,163,184,0.1)\",\n                      border: \"none\",\n                      width: isMobileView ? \"auto\" : \"32px\",\n                      height: \"32px\",\n                      padding: isMobileView ? \"0 10px\" : 0,\n                      borderRadius: \"8px\",\n                      cursor: \"pointer\",\n                      color: \"#94a3b8\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      fontSize: \"16px\",\n                      fontWeight: 600,\n                      flexShrink: 0\n                    }}\n                  >\n                    {isMobileView ? (\n                      \"← Назад\"\n                    ) : (\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\">\n                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n                      </svg>\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* Messages area */}\n              <div ref={chatScrollRef} style={{\n                flex: 1,\n                padding: \"20px\",\n                overflow: \"auto\",\n                background: \"rgba(8,12,24,0.4)\"\n              }}>\n                {loadingThread ? (\n                  <div style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    height: \"100%\",\n                    gap: \"12px\",\n                    color: \"#64748b\"\n                  }}>\n                    <Spinner size={32} color=\"#3b82f6\" />\n                    <span style={{ fontSize: \"14px\" }}>Загрузка диалога...</span>\n                  </div>\n                ) : threadMessages.length === 0 ? (\n                  <div style={{ color: \"#64748b\", textAlign: \"center\", paddingTop: \"40px\" }}>\n                    <div style={{ fontSize: \"14px\" }}>Нет сообщений в этом диалоге</div>\n                  </div>\n                ) : (\n                  <>\n                    {threadMessages.map((messageItem, idx) => {\n                      const isOutgoing = messageItem.direction === \"outgoing\";\n                      return (\n                        <div\n                          key={messageItem.id || idx}\n                          style={{\n                            marginBottom: \"12px\",\n                            display: \"flex\",\n                            justifyContent: isOutgoing ? \"flex-end\" : \"flex-start\",\n                            animation: \"fadeIn 0.2s ease\"\n                          }}\n                        >\n                          <div style={{\n                            maxWidth: \"70%\",\n                            minWidth: \"120px\"\n                          }}>\n                            {/* Sender name */}\n                            <div style={{\n                              fontSize: \"11px\",\n                              color: isOutgoing ? \"#86efac\" : \"#7dd3fc\",\n                              fontWeight: 600,\n                              marginBottom: \"4px\",\n                              paddingLeft: isOutgoing ? \"0\" : \"12px\",\n                              paddingRight: isOutgoing ? \"12px\" : \"0\",\n                              textAlign: isOutgoing ? \"right\" : \"left\"\n                            }}>\n                              {messageItem.sender || (isOutgoing ? \"Вы\" : selectedMessage.sender || \"\")}\n                            </div>\n\n                            {/* Message bubble */}\n                            <div style={{\n                              padding: \"10px 14px\",\n                              borderRadius: isOutgoing ? \"14px 14px 4px 14px\" : \"14px 14px 14px 4px\",\n                              background: isOutgoing\n                                ? \"linear-gradient(135deg, #1a4731, #14532d)\"\n                                : \"rgba(15,23,42,0.8)\",\n                              border: isOutgoing\n                                ? \"1px solid rgba(34,197,94,0.25)\"\n                                : \"1px solid rgba(148,163,184,0.15)\"\n                            }}>\n                              <div style={{\n                                fontSize: \"14px\",\n                                lineHeight: \"1.5\",\n                                whiteSpace: \"pre-wrap\",\n                                wordBreak: \"break-word\",\n                                color: \"#e2e8f0\"\n                              }}>\n                                {messageItem.text}\n                              </div>\n\n                              {/* Timestamp */}\n                              <div style={{\n                                fontSize: \"10px\",\n                                color: \"#64748b\",\n                                marginTop: \"6px\",\n                                textAlign: \"right\"\n                              }}>\n                                {formatMessageDate(\n                                  messageItem.date || selectedMessage.date,\n                                  messageItem.time || selectedMessage.time\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </>\n                )}\n              </div>\n\n              {/* Reply input */}\n              <div style={{\n                padding: \"14px 20px\",\n                borderTop: \"1px solid rgba(148,163,184,0.15)\",\n                background: \"rgba(15,23,42,0.6)\"\n              }}>\n                <div style={{ display: \"flex\", gap: \"10px\", alignItems: \"flex-end\" }}>\n                  <textarea\n                    value={replyText}\n                    onChange={(e) => setReplyText(e.target.value)}\n                    onKeyDown={handleKeyDown}\n                    placeholder=\"Введите сообщение...\"\n                    rows={1}\n                    style={{\n                      flex: 1,\n                      padding: \"10px 14px\",\n                      border: \"1px solid rgba(148,163,184,0.2)\",\n                      borderRadius: \"12px\",\n                      resize: \"none\",\n                      minHeight: \"42px\",\n                      maxHeight: \"120px\",\n                      background: \"rgba(15,23,42,0.6)\",\n                      color: \"#e2e8f0\",\n                      fontSize: \"14px\",\n                      lineHeight: \"1.4\",\n                      outline: \"none\",\n                      fontFamily: \"inherit\"\n                    }}\n                    onInput={(e) => {\n                      e.target.style.height = \"42px\";\n                      e.target.style.height = Math.min(e.target.scrollHeight, 120) + \"px\";\n                    }}\n                  />\n                  <button\n                    className=\"msg-send-btn\"\n                    onClick={sendReply}\n                    disabled={sending || !replyText.trim()}\n                    style={{\n                      padding: \"10px 20px\",\n                      background: sending\n                        ? \"rgba(34,197,94,0.4)\"\n                        : !replyText.trim()\n                          ? \"rgba(148,163,184,0.15)\"\n                          : \"linear-gradient(135deg, #22c55e, #16a34a)\",\n                      color: !replyText.trim() ? \"#64748b\" : \"white\",\n                      border: \"none\",\n                      borderRadius: \"12px\",\n                      cursor: sending || !replyText.trim() ? \"not-allowed\" : \"pointer\",\n                      whiteSpace: \"nowrap\",\n                      fontSize: \"14px\",\n                      fontWeight: 600,\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      gap: \"6px\",\n                      height: \"42px\",\n                      transition: \"all 0.15s ease\"\n                    }}\n                  >\n                    {sending ? (\n                      <>\n                        <Spinner size={14} color=\"#fff\" />\n                        <span>Отправка</span>\n                      </>\n                    ) : (\n                      <>\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                          <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\" />\n                          <polygon points=\"22 2 15 22 11 13 2 9 22 2\" />\n                        </svg>\n                        <span>Отправить</span>\n                      </>\n                    )}\n                  </button>\n                </div>\n                <div style={{ fontSize: \"11px\", color: \"#475569\", marginTop: \"6px\" }}>\n                  Enter для отправки, Shift+Enter для новой строки\n                </div>\n              </div>\n            </>\n          ) : (\n            // Empty state\n            <div style={{\n              flex: 1,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              color: \"#475569\"\n            }}>\n              <div style={{ textAlign: \"center\", maxWidth: \"280px\" }}>\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1\" style={{ margin: \"0 auto 16px\", display: \"block\", color: \"#334155\" }}>\n                  <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n                </svg>\n                <h3 style={{ margin: \"0 0 8px\", fontSize: \"16px\", color: \"#64748b\" }}>\n                  Выберите диалог\n                </h3>\n                <p style={{ margin: 0, fontSize: \"13px\", lineHeight: \"1.5\" }}>\n                  Выберите диалог из списка слева для просмотра сообщений и ответа\n                </p>\n              </div>\n            </div>\n          )}\n        </div>}\n      </div>\n    </>\n  );\n};\n\nexport default MessagesTab;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}